(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3446],{98076:function(e,t,s){"use strict";s.d(t,{e:function(){return p},r:function(){return _}});var a=s(52322),l=s(2784),r=s(49177),n=s(52897),i=s(18917),d=s(6887),o=s(86232),f=s(510),c=s(47930),u=s(43789),x=s(47324),h=s(7540),m=s(91206),j=s(95096),b=s(2509),g=s(9219);let v=e=>{var t;let{id:s,title:l}=e,{fungibleBalances:d=[]}=(0,x.ln)([s]),{data:c}=(0,h.D)(),m=(null===(t=null==d?void 0:d.find(e=>e.address===c.resourceAddresses.xrd))||void 0===t?void 0:t.amount)||"";return(0,a.jsxs)(o.qB,{value:s,children:[(0,a.jsxs)(i.x,{display:"flex",alignItems:"center",gap:"medium",children:[(0,a.jsx)(i.x,{flexShrink:0,children:(0,a.jsx)(n.J,{address:s})}),(0,a.jsxs)(i.x,{flexGrow:1,minWidth:0,children:[(0,a.jsxs)(u.Z,{truncate:!0,size:"small",children:[l," - ",(0,b.Q)(s)]}),(0,a.jsx)(r.BK,{value:Number.parseFloat(m)||0,maximumFractionDigits:18})," XRD"]})]}),(0,a.jsx)(o.nC,{children:(0,a.jsx)(f.Z,{})})]})},_=(0,l.forwardRef)((e,t)=>{let{value:s,onChange:r,styleVariant:f="tertiary",sizeVariant:x="xlarge",placeholder:h,hasError:g=!1,..._}=e,p=(0,m.i)(),y=(0,j.I)(),C=y[s],w=(null==C?void 0:C.name)||(0,b.Q)(s),Z=(0,l.useCallback)((e,t)=>{let{id:s,title:l}=t;return(0,a.jsx)(v,{id:s,title:l},s)},[]);return(0,a.jsx)(o.CS,{..._,ref:t,value:s,onValueChange:r,data:Object.values(p).map(e=>({id:e.address,title:e.name})),itemContentRenderer:Z,trigger:(0,a.jsx)(d.z,{styleVariant:g?"tertiary-error":f,sizeVariant:x,fullWidth:!0,leftIcon:!!w&&(0,a.jsx)(n.J,{address:s}),rightIcon:(0,a.jsx)(c.Z,{}),children:(0,a.jsx)(i.x,{display:"flex",alignItems:"center",width:"full",textAlign:"left",paddingLeft:"xsmall",children:(0,a.jsx)(u.Z,{size:"large",color:w?"strong":"neutral",truncate:!0,children:w||h})})})})}),p=(0,l.forwardRef)((e,t)=>{let{validate:s,name:l,label:r,...n}=e;return(0,a.jsx)(g.n,{name:l,label:r,validate:s,children:(0,a.jsx)(_,{...n,ref:t})})})},5535:function(e,t,s){"use strict";s.d(t,{O:function(){return Y}});var a=s(52322),l=s(6277),r=s(2784),n=s(49177),i=s(83112),d=s(18917),o=s(13154),f=s(43789),c=s(35305),u=s(73452),x=s(12132),h=s(70440),m=s(72580),j=s(9219);let b=(0,r.forwardRef)((e,t)=>{let{onChange:s,onInputChange:l,hasError:r,...n}=e;return(0,a.jsx)(m.I,{...n,type:"number",ref:t,onChange:e=>{let t=e.nativeEvent;!t.isComposing&&(s&&s(e.target.value),l&&l(e.target.value))},styleVariant:r?"primary-error":"primary"})}),g=(0,r.forwardRef)((e,t)=>{let{validate:s,name:l,label:r,onChange:n,...i}=e;return(0,a.jsx)(j.n,{name:l,label:r,validate:s,children:(0,a.jsx)(b,{...i,onInputChange:n,ref:t})})});var v=s(6887),_=s(47930),p=s(10455),y=s(68284),C=s(16803),w=s(47122),Z=s(94225),k=s(93138),M=s(9309),z=s(9305),I=s(90434),N=s(11633),V=s(86578),S=s(18717),A=s(36270),R=s(28694),q=s(38059),L=s(2509);s(41486),s(8144),s(9563),s(72467);let Q=(0,n.vU)({close:{id:"rbrahO",defaultMessage:"Close"},token_placeholder:{id:"i1L/jc",defaultMessage:"Search token..."},no_results_title:{id:"bsP4f3",defaultMessage:"No tokens found"},no_results_subtitle:{id:"QZa33P",defaultMessage:"Please refine search"}}),T=(e,t)=>t?e.filter(e=>{var s,a,l;let r=null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()),n=null===(a=e.address)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()),i=null===(l=e.symbol)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase());return r||n||i}):e,B=e=>{let{selected:t,address:s,onSelect:r}=e,n=(0,q.d0)(),{data:i}=(0,y.S)(s),o=(0,C.vK)("name",i),c=(0,C.vK)("symbol",i);return(0,a.jsx)(d.x,{value:s,className:"jmqsvy8 _5baftf6g _5baftf7a _5baftfed",children:(0,a.jsx)(d.x,{component:"button",className:(0,l.Z)("jmqsvya _5baftf6j _5baftf7d _5baftf7v _5baftf8p _5baftf9j _5baftfad _5baftfed _5baftfhl _5baftffd _5baftfg _5baftf1y _5baftffp _5baftfgi _5baftf14l _5baftf14g _5baftf4q2",s===t&&"jmqsvyb"),onClick:()=>{r(s)},children:(0,a.jsxs)(d.x,{className:"jmqsvyd _5baftfg _5baftf1y _5baftf2p _5baftfed",children:[(0,a.jsx)(p.H,{address:s,size:"large"}),(0,a.jsxs)(d.x,{className:"jmqsvyf _5baftfg _5baftf14 _5baftf2g _5baftfg8 _5baftfc1",children:[(0,a.jsx)(f.Z,{size:"medium",color:"strong",truncate:!0,children:c}),(0,a.jsx)(f.Z,{size:"small",truncate:!0,children:o})]}),(0,a.jsx)(d.x,{className:"jmqsvyh _5baftfg _5baftfg5",children:(0,a.jsx)(R.eE,{message:s,children:(0,a.jsx)(V.z,{leftIcon:(0,a.jsx)(z.Z,{}),styleVariant:"tertiary",sizeVariant:"small",to:"".concat(n,"/resource/").concat(s),target:"_blank",children:(0,L.Q)(s)})})})]})})})},E=e=>{let{trigger:t,resourceAddresses:s,tokenAddress:n,onTokenUpdate:o}=e,f=(0,i.Z)(),c=(0,r.useRef)(null),[u,x]=(0,r.useState)(null),[h,j]=(0,r.useState)(!1),[b,g]=(0,r.useState)(s),[v,_]=(0,r.useState)(!1),[p,y]=(0,r.useState)(""),[C]=(0,Z.Nr)(p,500),z=s.find(e=>e===n),q=e=>{o(e),_(!1)};(0,r.useEffect)(()=>{if((null==c?void 0:c.current)&&v){var e;null==c||null===(e=c.current)||void 0===e||e.focus()}v||j(!1)},[v,null==c?void 0:c.current]),(0,r.useEffect)(()=>{g(T(s,C))},[s,C]);let L=(0,r.useCallback)((e,t)=>(0,a.jsx)(B,{selected:z,address:t,onSelect:q},t),[q,z]);return(0,a.jsxs)(k.GR,{open:v,onOpenChange:e=>{_(e)},children:[(0,a.jsx)(k.hg,{asChild:!0,children:t}),(0,a.jsxs)(k.PK,{children:[(0,a.jsx)(k.t9,{className:A.mH}),(0,a.jsx)(k.cZ,{className:(0,l.Z)(A.Bg,"jmqsvy6"),children:(0,a.jsxs)(S.x,{isTopShadowVisible:!1,onScroll:e=>{let t=e.target,{scrollTop:s}=t;j(s>0)},scrollableNodeProps:{ref:x},children:[(0,a.jsx)(d.x,{className:(0,l.Z)("jmqsvy1 _5baftf3v _5baftf41 _5baftf47 _5baftf4d _5baftf4y _5baftf5s _5baftf6m _5baftf7g _5baftfa _5baftfg1 _5baftfed _5baftfg _5baftf14 _5baftf1y _5baftf2s _5baftf91 _5baftf14l _5baftfgs _5baftfh0 _5baftf3g _5baftf3rh _5baftffp _5baftfgb",h&&"jmqsvy3 _5baftf4nr"),children:(0,a.jsxs)(d.x,{display:"flex",width:"full",alignItems:"center",gap:"medium",children:[(0,a.jsx)(d.x,{flexGrow:1,children:(0,a.jsx)(m.I,{ref:c,value:p,styleVariant:"secondary",className:"jmqsvy5 _5baftfed",leftIcon:(0,a.jsx)(I.Z,{}),placeholder:f.formatMessage(Q.token_placeholder),onChange:e=>{let{value:t}=e.target;y(t)}})}),(0,a.jsx)(d.x,{flexShrink:0,display:"flex",justifyContent:"flex-end",gap:"small",children:(0,a.jsx)(R.eE,{message:f.formatMessage(Q.close),children:(0,a.jsx)(k.GG,{asChild:!0,children:(0,a.jsx)(V.z,{styleVariant:"ghost",sizeVariant:"medium",iconOnly:!0,children:(0,a.jsx)(N.Z,{})})})})})]})}),(0,a.jsxs)(d.x,{children:[(null==b?void 0:b.length)===0&&(0,a.jsx)(d.x,{display:"flex",alignItems:"center",justifyContent:"center",width:"full",paddingTop:"xxlarge",children:(0,a.jsx)(M.u,{title:f.formatMessage(Q.no_results_title),subTitle:f.formatMessage(Q.no_results_subtitle)})}),(0,a.jsx)(w.OO,{data:b,itemContent:L,customScrollParent:u})]})]})})]})]})};s(67577);let U=(0,r.forwardRef)((e,t)=>{let{value:s,resourceAddresses:l,hasError:r,onChange:n,onInputChange:i,...o}=e,c=l.find(e=>e===s),{data:u}=(0,y.S)(c),x=(0,C.vK)("name",u),h=(0,C.vK)("symbol",u);return(0,a.jsx)(E,{...o,tokenAddress:s,onTokenUpdate:e=>{n&&n(e),i&&i(e)},trigger:(0,a.jsx)(v.z,{ref:t,className:"_1tp8z9e1 _5baftf1",styleVariant:r?"tertiary-error":"tertiary",sizeVariant:"medium",rightIcon:(0,a.jsx)(_.Z,{}),leftIcon:(0,a.jsx)(d.x,{marginRight:"small",children:(0,a.jsx)(p.H,{size:"small",address:s})}),children:(0,a.jsx)(d.x,{display:"flex",alignItems:"center",width:"full",textAlign:"left",children:(0,a.jsx)(f.Z,{size:"medium",color:"strong",truncate:!0,children:h||x})})}),resourceAddresses:l})}),G=(0,r.forwardRef)((e,t)=>{let{validate:s,name:l,label:r,onChange:n,...i}=e;return(0,a.jsx)(j.n,{name:l,label:r,validate:s,children:(0,a.jsx)(U,{...i,onInputChange:n,ref:t})})});var K=s(53724),O=s(98471),P=s(51129);let D=[P.wA.USD,P.wA.EUR,P.wA.BTC];var H=s(2389),F=s(38465);let W=(0,n.vU)({favorite:{id:"5Hzwqs",defaultMessage:"Favorite"},reset:{id:"jm/spn",defaultMessage:"Reset"},label:{id:"55hdQy",defaultMessage:"Currency"}}),J=e=>{let{resourceAddress:t,amount:s}=e,n=(0,i.Z)(),{data:c}=(0,H.kQ)(),{currency:u}=(0,F.Z)(e=>({currency:e.currency})),[x,h]=(0,r.useState)(u);return(0,a.jsxs)(K.fp,{value:x,onValueChange:h,children:[(0,a.jsx)(K.i4,{asChild:!0,"aria-label":n.formatMessage(W.label),children:(0,a.jsxs)(d.x,{component:"button",display:"inline-flex",alignItems:"center",className:(0,l.Z)(o.h,o.V),children:[(0,a.jsx)(K.ki,{"aria-label":x,children:(0,a.jsx)(f.Z,{truncate:!0,size:"small",color:"inherit",children:(0,a.jsxs)(d.x,{display:"flex",children:[t&&(0,a.jsxs)(d.x,{component:"span",children:[(0,a.jsx)(O.G,{address:t,amount:s,currency:u}),"\xa0"]}),(0,a.jsx)(d.x,{component:"span",style:{textTransform:"uppercase"},children:x})]})})}),(0,a.jsx)(K.GV,{style:{height:"24px"},children:(0,a.jsx)(_.Z,{})})]})}),(0,a.jsxs)(K.Bw,{children:[(0,a.jsxs)(K.DI,{children:[(0,a.jsx)(K.n5,{children:(0,a.jsx)(f.Z,{truncate:!0,size:"small",children:n.formatMessage(W.favorite)})}),null==D?void 0:D.map(e=>(0,a.jsx)(K.Ql,{value:e,children:(0,a.jsx)(f.Z,{truncate:!0,size:"small",color:"strong",children:e.toUpperCase()})},e))]}),(0,a.jsx)(K.U$,{}),(0,a.jsxs)(K.DI,{children:[(0,a.jsx)(K.n5,{children:(0,a.jsx)(f.Z,{size:"small",children:n.formatMessage(W.reset)})}),null==c?void 0:c.map(e=>D.includes(e.toUpperCase())?null:(0,a.jsx)(K.Ql,{value:e,children:(0,a.jsx)(f.Z,{truncate:!0,size:"small",color:"strong",children:e.toUpperCase()})},e))]})]})]})};s(83668);let X=(0,n.vU)({amount_placeholder:{id:"/0TOL5",defaultMessage:"Amount"},max_amount:{id:"YhAIjG",defaultMessage:"Balance: {amount, number, ::.00################}"},divisibility:{defaultMessage:"Max allowed decimals: {divisibility, number}",id:"uhlXE7"}}),Y=(0,r.forwardRef)((e,t)=>{let s=(0,i.Z)(),{resourceAddresses:n,balances:m,amountKey:j="amount",resourceKey:b="address",onAmountChange:v,onTokenChange:_,disabledAmount:p,...y}=e,{onFieldChange:C}=(0,r.useContext)(u.q),{name:w}=(0,r.useContext)(x.z),Z=(0,h.K)("".concat(w).concat(w?".":"").concat(j)),k=(0,h.K)("".concat(w).concat(w?".":"").concat(b)),{data:M}=(0,c.pH)(k),z=null==M?void 0:M.details,I=(0,r.useMemo)(()=>n.find(e=>e===k),[n,k]),N=(0,r.useMemo)(()=>{var e;return(null===(e=m.find(e=>e.address===k))||void 0===e?void 0:e.amount)||0},[n,k]);return(0,a.jsxs)(d.x,{disabled:0===n.length,position:"relative",children:[(0,a.jsx)(g,{...y,disabled:p,step:(null==z?void 0:z.divisibility)>0?".".concat(Array(z.divisibility-1).fill("0").join(""),"1"):"1",ref:t,name:j,placeholder:s.formatMessage(X.amount_placeholder),sizeVariant:"large",validate:e=>(function(e){if(!e)return 0;let t=e.split(".");return t.length<2?0:e.split(".")[1].length})(e)>(null==z?void 0:z.divisibility)?s.formatMessage(X.divisibility,{divisibility:null==z?void 0:z.divisibility}):"",onChange:v}),(0,a.jsx)(G,{name:b,resourceAddresses:n,onChange:_}),(0,a.jsxs)(d.x,{display:"flex",justifyContent:"space-between",flexGrow:1,flexShrink:0,alignItems:"center",paddingTop:"xsmall",children:[(0,a.jsx)(d.x,{component:"button",display:"inline-flex",alignItems:"center",onClick:()=>{C("".concat(w).concat(w?".":"").concat(j),N)},className:(0,l.Z)(o.h,o.V,"azd3691 _5baftf4"),children:(0,a.jsx)(f.Z,{color:"inherit",size:"small",truncate:!0,children:s.formatMessage(X.max_amount,{amount:N})})}),(0,a.jsx)(J,{resourceAddress:I,amount:Z})]})]})})},68080:function(e,t,s){"use strict";var a=s(52322),l=s(2784);let r=l.forwardRef((e,t)=>{let{color:s="currentColor",...l}=e;return(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,ref:t,children:(0,a.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12.25 4.75H12A7.25 7.25 0 1 0 19.25 12v-.25m-2.25-7V7m0 0v2.25M17 7h2.25M17 7h-2.25"})})});t.Z=r},95096:function(e,t,s){"use strict";s.d(t,{I:function(){return d},T:function(){return i}});var a=s(2784),l=s(38059),r=s(91206),n=s(38465);let i=()=>{let e=(0,l.h9)(),{addressBook:t}=(0,n.Z)(t=>({addressBook:t.addressBook[e]}));return(0,a.useMemo)(()=>t||{},[t])},d=()=>{let e=(0,r.i)(),t=i();return{...t,...e}}},47843:function(e,t,s){"use strict";s.d(t,{p:function(){return d}});var a=s(10330),l=s(2784),r=s(38059),n=s(28340),i=s(38465);let d=()=>{let e=(0,n.R)(),t=(0,a.NL)(),s=(0,r.h9)(),{keystore:d}=(0,i.e)(e=>({keystore:e.keystores.find(t=>{let{id:s}=t;return s===e.selectedKeystoreId})}));return(0,l.useCallback)(a=>new Promise((l,r)=>{e.walletApi.sendTransaction(a).then(e=>{e.isErr()?r(e.error):(l(e.value),t.invalidateQueries(["useBalances",s]),t.invalidateQueries(["useAccountValues",s]),t.invalidateQueries(["useAccountNftVaults",s]),t.invalidateQueries(["useTransactions",s]))})}),[d,e])}},83668:function(){},72467:function(){},67577:function(){}}]);