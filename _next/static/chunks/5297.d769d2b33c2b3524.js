(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5297],{60091:function(e,t,n){var r=n(13940),s=n(41225),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var l=e[t];a.call(e,t)&&s(l,n)&&(void 0!==n||t in e)||r(e,t,n)}},82857:function(e,t,n){var r=n(60091),s=n(17297),a=n(39045),l=n(29259),o=n(33812);e.exports=function(e,t,n,i){if(!l(e))return e;t=s(t,e);for(var u=-1,c=t.length,f=c-1,d=e;null!=d&&++u<c;){var m=o(t[u]),x=n;if("__proto__"===m||"constructor"===m||"prototype"===m)break;if(u!=f){var g=d[m];void 0===(x=i?i(g,m,d):void 0)&&(x=l(g)?g:a(t[u+1])?[]:{})}r(d,m,x),d=d[m]}return e}},29078:function(e,t,n){var r=n(17297),s=n(56974),a=n(62721),l=n(33812);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[l(s(t))]}},62721:function(e,t,n){var r=n(13324),s=n(39872);e.exports=function(e,t){return t.length<2?e:r(e,s(t,0,-1))}},16765:function(e,t,n){var r=n(82857);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},17195:function(e,t,n){var r=n(29078);e.exports=function(e,t){return null==e||r(e,t)}},73452:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var r=n(2784);let s=r.createContext({isLoading:!1,values:{},errors:{},onFieldChange:()=>{}})},12132:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(2784);let s=r.createContext({name:"",value:void 0,onChange:()=>{}})},9219:function(e,t,n){"use strict";n.d(t,{n:function(){return d}});var r=n(52322),s=n(2784),a=n(60705),l=n(18917),o=n(2827),i=n(73452),u=n(52777),c=n(70440),f=n(12132);let d=e=>{let{validate:t,children:n,name:d,label:m,hidden:x}=e,{onFieldChange:g}=(0,s.useContext)(i.q),{name:v}=(0,s.useContext)(f.z),h="".concat(v?"".concat(v,"."):"").concat(d),p=(0,c.K)(h),y=(0,u.m)(h),[j,b]=(0,a.x)({error:""});(0,s.useEffect)(()=>{p||g(h,"")},[]),(0,s.useEffect)(()=>{let e=t?t(p):"";b(t=>{t.error=e})},[p]),(0,s.useEffect)(()=>{b(e=>{e.error=y.length>0?y[0]:""})},[y.length]);let _=e=>{g(h,e)};return(0,r.jsxs)(l.x,{display:x?"none":"block",children:[m&&(0,r.jsx)(l.x,{display:"flex",paddingBottom:"small",paddingTop:"large",children:m}),(0,r.jsx)(l.x,{width:"full",children:s.Children.map(n,e=>s.isValidElement(e)?s.cloneElement(e,{value:p,name:h,onChange:_,hasError:!!j.error}):e)}),(0,r.jsx)(l.x,{display:"flex",justifyContent:"space-between",children:(0,r.jsx)(o.d,{message:j.error})})]})}},36650:function(e,t,n){"use strict";n.d(t,{H:function(){return E}});var r=n(52322),s=n(2784),a=n(49177),l=n(83112),o=n(60705),i=n(18917),u=n(28694),c=n(2827),f=n(7101),d=n(73452),m=n(12132),x=n(52777),g=n(70440),v=n(6887);let h=(0,a.vU)({add:{id:"2/2yg+",defaultMessage:"Add"}}),p=()=>{let e=(0,l.Z)();return(0,r.jsx)(v.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,children:e.formatMessage(h.add)})},y=e=>{let{idx:t,name:n,children:a}=e,{name:l,...o}=(0,s.useContext)(m.z),i=(0,s.useMemo)(()=>({...o,name:"".concat(l?"".concat(l,"."):"").concat(n,"[").concat(t,"]")}),[l,n,t]);return(0,r.jsx)(m.z.Provider,{value:i,children:a})};n(41486),n(8144),n(9563),n(69576);var j=n(65098);let b=(0,a.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),_=()=>{let e=(0,l.Z)();return(0,r.jsx)(v.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,leftIcon:(0,r.jsx)(i.x,{marginLeft:"small",children:(0,r.jsx)(j.Z,{})}),children:e.formatMessage(b.remove)})},C=(0,a.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),k=[],E=e=>{let t=(0,l.Z)(),{name:n,children:a,className:v,trashTrigger:h=(0,r.jsx)(_,{}),addTrigger:j=(0,r.jsx)(p,{}),defaultKeys:b=0,maxKeys:E,ignoreTriggers:M}=e,{onFieldChange:z}=(0,s.useContext)(d.q),{name:L}=(0,s.useContext)(m.z),q="".concat(L?"".concat(L,"."):"").concat(n),O=(0,g.K)(q)||k,U=(0,x.m)(q)||k,[Z,w]=(0,o.x)({keys:Array.from({length:O.length||b},f.O),error:""});(0,s.useEffect)(()=>{let e=O.length-Z.keys.length;e>0&&w(t=>{t.keys=[...t.keys,...Array.from({length:e},f.O)]})},[O.length,Z.keys.length]),(0,s.useEffect)(()=>{w(e=>{e.error=U.length>0?U[0]:""})},[U.length]);let V=e=>{let t=Z.keys.findIndex(t=>t===e);if(t>-1){let e=[...O||[]];e.splice(t,1),z(q,e)}w(t=>{t.keys=[...t.keys.filter(t=>t!==e)],t.error=""})};return(0,r.jsxs)(i.x,{display:"flex",flexDirection:"column",gap:"xsmall",children:[(0,r.jsx)(i.x,{className:Z.error?"_1ozm8po1 _5baftf3a _5baftf3g _5baftf3m _5baftf3s _5baftf3v _5baftf41 _5baftf47 _5baftf4d _5baftf4s _5baftf5m _5baftf6g _5baftf7a _5baftf3iq _5baftfgi _5baftf1zi":void 0,children:Z.keys.map((e,l)=>(0,r.jsxs)(i.x,{className:v,position:"relative",children:[(0,r.jsx)(y,{idx:l,name:n,children:s.Children.map(a,e=>s.isValidElement(e)?s.cloneElement(e):e)}),!M&&l>=b&&(0,r.jsx)(u.eE,{message:t.formatMessage(C.remove),children:s.cloneElement(h,{onClick:()=>V(e)})})]},e))}),(0,r.jsx)(i.x,{display:"flex",justifyContent:"space-between",children:(0,r.jsx)(c.d,{message:Z.error})}),!M&&(!E||E>Z.keys.length)&&s.cloneElement(j,{onClick:()=>{E>0&&Z.keys.length>=E||w(e=>{e.keys=[...e.keys,(0,f.O)()],e.error=""})}})]})}},43207:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(52322),s=n(2784),a=n(18917),l=n(82087),o=n(73452);let i=e=>{let{children:t}=e,{isLoading:n}=(0,s.useContext)(o.q);return(0,r.jsx)(r.Fragment,{children:s.Children.map(t,e=>s.isValidElement(e)?s.cloneElement(e,{type:"submit",disabled:n,loading:n,rightIcon:n?(0,r.jsx)(a.x,{marginLeft:"small",children:(0,r.jsx)(l.Z,{})}):null}):e)})}},99040:function(e,t,n){"use strict";n.d(t,{l:function(){return p}});var r=n(52322),s=n(16765),a=n.n(s),l=n(17195),o=n.n(l),i=n(2784),u=n(49177),c=n(83112),f=n(60705),d=n(18917),m=n(2827),x=n(73452),g=n(12132);let v=(0,u.vU)({error:{id:"GtxE3T",defaultMessage:"Internal error{hasMessage, select,\n			true {: {message}}\n			other {, please try again}\n		}"}}),h={name:"",value:void 0,onChange:()=>{}},p=e=>{let{children:t,initialValues:n,errors:s={},onSubmit:l,onChange:u,...p}=e,y=(0,c.Z)(),[j,b]=(0,f.x)({error:"",isLoading:!1,values:n});(0,i.useEffect)(()=>{b(e=>{e.values=n})},[n]),(0,i.useEffect)(()=>{u&&u(j.values)},[j.values]);let _=(e,t)=>{b(n=>{let{values:r}=n;null===t?(o()(r,e),n.values=r):n.values=a()({...r},e,t)})},C=(0,i.useMemo)(()=>({...j,errors:s,onFieldChange:_}),[j.isLoading,j.values,s]);return(0,r.jsxs)(d.x,{...p,component:"form",onSubmit:e=>{e.preventDefault(),b(e=>{e.isLoading=!0}),l(j.values).catch(e=>{console.error(e),b(t=>{t.error=y.formatMessage(v.error,{hasMessage:!!(null==e?void 0:e.message),message:null==e?void 0:e.message})})}).finally(()=>{b(e=>{e.isLoading=!1})})},children:[(0,r.jsx)(m.d,{message:j.error}),(0,r.jsx)(x.q.Provider,{value:C,children:(0,r.jsx)(g.z.Provider,{value:h,children:t})})]})}},52777:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var r=n(76635),s=n(2784),a=n(73452);let l=e=>{let{errors:t}=(0,s.useContext)(a.q);return(0,s.useMemo)(()=>{var n;return(null===(n=(0,r.get)(t,e))||void 0===n?void 0:n._errors)||[]},[e,JSON.stringify(t)])}},70440:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(76635),s=n(2784),a=n(73452);let l=e=>{let{values:t}=(0,s.useContext)(a.q);return(0,s.useMemo)(()=>(0,r.get)(t,e),[e,JSON.stringify(t)])}},7101:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=()=>(null==crypto?void 0:crypto.randomUUID)?crypto.randomUUID():"".concat(Math.floor(Math.random()*Math.floor(Math.random()*Date.now())))},69576:function(){}}]);