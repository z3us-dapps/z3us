(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9622],{95886:function(e,s,a){"use strict";a.d(s,{H:function(){return _}});var n=a(52322),i=a(72579),t=a.n(i),l=a(2784),r=a(49177),d=a(83112),o=a(60705),u=a(18917),m=a(28694);let c=()=>(null==crypto?void 0:crypto.randomUUID)?crypto.randomUUID():"".concat(Math.floor(Math.random()*Math.floor(Math.random()*Date.now())));var f=a(2827),v=a(73452),g=a(12132),x=a(6887);let h=(0,r.vU)({add:{id:"2/2yg+",defaultMessage:"Add"}}),j=()=>{let e=(0,d.Z)();return(0,n.jsx)(x.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,children:e.formatMessage(h.add)})},p=e=>{let{idx:s,name:a,children:i}=e,{name:t,...r}=(0,l.useContext)(g.z),d=(0,l.useMemo)(()=>({...r,name:"".concat(t?"".concat(t,"."):"").concat(a,"[").concat(s,"]")}),[t,a,s]);return(0,n.jsx)(g.z.Provider,{value:d,children:i})};var y=a(65098);let M=(0,r.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),b=()=>{let e=(0,d.Z)();return(0,n.jsx)(x.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,leftIcon:(0,n.jsx)(u.x,{marginLeft:"small",children:(0,n.jsx)(y.Z,{})}),children:e.formatMessage(M.remove)})},k=(0,r.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),_=e=>{var s;let a=(0,d.Z)(),{name:i,children:r,className:x,trashTrigger:h=(0,n.jsx)(b,{}),addTrigger:y=(0,n.jsx)(j,{}),defaultKeys:M=0,ignoreTriggers:_}=e,{values:z,errors:w,onFieldChange:N}=(0,l.useContext)(v.q),{name:Z}=(0,l.useContext)(g.z),C="".concat(Z?"".concat(Z,"."):"").concat(i),[V,A]=(0,o.x)({keys:Array.from({length:(null==z?void 0:null===(s=z[C])||void 0===s?void 0:s.length)||M},c),error:""});(0,l.useEffect)(()=>{A(e=>{var s;let a=(null===(s=t()(w,C))||void 0===s?void 0:s._errors)||[];e.error=a.length>0?a[0]:""})},[w]);let L=e=>{let s=V.keys.findIndex(s=>s===e);if(s>-1){let e=[...(null==z?void 0:z[C])||[]];e.splice(s,1),N(C,e)}A(s=>{s.keys=s.keys.filter(s=>s!==e),s.error=""})};return(0,n.jsxs)(u.x,{children:[V.keys.map((e,s)=>(0,n.jsxs)(u.x,{className:x,position:"relative",children:[(0,n.jsx)(p,{idx:s,name:i,children:r}),!_&&s>=M&&(0,n.jsx)(m.eE,{message:a.formatMessage(k.remove),children:l.cloneElement(h,{onClick:()=>L(e)})})]},e)),(0,n.jsx)(u.x,{display:"flex",justifyContent:"space-between",children:(0,n.jsx)(f.d,{message:V.error})}),!_&&l.cloneElement(y,{onClick:()=>{A(e=>{e.keys=[...e.keys,c()],e.error=""})}})]})}},97101:function(e,s,a){"use strict";var n=a(52322),i=a(2784),t=a(53724),l=a(9219);let r=(0,i.forwardRef)((e,s)=>{let{onChange:a,value:i,hasError:l,...r}=e;return(0,n.jsx)(t.X4,{...r,ref:s,onValueChange:a,value:void 0!==i&&""!==i?i:void 0})}),d=(0,i.forwardRef)((e,s)=>{let{validate:a,name:i,label:t,...d}=e;return(0,n.jsx)(l.n,{name:i,label:t,validate:a,children:(0,n.jsx)(r,{...d,ref:s})})});s.ZP=d},13437:function(e,s,a){"use strict";var n=a(52322),i=a(2784);let t=i.forwardRef((e,s)=>{let{color:a="currentColor",...i}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:s,children:[(0,n.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),(0,n.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})});s.Z=t},42051:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return F}});var n=a(52322),i=a(2784),t=a(49177),l=a(83112),r=a(73557),d=a(60705),o=a(18917),u=a(6887),m=a(45362),c=a(71691),f=a(38465),v=a(51129),g=a(65703),x=a(66572),h=a(8522),j=a(89698),p=a(43789),y=a(2509);let M=(0,t.vU)({title:{id:"IipetU",defaultMessage:"Delete persona"},description:{id:"sKyGsm",defaultMessage:"Are you sure you want to delete {identityAddress} from wallet?"},button_text:{id:"K3r6DQ",defaultMessage:"Delete"},success_message:{id:"BiqE0f",defaultMessage:"Successfully deleted persona"}});var b=e=>{let{identityAddress:s,onClose:a}=e,i=(0,l.Z)(),t=(0,c.h)(),{remove:r}=(0,f.Z)(e=>({remove:e.removePersonaAction}));return(0,n.jsx)(j.ld,{open:!!s,title:i.formatMessage(M.title),description:(0,n.jsx)(o.x,{component:"span",children:(0,n.jsx)(p.Z,{truncate:!0,children:i.formatMessage(M.description,{identityAddress:(0,y.Q)(s)})})}),confirmButtonText:i.formatMessage(M.button_text),onCancel:a,onConfirm:()=>{r(t,s),h.A.success(i.formatMessage(M.success_message),{}),a()}})},k=a(21593),_=a(65475),z=a(65098),w=a(13437);a(41486),a(8144),a(66786),a(50168);let N=(0,t.vU)({delete:{id:"K3r6DQ",defaultMessage:"Delete"},edit:{id:"wEQDC6",defaultMessage:"Edit"}}),Z=e=>{let{row:s,onDelete:a,onEdit:i}=e,t=(0,l.Z)();return(0,n.jsxs)(o.x,{className:"r42ebc1 _5baftf4 _5baftfg _5baftf1v _5baftfg2 _5baftf2m",children:[(0,n.jsxs)(o.x,{className:"r42ebc3 _5baftfg5 _5baftfg _5baftf11 _5baftf1d _5baftf2d",children:[(0,n.jsx)(p.Z,{size:"small",color:"strong",weight:"medium",truncate:!0,children:s.original.label}),(0,n.jsx)(p.Z,{size:"xsmall",truncate:!0,children:s.original.identityAddress})]}),(0,n.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,n.jsx)(z.Z,{}),onClick:a,children:t.formatMessage(N.delete)}),(0,n.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,n.jsx)(w.Z,{}),onClick:i,children:t.formatMessage(N.edit)})]},s.original.identityAddress)},C=(0,t.vU)({header:{id:"HAlOn1",defaultMessage:"Name"}}),V=e=>{let{row:s,onEdit:a,onDelete:i}=e;return(0,n.jsx)(Z,{row:s,onEdit:()=>a(s.original.identityAddress),onDelete:()=>i(s.original.identityAddress)},s.original.identityAddress)},A=e=>{let{data:s,onEdit:a,onDelete:t}=e,r=(0,l.Z)(),{scrollableNode:d}=(0,k.v)(),o=(0,i.useMemo)(()=>[{Header:r.formatMessage(C.header),accessor:"name",width:"auto",Cell:V}],[a,t]);return(0,n.jsx)(_.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:d,data:s,columns:o,cellProps:{onEdit:a,onDelete:t}})};var L=a(93138),P=a(23554),E=a(99040),I=a(95886),D=a(97101),U=a(43207),R=a(72797);let W=i.forwardRef((e,s)=>{let{color:a="currentColor",...i}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:s,children:[(0,n.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 7.75C4.75 6.64543 5.64543 5.75 6.75 5.75H17.25C18.3546 5.75 19.25 6.64543 19.25 7.75V16.25C19.25 17.3546 18.3546 18.25 17.25 18.25H6.75C5.64543 18.25 4.75 17.3546 4.75 16.25V7.75Z"}),(0,n.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.5 6.5L12 12.25L18.5 6.5"})]})}),T=i.forwardRef((e,s)=>{let{color:a="currentColor",...i}=e;return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:s,children:(0,n.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.89286 4.75H6.06818C5.34017 4.75 4.75 5.34017 4.75 6.06818C4.75 13.3483 10.6517 19.25 17.9318 19.25C18.6598 19.25 19.25 18.6598 19.25 17.9318V15.1071L16.1429 13.0357L14.5317 14.6468C14.2519 14.9267 13.8337 15.0137 13.4821 14.8321C12.8858 14.524 11.9181 13.9452 10.9643 13.0357C9.98768 12.1045 9.41548 11.1011 9.12829 10.494C8.96734 10.1537 9.06052 9.76091 9.32669 9.49474L10.9643 7.85714L8.89286 4.75Z"})})});var H=a(86578),K=a(56089);let S=(0,t.vU)({form_button_title:{id:"wSZR47",defaultMessage:"Submit"},email_address:{id:"hJZwTS",defaultMessage:"Email address"},button_add_email_address:{id:"IbfkPE",defaultMessage:"Add email address"},validation_email:{id:"LPhKkU",defaultMessage:"Please select valid email"},phone_number:{id:"jdJhOL",defaultMessage:"Phone number"},button_add_phone_number:{id:"K2K+5t",defaultMessage:"Add phone number"},validation_phone_number:{id:"aY46qO",defaultMessage:"Please select valid phone number"},variant:{id:"5EhO92",defaultMessage:"Name variant"},western:{id:"bfLy10",defaultMessage:"Western"},eastern:{id:"sYQG1D",defaultMessage:"Eastern"},nickname:{id:"SBkvpf",defaultMessage:"Nickname"},given_names:{id:"de/sqY",defaultMessage:"Given names"},family_name:{id:"AeMjAR",defaultMessage:"Family name"}}),O=["western","eastern"];var q=e=>{var s,a,t,r,d,u,m,v;let{identityAddress:g,customValidationSchema:x,onSubmit:h}=e,j=(0,l.Z)(),p=(0,i.useRef)(null),y=(0,c.h)(),{personaIndexes:M}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[y]||{}})),[b,k]=(0,i.useState)(),_={names:[{variant:(null==M?void 0:null===(s=M[g])||void 0===s?void 0:s.nameVariant)||"western",nickname:(null==M?void 0:null===(a=M[g])||void 0===a?void 0:a.nickName)||"",givenNames:(null==M?void 0:null===(t=M[g])||void 0===t?void 0:t.givenNames)||"",familyName:(null==M?void 0:null===(r=M[g])||void 0===r?void 0:r.familyName)||""}],emailAddresses:(null==M?void 0:null===(d=M[g])||void 0===d?void 0:null===(u=d.emailAddresses)||void 0===u?void 0:u.map(e=>({email:e})))||[],phoneNumbers:(null==M?void 0:null===(m=M[g])||void 0===m?void 0:null===(v=m.phoneNumbers)||void 0===v?void 0:v.map(e=>({number:e})))||[]},w=(0,i.useMemo)(()=>{let e=P.z.object({email:P.z.string().min(1,j.formatMessage(S.validation_email))}),s=P.z.object({number:P.z.string().min(1,j.formatMessage(S.validation_phone_number))}),a={emailAddresses:P.z.array(e).or(P.z.undefined()),phoneNumbers:P.z.array(s).or(P.z.undefined()),names:P.z.array(P.z.object({variant:P.z.literal("western").or(P.z.literal("eastern")),givenNames:P.z.string().or(P.z.undefined()),familyName:P.z.string().or(P.z.undefined()),nickname:P.z.string().or(P.z.undefined())}))};return P.z.object(a)},[]);(0,i.useEffect)(()=>{var e;null==p||null===(e=p.current)||void 0===e||e.focus()},[]);let N=async e=>{k(void 0);let s=w.safeParse(e);if(!1===s.success){k(s.error);return}if(x){let s=x.safeParse(e);if(!1===s.success){k(s.error);return}}await h(e),k(void 0)};return(0,n.jsxs)(E.l,{onSubmit:N,initialValues:_,errors:null==b?void 0:b.format(),children:[(0,n.jsxs)(I.H,{name:"names",defaultKeys:1,ignoreTriggers:!0,children:[(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(D.ZP,{name:"variant",sizeVariant:"xlarge",fullWidth:!0,placeholder:j.formatMessage(S.variant),data:O.map(e=>({id:e,title:j.formatMessage(S[e])}))})}),(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",ref:p,name:"nickname",placeholder:j.formatMessage(S.nickname)})}),(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"givenNames",placeholder:j.formatMessage(S.given_names)})}),(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"familyName",placeholder:j.formatMessage(S.family_name)})})]}),(0,n.jsx)(I.H,{name:"emailAddresses",className:K.wU,defaultKeys:0,trashTrigger:(0,n.jsx)(H.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,n.jsx)(z.Z,{})}),addTrigger:(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(H.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,n.jsx)(W,{}),children:j.formatMessage(S.button_add_email_address)})}),children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"email",placeholder:j.formatMessage(S.email_address)})}),(0,n.jsx)(I.H,{name:"phoneNumbers",className:K.wU,defaultKeys:0,trashTrigger:(0,n.jsx)(H.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,n.jsx)(z.Z,{})}),addTrigger:(0,n.jsx)(o.x,{className:K.Ti,children:(0,n.jsx)(H.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,n.jsx)(T,{}),children:j.formatMessage(S.button_add_phone_number)})}),children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"number",placeholder:j.formatMessage(S.phone_number)})}),(0,n.jsx)(o.x,{className:K.fn,children:(0,n.jsx)(U.M,{children:(0,n.jsx)(H.z,{sizeVariant:"large",fullWidth:!0,children:j.formatMessage(S.form_button_title)})})})]})},B=a(95212);let Q=(0,t.vU)({title:{id:"y50Ejq",defaultMessage:"Persona details"},updated_toast:{id:"YcDkRR",defaultMessage:"Successfully updated persona details"},created_toast:{id:"PIWhuk",defaultMessage:"Successfully added new persona"},cancel:{id:"47FYwb",defaultMessage:"Cancel"}});var G=e=>{let{identityAddress:s,onClose:a}=e,i=(0,l.Z)(),t=(0,c.h)(),{buildNewPersonKeyParts:r}=(0,B.Q)(),{personaIndexes:d,addPersona:m}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[t]||{},addPersona:e.addPersonaAction})),v=async e=>{var n,l,o,u,c,f,v,g,x,j,p,y,M,b,k,_,z,w,N,Z,C,V;let A=null==d?void 0:d[s],L=[];(null===(n=e.names)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.givenNames)&&L.push(null===(z=e.names)||void 0===z?void 0:null===(w=z[0])||void 0===w?void 0:w.givenNames),(null===(o=e.names)||void 0===o?void 0:null===(u=o[0])||void 0===u?void 0:u.nickname)&&L.push('"'.concat(null===(N=e.names)||void 0===N?void 0:null===(Z=N[0])||void 0===Z?void 0:Z.nickname,'"')),(null===(c=e.names)||void 0===c?void 0:null===(f=c[0])||void 0===f?void 0:f.familyName)&&L.push(null===(C=e.names)||void 0===C?void 0:null===(V=C[0])||void 0===V?void 0:V.familyName);let P={label:L.length>0?L.join(" "):(null==A?void 0:A.label)||"",nickName:null===(v=e.names)||void 0===v?void 0:null===(g=v[0])||void 0===g?void 0:g.nickname,nameVariant:null===(x=e.names)||void 0===x?void 0:null===(j=x[0])||void 0===j?void 0:j.variant,givenNames:null===(p=e.names)||void 0===p?void 0:null===(y=p[0])||void 0===y?void 0:y.givenNames,familyName:null===(M=e.names)||void 0===M?void 0:null===(b=M[0])||void 0===b?void 0:b.familyName,emailAddresses:(null===(k=e.emailAddresses)||void 0===k?void 0:k.map(e=>{let{email:s}=e;return s}))||[],phoneNumbers:(null===(_=e.phoneNumbers)||void 0===_?void 0:_.map(e=>{let{number:s}=e;return s}))||[]};if(""===s){let e=await r();m(t,e.identityAddress,{...P,...e}),h.A.success(i.formatMessage(Q.created_toast),{})}else m(t,s,{...A||{},...P}),h.A.success(i.formatMessage(Q.updated_toast),{});a()};return(0,n.jsx)(L.Vq,{open:void 0!==s,onClose:a,children:(0,n.jsxs)(o.x,{padding:"large",display:"flex",flexDirection:"column",gap:"medium",children:[(0,n.jsx)(p.Z,{size:"xlarge",color:"strong",weight:"strong",children:i.formatMessage(Q.title)}),(0,n.jsx)(o.x,{display:"flex",flexDirection:"column",gap:"xsmall",children:(0,n.jsx)(q,{onSubmit:v,identityAddress:s})}),(0,n.jsx)(o.x,{children:(0,n.jsx)(u.z,{fullWidth:!0,sizeVariant:"large",styleVariant:"secondary",onClick:a,children:i.formatMessage(Q.cancel)})})]})})};let Y=(0,t.vU)({title:{id:"48INch",defaultMessage:"Personas"},subtitle:{id:"i+vOQd",defaultMessage:"Manage your Radix network identities"},new_persona:{id:"JsdfgN",defaultMessage:"New persona"}});var F=()=>{let e=(0,l.Z)(),s=(0,r.s0)(),a=(0,c.h)(),{keystore:t}=(0,f.e)(e=>({keystore:e.keystores.find(s=>{let{id:a}=s;return a===e.selectedKeystoreId})})),{personaIndexes:h}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[a]||{}})),[j,p]=(0,d.x)({personas:[],deleting:void 0,editing:void 0});(0,i.useEffect)(()=>{(null==t?void 0:t.type)!==v.nq.LOCAL&&(null==t?void 0:t.type)!==v.nq.HARDWARE&&s("/")},[t]),(0,i.useEffect)(()=>{p(e=>{e.personas=Object.values(h)})},[h]);let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p(s=>{s.editing=e})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x.e,{children:[(0,n.jsx)(g.A,{title:e.formatMessage(Y.title),subTitle:e.formatMessage(Y.subtitle)}),(0,n.jsxs)(o.x,{display:"flex",flexDirection:"column",gap:"small",children:[(0,n.jsx)(o.x,{paddingBottom:"medium",children:(0,n.jsx)(u.z,{styleVariant:"primary",leftIcon:(0,n.jsx)(m.Z,{}),onClick:()=>y(),children:e.formatMessage(Y.new_persona)})}),(0,n.jsx)(A,{data:j.personas,onEdit:y,onDelete:e=>{p(s=>{s.deleting=e})}})]})]}),(0,n.jsx)(b,{identityAddress:j.deleting,onClose:()=>{p(e=>{e.deleting=void 0})}}),(0,n.jsx)(G,{identityAddress:j.editing,onClose:()=>{p(e=>{e.editing=void 0})}})]})}},50168:function(){}}]);