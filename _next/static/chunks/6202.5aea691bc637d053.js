"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6202],{64664:function(e,l,s){s.d(l,{V:function(){return h}});var t=s(52322);s(2784);var a=s(83112),r=s(18917),i=s(12348),n=s(10455),d=s(28694),o=s(43789),c=s(26810),u=s(35305),m=s(16803),x=s(26494),g=s(2509);let h=e=>{var l,s,h;let{address:p,change:v,reversed:f,size:j="xlarge"}=e,N=(0,a.Z)(),{data:y,isLoading:w}=(0,u.pH)(p),b=(0,m.vK)("name",null==y?void 0:null===(l=y.metadata)||void 0===l?void 0:l.items),Z=(0,m.vK)("validator",null==y?void 0:null===(s=y.metadata)||void 0===s?void 0:s.items),M=(0,m.vK)("symbol",null==y?void 0:null===(h=y.metadata)||void 0===h?void 0:h.items);(null==y?void 0:y.details.type)==="FungibleResource"&&Z&&!M&&(M="LSU");let S=(null==M?void 0:M.toUpperCase())||b||(0,g.Q)(p);return w?(0,t.jsx)(i.hW,{}):(0,t.jsxs)(r.x,{display:"flex",flexDirection:f?"row-reverse":"row",gap:"small",alignItems:"center",children:[(0,t.jsx)(n.H,{address:p,size:j}),(0,t.jsxs)(r.x,{display:"flex",flexDirection:"column",flexShrink:0,children:[S&&(0,t.jsx)(o.Z,{align:f?"right":"left",color:"strong",weight:"medium",size:"xsmall",truncate:!0,children:S}),v&&(0,t.jsx)(d.eE,{message:v,children:(0,t.jsx)(r.x,{children:(0,t.jsx)(c.Z,{align:f?"right":"left",color:"strong",size:"xsmall",truncate:!0,change:v,children:N.formatNumber(v,{signDisplay:"exceptZero",...x.i})})})})]})]})}},28614:function(e,l,s){s.d(l,{i:function(){return f},u:function(){return j}});var t=s(52322),a=s(98567),r=s(6277),i=s(2784),n=s(87274),d=s(731),o=s(47122),c=s(9309),u=s(18917),m=s(47930);let x=i.forwardRef((e,l)=>{let{color:s="currentColor",...a}=e;return(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,ref:l,children:(0,t.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 14.25L12 10.75L8.75 14.25"})})});var g=s(82087),h=s(11285);let p={},v=()=>{},f=e=>{let{scrollableNode:l,isScrolledTop:s,className:c,sizeVariant:f="medium",styleVariant:j="primary",data:N,columns:y,selectedRowIds:w=p,loading:b=!1,loadMore:Z=!1,stickyShadowTop:M=!1,overscan:S=100,sort:_,headerProps:H,cellProps:C,onEndReached:k=v,onRowSelected:L=v}=e,[z,{top:E}]=(0,d.Z)(),[R,T]=(0,i.useState)(0),P=(0,i.useMemo)(()=>!_&&(null==y?void 0:y.length)?[{id:y[0].accessor,desc:!0}]:_,[_,y]),[F,B]=(0,i.useState)({sortBy:P,selectedRowIds:w}),{getTableProps:V,getTableBodyProps:D,headerGroups:W,rows:I,prepareRow:O,toggleAllRowsSelected:U,state:G}=(0,n.useTable)({columns:y,data:N,initialState:F},n.useSortBy,n.useRowSelect);(0,i.useEffect)(()=>{G&&B(G)},[G]);let A=()=>{U(!1)};(0,i.useEffect)(()=>{0===Object.keys(w).length&&A()},[w]);let K=(0,i.useMemo)(()=>({Table:e=>{let{style:l,...s}=e;return(0,t.jsx)("table",{...V(),...s,className:h.tZ({sizeVariant:f,styleVariant:j}),style:{...l}})},TableBody:i.forwardRef((e,l)=>(0,t.jsx)("tbody",{...D(),...e,ref:l})),TableRow:e=>{let l=e["data-index"],s=I[l],a=(null==s?void 0:s.getToggleRowSelectedProps)?null==s?void 0:s.getToggleRowSelectedProps():null;return(0,t.jsx)("tr",{onClick:e=>{A(),L(s),a&&a.onChange(e)},className:(0,r.Z)(h.QI({sizeVariant:f,styleVariant:j,isRowSelectable:!!L}),!b&&(null==a?void 0:a.checked)&&"tr-selected"),...e,...(null==s?void 0:s.getRowProps)?null==s?void 0:s.getRowProps():{}})},TableFoot:i.forwardRef((e,l)=>(0,t.jsx)("tfoot",{className:(0,r.Z)(h.Zr,Z&&h.do),...D(),...e,ref:l}))}),[b,Z,f,j,L,V,D,I]),X=(0,i.useMemo)(()=>(null==l?void 0:l.getBoundingClientRect())||{},[l]);(0,i.useEffect)(()=>{var e;let l=E-(null!==(e=null==X?void 0:X.top)&&void 0!==e?e:0);E&&E>0&&0===R&&T(l)},[null==X?void 0:X.top,E,R]);let q=(0,i.useCallback)(e=>{let l=I[e];return O(l),l.cells.map(e=>(0,t.jsx)("td",{className:(0,r.Z)(h._i({sizeVariant:f,styleVariant:j}),e.column.className),...e.getCellProps(),children:e.render("Cell",C)}))},[I,O,C]),Q=(0,i.useCallback)(()=>W.map(e=>(0,t.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,t.jsx)("th",{className:(0,r.Z)(h.ih({sizeVariant:f,styleVariant:j,loading:b}),e.className),...e.getHeaderProps(e.getSortByToggleProps()),style:{width:e.width},children:(0,t.jsxs)(u.x,{position:"relative",component:"span",display:"inline-flex",alignItems:"center",gap:"xsmall",children:[(0,t.jsx)(u.x,{component:"span",className:h.tn,children:e.render("Header",H)}),(0,t.jsx)(u.x,{component:"span",className:h.mg,children:e.isSorted?e.isSortedDesc?(0,t.jsx)(m.Z,{}):(0,t.jsx)(x,{}):""})]})}))})),[W,H]),$=(0,i.useCallback)(()=>W.map(e=>(0,t.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e,l)=>(0,t.jsx)("th",{className:e.className,...e.getHeaderProps(e.getSortByToggleProps()),style:{width:e.width},children:0===l?(0,t.jsx)(u.x,{color:"colorNeutral",className:h.F6,children:(0,t.jsx)(g.Z,{})}):(0,t.jsx)(u.x,{className:h.aZ,children:"\xa0"})}))})),[W]);return(0,t.jsx)(u.x,{ref:z,className:(0,r.Z)(h.X_,c),style:(0,a.L)({[h.R9]:"".concat(R,"px")}),children:(0,t.jsx)(o._n,{className:(0,r.Z)(h.Nl,b&&h.bq,M&&h.P$,!b&&M&&!s&&h.PO),overscan:{main:S,reverse:S},totalCount:I.length,customScrollParent:l,components:K,endReached:()=>{k()},fixedHeaderContent:Q,fixedFooterContent:$,itemContent:q})})},j=e=>{let{emptyStateTitle:l,emptyStateSubTitle:s,data:a,...r}=e;return(null==a?void 0:a.length)===0?(0,t.jsx)(u.x,{className:h.WL,children:(0,t.jsx)(c.u,{title:l,subTitle:s})}):(0,t.jsx)(f,{styleVariant:"primary",sizeVariant:"large",data:a,...r})}},16872:function(e,l,s){s.r(l),s.d(l,{default:function(){return G}});var t=s(52322),a=s(6277),r=s(2784),i=s(49177),n=s(83112),d=s(73557),o=s(39857),c=s(18917),u=s(72580),m=s(21593),x=s(28614),g=s(47324),h=s(67789),p=s(4897),v=s(12348),f=s(28694),j=s(43789),N=s(26494),y=s(35305);let w=e=>{let{row:{original:l}}=e,{validator:s}=l,i=(0,n.Z)(),{data:d,isLoading:o}=(0,y.pH)(s),u=(0,r.useMemo)(()=>d?Number.parseFloat(d.details.state.validator_fee_factor):0,[d]);return o?(0,t.jsx)(v.hW,{}):(0,t.jsx)(c.x,{className:p.fO,children:(0,t.jsx)(f.eE,{message:u,children:(0,t.jsx)(c.x,{className:(0,a.Z)(p.MV,"td-cell"),children:(0,t.jsx)(j.Z,{size:"small",color:u>.015?"red":u>0?"neutral":"green",truncate:!0,children:i.formatNumber(u,N.Bp)})})})})};var b=s(85056),Z=s(64664),M=s(96108),S=s(7540),_=s(16803),H=s(29155);let C=(0,b.gH)(0).value,k=(e,l)=>(null==e?void 0:e.fungible_resources.items.filter(e=>{let{resource_address:s}=e;return s===(null==l?void 0:l.resourceAddresses.xrd)}).reduce((l,s)=>{let{vaults:t}=s;return l.add(t.items.filter(l=>{let{vault_address:s}=l;return s===e.details.state.stake_xrd_vault.entity_address}).reduce((e,l)=>{let{amount:s}=l;return e.add((0,b.gH)(s).value)},C))},C))||C,L=e=>(null==e?void 0:e.reduce((e,l)=>{let{data:s}=l,t=null==s?void 0:s.programmatic_json,a=(0,_.R0)("claim_amount",null==t?void 0:t.fields);return e.add(a||0)},C))||C,z=e=>{for(let s=0;s<e.length;s+=1){var l;let t=e[s],a=null===(l=t.data)||void 0===l?void 0:l.programmatic_json,r=(0,_.R0)("claim_epoch",null==a?void 0:a.fields);if(void 0!==r)return(0,b.AW)(r).value}},E=e=>{let{row:{original:l}}=e,{amount:s,address:i,validator:d,ids:o,type:u}=l,m=(0,n.Z)(),{data:x,isLoading:g}=(0,y.pH)(d),{data:h,isLoading:w}=(0,y.pH)(i),{data:_,isLoading:C}=(0,S.D)(),{data:z=[]}=(0,M.W6)(i,o||[]),E=(0,r.useMemo)(()=>{if(u===H.Sn.FUNGIBLE){var e;let l=k(x,_);return(0,b.gH)(s).value.div((null===(e=null==h?void 0:h.details)||void 0===e?void 0:e.total_supply)||0).mul(l)}return L(z)},[u,s,x,h,_,z]);return g||w||C?(0,t.jsx)(v.hW,{}):(0,t.jsx)(c.x,{className:p.fO,children:(0,t.jsx)(c.x,{className:(0,a.Z)(p.MV,"td-cell"),children:(0,t.jsxs)(c.x,{display:"flex",flexDirection:"column",children:[(0,t.jsx)(f.eE,{message:s,children:(0,t.jsxs)(c.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,t.jsxs)(c.x,{display:"flex",flexShrink:0,children:[(0,t.jsx)(Z.V,{address:i,size:"small"})," \xa0-"," "]}),(0,t.jsx)(j.Z,{size:"small",color:"strong",truncate:!0,children:m.formatNumber(Number.parseFloat(s),N.i)})]})}),(0,t.jsx)(f.eE,{message:E.toString(),children:(0,t.jsxs)(c.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,t.jsxs)(c.x,{display:"flex",flexShrink:0,children:[(0,t.jsx)(Z.V,{address:_.resourceAddresses.xrd,size:"small"})," \xa0-"," "]}),(0,t.jsx)(j.Z,{size:"small",color:"strong",truncate:!0,children:m.formatNumber(E.toNumber(),N.i)})]})})]})})})};var R=s(10455),T=s(27146),P=s(38059);let F=(0,i.vU)({claim_in:{id:"P6NWR8",defaultMessage:"Ready to claim"}}),B=e=>{var l;let{value:s,row:{original:i}}=e,{amount:d,address:o,ids:u}=i,{data:m}=(0,P.sl)(),{data:x,isLoading:g}=(0,y.pH)(s),{data:h=[]}=(0,M.W6)(o,u||[]),w=(0,_.vK)("name",null==x?void 0:null===(l=x.metadata)||void 0===l?void 0:l.items),b=(0,r.useMemo)(()=>{if(!m)return;let e=z(h||[]);if(void 0===e)return;let l=(Number(e)-m.ledger_state.epoch)*3e5;return new Date(new Date().getTime()+l)},[m,h]),Z=(0,n.Z)();return g?(0,t.jsx)(v.hW,{}):(0,t.jsx)(c.x,{className:p.fO,children:(0,t.jsxs)(c.x,{className:(0,a.Z)(p.MV,"td-cell"),children:[(0,t.jsx)(R.H,{size:{mobile:"large",tablet:"large"},address:o,toolTipEnabled:!0}),(0,t.jsxs)(c.x,{display:"flex",flexDirection:"column",children:[(0,t.jsx)(f.eE,{side:"top",message:w,children:(0,t.jsx)(c.x,{children:(0,t.jsx)(j.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",children:w})})}),(0,t.jsx)(f.eE,{side:"top",message:d,children:(0,t.jsx)(c.x,{children:(0,t.jsx)(j.Z,{capitalizeFirstLetter:!0,size:"xsmall",truncate:!0,children:Z.formatNumber(Number.parseFloat(d),N.i)})})}),void 0!==b&&(0,t.jsx)(f.eE,{side:"top",message:Z.formatMessage(F.claim_in),children:(0,t.jsx)(c.x,{children:(0,t.jsx)(j.Z,{capitalizeFirstLetter:!0,size:"xsmall",truncate:!0,children:(0,t.jsx)(T.C,{date:b})})})})]})]})})};var V=s(26810),D=s(2389),W=s(44270),I=s(38465);let O=e=>{let{row:{original:l}}=e,{validator:s,address:i,amount:d,change:o,value:u,ids:m,type:x}=l,{currency:g}=(0,I.Z)(e=>({currency:e.currency})),h=(0,n.Z)(),{data:w,isLoading:Z}=(0,y.pH)(s),{data:_,isLoading:C}=(0,y.pH)(i),{data:z=[]}=(0,M.W6)(i,m||[]),{data:E,isLoading:R}=(0,D.qV)(g),{data:T,isLoading:P}=(0,S.D)(),{data:F,isLoading:B}=(0,W.d)(null==T?void 0:T.resourceAddresses.xrd),O=(0,r.useMemo)(()=>{if(x===H.Sn.FUNGIBLE){var e;let l=k(w,T);return(0,b.gH)(d).value.div((null===(e=null==_?void 0:_.details)||void 0===e?void 0:e.total_supply)||0).mul(l)}return L(z)},[x,d,w,_,T,z]),U=(0,r.useMemo)(()=>x===H.Sn.FUNGIBLE?u:O.mul(E||0).toNumber(),[u,O,E,F]),G=(0,r.useMemo)(()=>x===H.Sn.FUNGIBLE?o:F.price.usd.change,[o,F]);return Z||C||B||P||R?(0,t.jsx)(v.hW,{}):(0,t.jsx)(c.x,{className:p.fO,children:(0,t.jsx)(c.x,{className:(0,a.Z)(p.MV,"td-cell"),children:(0,t.jsxs)(c.x,{display:"flex",flexDirection:"column",children:[(0,t.jsx)(f.eE,{message:U,children:(0,t.jsx)(c.x,{children:(0,t.jsx)(j.Z,{size:"small",color:"strong",weight:"medium",align:"right",truncate:!0,children:h.formatNumber(U,{currency:g,...N.oj})})})}),(0,t.jsx)(V.Z,{change:G,capitalizeFirstLetter:!0,size:"xsmall",color:"strong",truncate:!0,weight:"medium",align:"right",children:G&&h.formatNumber(G,N.Bp)})]})})})},U=(0,i.vU)({validator:{id:"Ykb512",defaultMessage:"Validator"},fee:{id:"uT4OlP",defaultMessage:"Fee"},amount:{id:"H5+NAX",defaultMessage:"Balance"},value:{id:"GufXy5",defaultMessage:"Value"},empty_title:{id:"jHJmjf",defaultMessage:"No results"},empty_subtitle:{id:"5b2WMl",defaultMessage:"Could not find any liquidity pool tokens in this account"}});var G=()=>{let e=(0,n.Z)(),l=(0,d.s0)(),{scrollableNode:s,isScrolledTop:i}=(0,m.v)(),{accountId:v,resourceId:f}=(0,d.UO)(),[j]=(0,o.lr)(),[N,y]=(0,h.P)(),{liquidityPoolTokensBalances:b=[]}=(0,g.mN)(),Z=(0,r.useMemo)(()=>{let e=b.findIndex(e=>e.address===f);return e>=0?{[e]:!0}:{}},[f,b]),M=(0,r.useMemo)(()=>[{Header:e.formatMessage(U.validator),accessor:"validator",width:"40%",Cell:B},{Header:e.formatMessage(U.fee),accessor:"address",width:"10%",Cell:w},{Header:e.formatMessage(U.value),accessor:"value",width:"15%",Cell:O},{Header:e.formatMessage(U.amount),accessor:"amount",width:"auto",Cell:E}],[]);return(0,t.jsxs)(c.x,{className:(0,a.Z)(p.X_,p.$),children:["development"===(void 0).MODE&&(0,t.jsx)(u.I,{value:N?N.toISOString().split("T")[0]:void 0,type:"date",onChange:e=>{let l=e.nativeEvent;l.isComposing||(e.target.value?y(new Date(e.target.value)):y(void 0))}}),(0,t.jsx)(x.u,{emptyStateTitle:e.formatMessage(U.empty_title),emptyStateSubTitle:e.formatMessage(U.empty_subtitle),styleVariant:"primary",sizeVariant:"large",scrollableNode:null!=s?s:void 0,data:b,columns:M,isScrolledTop:i,onRowSelected:e=>{let{original:s}=e;l("/accounts/".concat(v,"/lsus/").concat(s.address,"?").concat(j))},selectedRowIds:Z,stickyShadowTop:!0})]})}}}]);