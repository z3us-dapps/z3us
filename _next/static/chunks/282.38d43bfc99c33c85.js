(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{95096:function(e,s,t){"use strict";t.d(s,{I:function(){return n},T:function(){return r}});var a=t(2784),l=t(71691),i=t(91206),d=t(38465);let r=()=>{let e=(0,l.h)(),{addressBook:s}=(0,d.Z)(s=>({addressBook:s.addressBook[e]}));return(0,a.useMemo)(()=>s||{},[s])},n=()=>{let e=(0,i.i)(),s=r();return{...s,...e}}},46125:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return H}});var a=t(52322),l=t(2784),i=t(49177),d=t(83112),r=t(73557),n=t(60705),o=t(71691),c=t(38465);let u=()=>{let e=(0,o.h)(),{approvedDapps:s}=(0,c.Z)(s=>({approvedDapps:s.approvedDapps[e]}));return(0,l.useMemo)(()=>s||{},[s])};var f=t(51129),m=t(65703),g=t(66572),x=t(8522),p=t(89698),v=t(43789),h=t(16163),j=t(16803);let _=(0,i.vU)({title:{id:"KUFMiM",defaultMessage:"Revoke access"},description:{id:"NcTNMr",defaultMessage:"Are you sure you want to revoke {dappName} access?"},button_text:{id:"tnRDuU",defaultMessage:"Revoke"},success_message:{id:"ND6jOK",defaultMessage:"Successfully revoked access"}});var b=e=>{var s;let{address:t,onClose:l}=e,i=(0,d.Z)(),r=(0,o.h)(),{data:n}=(0,h.p)(t),u=(0,j.vK)("name",null==n?void 0:null===(s=n.metadata)||void 0===s?void 0:s.items),{remove:f}=(0,c.Z)(e=>({remove:e.forgetDappAction}));return(0,a.jsx)(p.ld,{open:!!t,title:i.formatMessage(_.title),description:(0,a.jsx)(v.Z,{truncate:!0,children:i.formatMessage(_.description,{dappName:u})}),confirmButtonText:i.formatMessage(_.button_text),onCancel:l,onConfirm:()=>{f(r,t),x.A.success(i.formatMessage(_.success_message),{}),l()}})},M=t(21593),z=t(65475),Z=t(6277),k=t(18917),y=t(6887),A=t(65098),w=t(91095),N=t(12348),D=t(10455),K=t(28694),C=t(95096),I=t(2509);let O=e=>{var s,t,l,i;let{address:d,reversed:r}=e,{data:n,isLoading:o}=(0,h.p)(d),c=(0,C.I)(),u=(0,j.vK)("name",null==n?void 0:null===(s=n.metadata)||void 0===s?void 0:s.items),f=(0,j.vK)("dapp_definition",null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.items),{data:m}=(0,h.p)(f),g=(0,j.vK)("name",null==m?void 0:null===(l=m.metadata)||void 0===l?void 0:l.items),x=f||d,p=(null===(i=c[d])||void 0===i?void 0:i.name)||g||u;return o?(0,a.jsx)(N.hW,{}):(0,a.jsxs)(k.x,{display:"flex",flexDirection:r?"row-reverse":"row",gap:"medium",alignItems:"center",children:[c[d]?(0,a.jsx)(w.Cs,{address:x}):(0,a.jsx)(D.H,{address:x,size:"xlarge"}),(0,a.jsxs)(k.x,{display:"flex",flexDirection:"column",children:[p&&(0,a.jsx)(k.x,{paddingRight:"large",children:(0,a.jsx)(v.Z,{align:r?"right":"left",color:"strong",weight:"medium",size:"small",truncate:!0,children:p})}),(0,a.jsx)(K.eE,{message:d,children:(0,a.jsx)(k.x,{children:(0,a.jsx)(v.Z,{align:r?"right":"left",color:"strong",size:"xsmall",truncate:!0,children:(0,I.Q)(d)})})})]})]})};t(41486),t(8144),t(9563),t(97913);var U="ze7b1i3 _5baftfg5 _5baftfg _5baftf14 _5baftf1g _5baftf2m _5baftfed";let R=(0,i.vU)({table_cell_dapp_title:{id:"YjOAs/",defaultMessage:"dApp"},persona:{id:"JGu6zs",defaultMessage:"Persona"},accounts:{id:"pQOchI",defaultMessage:"Selected accounts"},delete:{id:"KUFMiM",defaultMessage:"Revoke access"}}),T=e=>{let{row:s,onDelete:t}=e,l=(0,d.Z)();return(0,a.jsxs)(k.x,{className:"ze7b1i1 _5baftf4 _5baftfg _5baftf14 _5baftfz _5baftf24 _5baftf1z _5baftfg5 _5baftf2p _5baftfdd",children:[(0,a.jsxs)(k.x,{className:U,children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(R.table_cell_dapp_title)}),(0,a.jsx)(O,{address:s.original.address})]}),(0,a.jsxs)(k.x,{className:U,children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(R.persona)}),(0,a.jsx)(O,{address:s.original.persona})]}),(0,a.jsxs)(k.x,{className:(0,Z.Z)(U,"ze7b1i5 ze7b1i4"),children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(R.accounts)}),(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:s.original.accounts.map(e=>(0,a.jsx)(O,{address:e},e))})]}),(0,a.jsx)(y.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,a.jsx)(A.Z,{}),onClick:t,children:l.formatMessage(R.delete)})]},s.original.address)},E=(0,i.vU)({header:{id:"YjOAs/",defaultMessage:"dApp"}}),V=e=>{let{row:s,onDelete:t}=e;return(0,a.jsx)(T,{row:s,onDelete:()=>t(s.original.address)},s.original.address)},B=e=>{let{data:s,onDelete:t}=e,i=(0,d.Z)(),{scrollableNode:r}=(0,M.v)(),n=(0,l.useMemo)(()=>[{Header:i.formatMessage(E.header),accessor:"address",width:"auto",Cell:V}],[t]);return(0,a.jsx)(z.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:r,data:Object.keys(s).map(e=>({...s[e],address:e})),columns:n,cellProps:{onDelete:t}})},F=(0,i.vU)({title:{id:"xhTCHJ",defaultMessage:"Authorized dApps"},subtitle:{id:"Oo+KOv",defaultMessage:"Authorized dApps that you have logged into."}});var H=()=>{let e=(0,d.Z)(),s=(0,r.s0)(),t=u(),{keystore:i}=(0,c.e)(e=>({keystore:e.keystores.find(s=>{let{id:t}=s;return t===e.selectedKeystoreId})})),[o,x]=(0,n.x)({deleting:void 0});return(0,l.useEffect)(()=>{(null==i?void 0:i.type)===f.nq.RADIX_WALLET&&s("/")},[i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.e,{children:[(0,a.jsx)(m.A,{title:e.formatMessage(F.title),subTitle:e.formatMessage(F.subtitle)}),(0,a.jsx)(B,{data:t,onDelete:e=>{x(s=>{s.deleting=e})}})]}),(0,a.jsx)(b,{address:o.deleting,onClose:()=>{x(e=>{e.deleting=void 0})}})]})}},97913:function(){}}]);