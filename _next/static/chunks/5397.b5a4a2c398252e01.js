(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5397],{64664:function(e,a,t){"use strict";t.d(a,{V:function(){return g}});var s=t(52322);t(2784);var l=t(83112),i=t(18917),r=t(12348),d=t(10455),n=t(28694),c=t(43789),u=t(26810),o=t(16163),m=t(16803),f=t(2509);let g=e=>{var a,t;let{address:g,change:x,reversed:h,size:b="xlarge"}=e,v=(0,l.Z)(),{data:_,isLoading:j}=(0,o.p)(g),p=(0,m.vK)("name",null==_?void 0:null===(a=_.metadata)||void 0===a?void 0:a.items),y=(0,m.vK)("symbol",null==_?void 0:null===(t=_.metadata)||void 0===t?void 0:t.items),N=(null==y?void 0:y.toUpperCase())||p||(0,f.Q)(g),w=x?v.formatNumber(x,{style:"decimal",maximumFractionDigits:18,signDisplay:"always"}):"";return j?(0,s.jsx)(r.hW,{}):(0,s.jsxs)(i.x,{display:"flex",flexDirection:h?"row-reverse":"row",gap:"small",alignItems:"center",children:[(0,s.jsx)(d.H,{address:g,size:b}),(0,s.jsxs)(i.x,{display:"flex",flexDirection:"column",flexShrink:0,children:[N&&(0,s.jsx)(c.Z,{align:h?"right":"left",color:"strong",weight:"medium",size:"xsmall",truncate:!0,children:N}),x&&(0,s.jsx)(n.eE,{message:w,children:(0,s.jsx)(i.x,{children:(0,s.jsx)(u.Z,{align:h?"right":"left",color:"strong",size:"xsmall",truncate:!0,change:x,children:w})})})]})]})}},12966:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return L}});var s=t(52322),l=t(2784),i=t(49177),r=t(83112),d=t(73557),n=t(39857),c=t(18917),u=t(21593),o=t(65475),m=t(41333),f=t(91206),g=t(68220),x=t(85056),h=t(6277),b=t(12348),v=t(10455),_=t(64664),j=t(28694),p=t(43789),y=t(26810),N=t(16163),w=t(38465),M=t(16803);t(41486),t(8144),t(66786),t(17215);var z="_1giim4ad _5baftfda _5baftfg _5baftf11 _5baftf2g",H="_1giim4ab _5baftfg _5baftfe _5baftf11 _5baftfg5 _5baftf1y";let Z=e=>{var a;let{value:t,row:{original:i}}=e,{pool:d,amount:n,change:u,value:o}=i,m=(0,r.Z)(),{currency:f}=(0,w.Z)(e=>({currency:e.currency})),{data:g,isLoading:Z}=(0,N.p)(t),{data:C,isLoading:k}=(0,N.p)(d),F=(0,M.vK)("name",null==g?void 0:null===(a=g.metadata)||void 0===a?void 0:a.items),S=(0,l.useMemo)(()=>null==C?void 0:C.fungible_resources.items.reduce((e,a)=>{let{resource_address:t,vaults:s}=a;return e[t]=s.items.reduce((e,a)=>{let{amount:t}=a;return e.add((0,x.gH)(t).value)},(0,x.gH)(0).value).add(e[t]||0),e},{}),[C]),D=(0,l.useMemo)(()=>{var e;return(0,x.gH)(n).value.div((null===(e=null==g?void 0:g.details)||void 0===e?void 0:e.total_supply)||0)},[n,g]);return Z||k?(0,s.jsx)(b.hW,{}):(0,s.jsx)(c.x,{className:"_1giim4a1 _5baftf4",children:(0,s.jsxs)(c.x,{className:(0,h.Z)("_1giim4a3 _5baftf4 _5baftfg _5baftf1v _5baftffm _5baftf2j","td-cell"),children:[(0,s.jsx)(v.H,{size:{mobile:"large",tablet:"large"},address:t}),(0,s.jsxs)(c.x,{className:"_1giim4a7 _5baftfg _5baftf2m _5baftf1v _5baftfg5",children:[(0,s.jsxs)(c.x,{className:"_1giim4a9 _5baftfg _5baftf11 _5baftfg5",children:[(0,s.jsx)(j.eE,{message:F,children:(0,s.jsx)(c.x,{children:(0,s.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",children:F})})}),n&&(0,s.jsx)(c.x,{children:(0,s.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"xsmall",truncate:!0,className:"_1giim4af _5baftfg _5baftfe",children:m.formatNumber(Number.parseFloat(n),{style:"decimal",maximumFractionDigits:18})})})]}),(0,s.jsx)(c.x,{className:H,children:(0,s.jsx)(c.x,{className:z,children:Object.keys(S).map(e=>{let a=m.formatNumber(D.mul(S[e]).toNumber(),{style:"decimal",maximumFractionDigits:18});return(0,s.jsx)(j.eE,{message:a,children:(0,s.jsxs)(c.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,s.jsxs)(c.x,{display:"flex",flexShrink:0,children:[(0,s.jsx)(_.V,{address:e,size:"small"})," \xa0-"," "]}),(0,s.jsx)(p.Z,{size:"small",color:"strong",truncate:!0,children:a})]})},e)})})}),(0,s.jsx)(c.x,{className:H,children:(0,s.jsxs)(c.x,{className:z,children:[(0,s.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",align:"right",children:o&&m.formatNumber(o,{style:"currency",currency:f})}),(0,s.jsx)(y.Z,{change:u,capitalizeFirstLetter:!0,size:"xsmall",color:"strong",truncate:!0,weight:"medium",align:"right",children:u&&m.formatNumber(u,{style:"percent",maximumFractionDigits:2})})]})})]})]})})};var C=t(4897),k=t(51095),F=t(23317);t(63426);let S=e=>{let{row:{original:a}}=e,{pool:t,amount:i,address:d}=a,n=(0,r.Z)(),{data:u}=(0,N.p)(d),{data:o,isLoading:m}=(0,N.p)(t),f=(0,l.useMemo)(()=>null==o?void 0:o.fungible_resources.items.reduce((e,a)=>{let{resource_address:t,vaults:s}=a;return e[t]=s.items.reduce((e,a)=>{let{amount:t}=a;return e.add((0,x.gH)(t).value)},(0,x.gH)(0).value).add(e[t]||0),e},{}),[o]),g=(0,l.useMemo)(()=>{var e;return(0,x.gH)(i).value.div((null===(e=null==u?void 0:u.details)||void 0===e?void 0:e.total_supply)||0)},[i,u]);return m?(0,s.jsx)(b.hW,{}):(0,s.jsx)(c.x,{className:"f4797i1 _5baftf4",children:(0,s.jsx)(c.x,{className:(0,h.Z)("f4797i3 _5baftf4 _5baftfg _5baftf1v _5baftffm _5baftf11 _5baftf2g","td-cell"),children:Object.keys(f).map(e=>{let a=n.formatNumber(g.mul(f[e]).toNumber(),{style:"decimal",maximumFractionDigits:18});return(0,s.jsx)(j.eE,{message:a,children:(0,s.jsxs)(c.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,s.jsxs)(c.x,{display:"flex",flexShrink:0,children:[(0,s.jsx)(_.V,{address:e,size:"small"})," \xa0-"," "]}),(0,s.jsx)(p.Z,{size:"small",color:"strong",truncate:!0,children:a})]})},e)})})})},D=(0,i.vU)({address:{id:"+ZvWOP",defaultMessage:"Pool Unit"},pool:{id:"11oARw",defaultMessage:"Pool"},amount:{id:"H5+NAX",defaultMessage:"Balance"},value:{id:"GufXy5",defaultMessage:"Value"},change:{id:"BY343C",defaultMessage:"Change"},liquidity:{id:"ctieLo",defaultMessage:"Liquidity"},empty_title:{id:"jHJmjf",defaultMessage:"No results"},empty_subtitle:{id:"7EL6GH",defaultMessage:"Could not find any pool units in this account"}});var L=()=>{let e=(0,r.Z)(),a=(0,d.s0)(),{scrollableNode:t,isScrolledTop:i}=(0,u.v)(),{accountId:x,resourceId:h}=(0,d.UO)(),[b]=(0,n.lr)(),v=(0,f.H)(),{data:_,isLoading:j}=(0,m.ln)(...v),{poolUnitsBalances:p=[]}=_||{},y=(0,l.useMemo)(()=>{let e=p.findIndex(e=>e.address===h);return e>=0?{[e]:!0}:{}},[h,p]),N=(0,l.useMemo)(()=>[{Header:e.formatMessage(D.address),accessor:"address",width:"20%",Cell:Z},{Header:e.formatMessage(D.amount),accessor:"amount",width:"auto",Cell:g.a},{Header:e.formatMessage(D.value),accessor:"value",width:"12%",Cell:F.g},{Header:e.formatMessage(D.liquidity),accessor:"vaults",width:"auto",Cell:S},{Header:e.formatMessage(D.change),accessor:"change",width:"12%",Cell:k.V}],[]);return(0,s.jsx)(c.x,{className:C.X,children:(0,s.jsx)(o.u,{emptyStateTitle:e.formatMessage(D.empty_title),emptyStateSubTitle:e.formatMessage(D.empty_subtitle),styleVariant:"primary",sizeVariant:"large",scrollableNode:null!=t?t:void 0,data:p,columns:N,isScrolledTop:i,onRowSelected:e=>{let{original:t}=e;a("/accounts/".concat(x,"/pool-units/").concat(t.address,"?").concat(b))},loading:j,selectedRowIds:y,stickyShadowTop:!0})})}},17215:function(){},63426:function(){}}]);