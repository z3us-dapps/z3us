"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8580],{86712:function(e,t,n){n.d(t,{Kf_:function(){return uP},OF6:function(){return o2},XdC:function(){return uC}}),n(34406);var r,a,i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function c(e,t,n){if(n||2==arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function p(e){return"function"==typeof e}function h(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var f=h(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,t){return t+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function m(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var s=u(i),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this)}var d=this.initialTeardown;if(p(d))try{d()}catch(e){a=e instanceof f?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=u(h),_=m.next();!_.done;_=m.next()){var y=_.value;try{g(y)}catch(e){a=a??[],e instanceof f?a=c(c([],l(a)),l(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{_&&!_.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}}if(a)throw new f(a)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)g(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&m(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&m(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),y=_.EMPTY;function v(e){return e instanceof _||e&&"closed"in e&&p(e.remove)&&p(e.add)&&p(e.unsubscribe)}function g(e){p(e)?e():e.unsubscribe()}var b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=w.delegate;return null!=a&&a.setTimeout?a.setTimeout.apply(a,c([e,t],l(n))):setTimeout.apply(void 0,c([e,t],l(n)))},clearTimeout:function(e){var t=w.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function x(e){w.setTimeout(function(){throw e})}function k(){}var S=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,v(t)&&t.add(n)):n.destination=O,n}return s(t,e),t.create=function(e,t,n){return new R(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_),T=Function.prototype.bind;function P(e,t){return T.call(e,t)}var C=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){x(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){x(e)}else x(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){x(e)}},e}(),R=function(e){function t(t,n,r){var a,i,s=e.call(this)||this;return p(t)||!t?i={next:t??void 0,error:n??void 0,complete:r??void 0}:s&&b.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&P(t.next,a),error:t.error&&P(t.error,a),complete:t.complete&&P(t.complete,a)}):i=t,s.destination=new C(i),s}return s(t,e),t}(S),O={closed:!0,next:k,error:function(e){throw e},complete:k},E="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(e){return e}var I=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a,i,s=(r=e)&&r instanceof S||r&&p(r.next)&&p(r.error)&&p(r.complete)&&v(r)?e:new R(e,t,n);return a=this.operator,i=this.source,s.add(a?a.call(s,i):i?this._subscribe(s):this._trySubscribe(s)),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=N(t))(function(t,r){var a=new R({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[E]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?A:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=N(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function N(e){var t;return null!==(t=e??b.Promise)&&void 0!==t?t:Promise}function q(e){return function(t){if(p(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function j(e,t,n,r,a){return new D(e,t,n,r,a)}var D=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t)||this;return o.onFinalize=i,o.shouldUnsubscribe=s,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return s(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(S),Z=h(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),F=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return s(t,e),t.prototype.lift=function(e){var t=new U(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Z},t.prototype.next=function(e){var t=this;(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=u(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}})()},t.prototype.error=function(e){var t=this;(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})()},t.prototype.complete=function(){var e=this;(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})()},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,a=this.observers;return n||r?y:(this.currentObservers=null,a.push(e),new _(function(){t.currentObservers=null,m(a,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new I;return e.source=this,e},t.create=function(e,t){return new U(e,t)},t}(I),U=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return s(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:y},t}(F),z=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n.closed||t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(F),L={now:function(){return(L.delegate||Date).now()},delegate:void 0},$=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=L);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=n,a._timestampProvider=r,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,n),a}return s(t,e),t.prototype.next=function(t){var n=this.isStopped,r=this._buffer,a=this._infiniteTimeWindow,i=this._timestampProvider,s=this._windowTime;n||(r.push(t),a||r.push(i.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer,a=r.slice(),i=0;i<a.length&&!e.closed;i+=n?1:2)e.next(a[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,a=(r?1:2)*e;if(e<1/0&&a<n.length&&n.splice(0,n.length-a),!r){for(var i=t.now(),s=0,o=1;o<n.length&&n[o]<=i;o+=2)s=o;s&&n.splice(0,s+1)}},t}(F),V=function(e){function t(t,n){return e.call(this)||this}return s(t,e),t.prototype.schedule=function(e,t){return this},t}(_),M={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=M.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,c([e,t],l(n))):setInterval.apply(void 0,c([e,t],l(n)))},clearInterval:function(e){var t=M.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},B=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return s(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),M.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&M.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,m(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(V),W=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=L.now,e}(),K=new(function(e){function t(t,n){void 0===n&&(n=W.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return s(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(W))(B),G=new I(function(e){return e.complete()});function H(e){return e&&p(e.schedule)}function J(e){return e[e.length-1]}function Y(e){return p(J(e))?e.pop():void 0}function X(e){return H(J(e))?e.pop():void 0}var Q=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ee(e){return p(null==e?void 0:e.then)}function et(e){return Symbol.asyncIterator&&p(null==e?void 0:e[Symbol.asyncIterator])}function en(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var er="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ea(e){return p(null==e?void 0:e[er])}function ei(e){return function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{var n;(n=a[e](t)).value instanceof d?Promise.resolve(n.value.v).then(u,l):c(i[0][2],n)}catch(e){c(i[0][3],e)}}function u(e){o("next",e)}function l(e){o("throw",e)}function c(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,function(){var t,n,r;return o(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,d(t.read())];case 3:return r=(n=a.sent()).value,n.done?[4,d(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,d(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function es(e){return p(null==e?void 0:e.getReader)}function eo(e){if(e instanceof I)return e;if(null!=e){if(p(e[E]))return new I(function(t){var n=e[E]();if(p(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(Q(e))return new I(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if(ee(e))return new I(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,x)});if(et(e))return eu(e);if(ea(e))return new I(function(t){var n,r;try{for(var a=u(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()});if(es(e))return eu(ei(e))}throw en(e)}function eu(e){return new I(function(t){(function(e,t){var n,r,a,i,s,l,c,d;return s=this,l=void 0,c=void 0,d=function(){var s;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,a,(t=e[n](t)).done,t.value)})}}}(e),o.label=1;case 1:return[4,n.next()];case 2:if((r=o.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a={error:o.sent()},[3,11];case 6:return o.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(c||(c=Promise))(function(e,t){function n(e){try{a(d.next(e))}catch(e){t(e)}}function r(e){try{a(d.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):((a=t.value)instanceof c?a:new c(function(e){e(a)})).then(n,r)}a((d=d.apply(s,l||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function el(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!a)return i}function ec(e,t){return void 0===t&&(t=0),q(function(n,r){n.subscribe(j(r,function(n){return el(r,e,function(){return r.next(n)},t)},function(){return el(r,e,function(){return r.complete()},t)},function(n){return el(r,e,function(){return r.error(n)},t)}))})}function ed(e,t){return void 0===t&&(t=0),q(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function ep(e,t){if(!e)throw Error("Iterable cannot be null");return new I(function(n){el(n,t,function(){var r=e[Symbol.asyncIterator]();el(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function eh(e,t){return t?function(e,t){if(null!=e){if(p(e[E]))return eo(e).pipe(ed(t),ec(t));if(Q(e))return new I(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if(ee(e))return eo(e).pipe(ed(t),ec(t));if(et(e))return ep(e,t);if(ea(e))return new I(function(n){var r;return el(n,t,function(){r=e[er](),el(n,t,function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){n.error(e);return}a?n.complete():n.next(t)},0,!0)}),function(){return p(null==r?void 0:r.return)&&r.return()}});if(es(e))return ep(ei(e),t)}throw en(e)}(e,t):eo(e)}function ef(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e);return eh(e,n)}var em=h(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function e_(e,t){var n="object"==typeof t;return new Promise(function(r,a){var i=new R({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new em)}});e.subscribe(i)})}function ey(e,t){return q(function(n,r){var a=0;n.subscribe(j(r,function(n){r.next(e.call(t,n,a++))}))})}var ev=Array.isArray;function eg(e){return ey(function(t){return ev(t)?e.apply(void 0,c([],l(t))):e(t)})}var eb=Array.isArray,ew=Object.getPrototypeOf,ex=Object.prototype,ek=Object.keys;function eS(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=X(t),a=Y(t),i=function(e){if(1===e.length){var t=e[0];if(eb(t))return{args:t,keys:null};if(t&&"object"==typeof t&&ew(t)===ex){var n=ek(t);return{args:n.map(function(e){return t[e]}),keys:n}}}return{args:e,keys:null}}(t),s=i.args,o=i.keys;if(0===s.length)return eh([],r);var u=new I((void 0===(e=o?function(e){return o.reduce(function(t,n,r){return t[n]=e[r],t},{})}:A)&&(e=A),function(t){var n,a,i;n=r,a=function(){for(var n=s.length,a=Array(n),i=n,o=n,u=function(n){var u,l,c;u=r,l=function(){var u=eh(s[n],r),l=!1;u.subscribe(j(t,function(r){a[n]=r,l||(l=!0,o--),o||t.next(e(a.slice()))},function(){--i||t.complete()}))},c=t,u?el(c,u,l):l()},l=0;l<n;l++)u(l)},i=t,n?el(i,n,a):a()}));return a?u.pipe(eg(a)):u}function eT(e,t,n){return void 0===n&&(n=1/0),p(t)?eT(function(n,r){return ey(function(e,a){return t(n,e,r,a)})(eo(e(n,r)))},n):("number"==typeof t&&(n=t),q(function(t,r){var a,i,s,o,u,l,c,d,p,h,f,m;return a=n,l=[],c=0,d=0,p=!1,h=function(){!p||l.length||c||r.complete()},f=function(e){return c<a?m(e):l.push(e)},m=function(t){s&&r.next(t),c++;var n=!1;eo(e(t,d++)).subscribe(j(r,function(e){null==i||i(e),s?f(e):r.next(e)},function(){n=!0},void 0,function(){if(n)try{for(c--;l.length&&c<a;)!function(){var e=l.shift();o?el(r,o,function(){return m(e)}):m(e)}();h()}catch(e){r.error(e)}}))},t.subscribe(j(r,f,function(){p=!0,h()})),function(){null==u||u()}}))}var eP=["addListener","removeListener"],eC=["addEventListener","removeEventListener"],eR=["on","off"];function eO(e,t,n,r){if(p(n)&&(r=n,n=void 0),r)return eO(e,t,n).pipe(eg(r));var a=l(p(e.addEventListener)&&p(e.removeEventListener)?eC.map(function(r){return function(a){return e[r](t,a,n)}}):p(e.addListener)&&p(e.removeListener)?eP.map(eE(e,t)):p(e.on)&&p(e.off)?eR.map(eE(e,t)):[],2),i=a[0],s=a[1];if(!i&&Q(e))return eT(function(e){return eO(e,t,n)})(eo(e));if(!i)throw TypeError("Invalid event target");return new I(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return s(t)}})}function eE(e,t){return function(n){return function(r){return e[n](t,r)}}}function eA(e,t,n){void 0===e&&(e=0),void 0===n&&(n=K);var r=-1;return null!=t&&(H(t)?n=t:r=t),new I(function(t){var a,i=(a=e)instanceof Date&&!isNaN(a)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())},i)})}function eI(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=X(t),a="number"==typeof J(t)?t.pop():1/0;return t.length?1===t.length?eo(t[0]):(void 0===(e=a)&&(e=1/0),eT(A,e))(eh(t,r)):G}function eN(e,t){return q(function(n,r){var a=0;n.subscribe(j(r,function(n){return e.call(t,n,a++)&&r.next(n)}))})}function eq(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?eN(function(t,n){return e(t,n,r)}):A,q(function(e,t){var n=0;e.subscribe(j(t,function(e){++n<=1&&(t.next(e),1<=n&&t.complete())}))}),n?q(function(e,n){var r=!1;e.subscribe(j(n,function(e){r=!0,n.next(e)},function(){r||n.next(t),n.complete()}))}):q(function(e,t){var n=!1;e.subscribe(j(t,function(e){n=!0,t.next(e)},function(){return n?t.complete():t.error(new em)}))}))}}function ej(e,t){return q(function(n,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};n.subscribe(j(r,function(n){null==a||a.unsubscribe();var s=0,u=i++;eo(e(n,u)).subscribe(a=j(r,function(e){return r.next(t?t(n,e,u,s++):e)},function(){a=null,o()}))},function(){s=!0,o()}))})}function eD(e,t,n){var r=p(e)||t||n?{next:e,error:t,complete:n}:e;return r?q(function(e,t){null===(n=r.subscribe)||void 0===n||n.call(r);var n,a=!0;e.subscribe(j(t,function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)},function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()},function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)},function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)}))}):A}function eZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Y(e);return q(function(t,r){for(var a=e.length,i=Array(a),s=e.map(function(){return!1}),o=!1,u=function(t){eo(e[t]).subscribe(j(r,function(e){i[t]=e,!o&&!s[t]&&(s[t]=!0,(o=s.every(A))&&(s=null))},k))},d=0;d<a;d++)u(d);t.subscribe(j(r,function(e){if(o){var t=c([e],l(i));r.next(n?n.apply(void 0,c([],l(t))):t)}}))})}function eF(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,o)}u((r=r.apply(e,t||[])).next())})}function eU(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function ez(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function eL(e,t,n){if(n||2==arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var e$={withStackTrace:!1},eV=function(e,t,n){return void 0===n&&(n=e$),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?Error().stack:void 0}},eM=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){var n=t.then(function(e){return new eQ(e)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(e){return new eQ(e)}).catch(function(e){return new e0(n(e))});return new e(r)},e.combine=function(e){return eG(e)},e.combineWithAllErrors=function(e){return eJ(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(e){return eF(n,void 0,void 0,function(){var n;return eU(this,function(r){switch(r.label){case 0:return e.isErr()?[2,new e0(e.error)]:(n=eQ.bind,[4,t(e.value)]);case 1:return[2,new(n.apply(eQ,[void 0,r.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(e){return eF(n,void 0,void 0,function(){var n;return eU(this,function(r){switch(r.label){case 0:return e.isOk()?[2,new eQ(e.value)]:(n=e0.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(e0,[void 0,r.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new e0(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(e){return eF(n,void 0,void 0,function(){return eU(this,function(n){return e.isErr()?[2,t(e.error)]:[2,new eQ(e.value)]})})}))},e.prototype.match=function(e,t){return this._promise.then(function(n){return n.match(e,t)})},e.prototype.unwrapOr=function(e){return this._promise.then(function(t){return t.unwrapOr(e)})},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),eB=function(e){return new eM(Promise.resolve(new e0(e)))};eM.fromPromise,eM.fromSafePromise;var eW,eK=function(e){return e.reduce(function(e,t){var n;return e.isOk()?t.isErr()?eX(t.error):e.map((n=t.value,function(e){return eL(eL([],ez(e),!1),[n],!1)})):e},eY([]))},eG=function(e){return eM.fromSafePromise(Promise.all(e)).andThen(eK)},eH=function(e){return e.reduce(function(e,t){return t.isErr()?e.isErr()?eX(eL(eL([],ez(e.error),!1),[t.error],!1)):eX([t.error]):e.isErr()?e:eY(eL(eL([],ez(e.value),!1),[t.value],!1))},eY([]))},eJ=function(e){return eM.fromSafePromise(Promise.all(e)).andThen(eH)};(iL=eW||(eW={})).fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,eL([],ez(n),!1));return eY(a)}catch(e){return eX(t?t(e):e)}}},iL.combine=function(e){return eK(e)},iL.combineWithAllErrors=function(e){return eH(e)};var eY=function(e){return new eQ(e)},eX=function(e){return new e0(e)},eQ=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return eY(e(this.value))},e.prototype.mapErr=function(e){return eY(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return eY(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return eM.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw eV("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),e0=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return eX(this.error)},e.prototype.mapErr=function(e){return eX(e(this.error))},e.prototype.andThen=function(e){return eX(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return eB(this.error)},e.prototype.asyncMap=function(e){return eB(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw eV("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();eW.fromThrowable,(i$=iG||(iG={})).assertEqual=e=>e,i$.assertIs=function(e){},i$.assertNever=function(e){throw Error()},i$.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},i$.getValidEnumValues=e=>{let t=i$.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(let r of t)n[r]=e[r];return i$.objectValues(n)},i$.objectValues=e=>i$.objectKeys(e).map(function(t){return e[t]}),i$.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},i$.find=(e,t)=>{for(let n of e)if(t(n))return n},i$.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,i$.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},i$.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(iH||(iH={})).mergeShapes=(e,t)=>({...e,...t});let e1=iG.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),e2=e=>{switch(typeof e){case"undefined":return e1.undefined;case"string":return e1.string;case"number":return isNaN(e)?e1.nan:e1.number;case"boolean":return e1.boolean;case"function":return e1.function;case"bigint":return e1.bigint;case"symbol":return e1.symbol;case"object":return Array.isArray(e)?e1.array:null===e?e1.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?e1.promise:"u">typeof Map&&e instanceof Map?e1.map:"u">typeof Set&&e instanceof Set?e1.set:"u">typeof Date&&e instanceof Date?e1.date:e1.object;default:return e1.unknown}},e9=iG.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),e4=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){let n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,iG.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};e4.create=e=>new e4(e);let e3=(e,t)=>{let n;switch(e.code){case e9.invalid_type:n=e.received===e1.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case e9.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,iG.jsonStringifyReplacer)}`;break;case e9.unrecognized_keys:n=`Unrecognized key(s) in object: ${iG.joinValues(e.keys,", ")}`;break;case e9.invalid_union:n="Invalid input";break;case e9.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${iG.joinValues(e.options)}`;break;case e9.invalid_enum_value:n=`Invalid enum value. Expected ${iG.joinValues(e.options)}, received '${e.received}'`;break;case e9.invalid_arguments:n="Invalid function arguments";break;case e9.invalid_return_type:n="Invalid function return type";break;case e9.invalid_date:n="Invalid date";break;case e9.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:iG.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case e9.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case e9.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case e9.custom:n="Invalid input";break;case e9.invalid_intersection_types:n="Intersection results could not be merged";break;case e9.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case e9.not_finite:n="Number must be finite";break;default:n=t.defaultError,iG.assertNever(e)}return{message:n}},e5=e=>{let{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i},o="",u=r.filter(e=>!!e).slice().reverse();for(let e of u)o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}};function e6(e,t){let n=e5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,e3,e3].filter(e=>!!e)});e.common.issues.push(n)}let e8=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return e7;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){let r=[];for(let e of n)r.push({key:await e.key,value:await e.value});return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return e7;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),("u">typeof a.value||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}},e7=Object.freeze({status:"aborted"}),te=e=>({status:"dirty",value:e}),tt=e=>({status:"valid",value:e}),tn=e=>"aborted"===e.status,tr=e=>"dirty"===e.status,ta=e=>"valid"===e.status,ti=e=>"u">typeof Promise&&e instanceof Promise;(iV=iJ||(iJ={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},iV.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;let ts=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},to=(e,t)=>{if(ta(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new e4(e.common.issues);return this._error=t,this._error}}};function tu(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}let tl=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return e2(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new e8,ctx:{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ti(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},a=this._parseSync({data:e,path:r.path,parent:r});return to(r,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await (ti(r)?r:Promise.resolve(r));return to(n,a)}refine(e,t){let n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let a=e(t),i=()=>r.addIssue({code:e9.custom,...n(t)});return"u">typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new tM({schema:this,typeName:iY.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return tB.create(this,this._def)}nullable(){return tW.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tA.create(this,this._def)}promise(){return tV.create(this,this._def)}or(e){return tN.create([this,e],this._def)}and(e){return tq.create(this,e,this._def)}transform(e){return new tM({...tu(this._def),schema:this,typeName:iY.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tK({...tu(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:iY.ZodDefault})}brand(){return new tJ({typeName:iY.ZodBranded,type:this,...tu(this._def)})}catch(e){return new tG({...tu(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:iY.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return tY.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},tc=/^c[^\s-]{8,}$/i,td=/^[a-z][a-z0-9]*$/,tp=/[0-9A-HJKMNP-TV-Z]{26}/,th=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,tf=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,tm=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,t_=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ty=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tv=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class tg extends tl{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement(t=>e.test(t),{validation:t,code:e9.invalid_string,...iJ.errToObj(n)}),this.nonempty=e=>this.min(1,iJ.errToObj(e)),this.trim=()=>new tg({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new tg({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new tg({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==e1.string){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.string,received:t.parsedType}),e7}let n=new e8;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("max"===i.kind)e.data.length>i.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("length"===i.kind){let r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(t=this._getOrReturnCtx(e,t),r?e6(t,{code:e9.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&e6(t,{code:e9.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if("email"===i.kind)tf.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"email",code:e9.invalid_string,message:i.message}),n.dirty());else if("emoji"===i.kind)tm.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:e9.invalid_string,message:i.message}),n.dirty());else if("uuid"===i.kind)th.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:e9.invalid_string,message:i.message}),n.dirty());else if("cuid"===i.kind)tc.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:e9.invalid_string,message:i.message}),n.dirty());else if("cuid2"===i.kind)td.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:e9.invalid_string,message:i.message}),n.dirty());else if("ulid"===i.kind)tp.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:e9.invalid_string,message:i.message}),n.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{e6(t=this._getOrReturnCtx(e,t),{validation:"url",code:e9.invalid_string,message:i.message}),n.dirty()}else{var r,a;"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{validation:"regex",code:e9.invalid_string,message:i.message}),n.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):"datetime"===i.kind?tv(i).test(e.data)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.invalid_string,validation:"datetime",message:i.message}),n.dirty()):"ip"===i.kind?(r=e.data,("v4"===(a=i.version)||!a)&&t_.test(r)||("v6"===a||!a)&&ty.test(r)||(e6(t=this._getOrReturnCtx(e,t),{validation:"ip",code:e9.invalid_string,message:i.message}),n.dirty())):iG.assertNever(i)}return{status:n.value,value:e.data}}_addCheck(e){return new tg({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...iJ.errToObj(e)})}url(e){return this._addCheck({kind:"url",...iJ.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...iJ.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...iJ.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...iJ.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...iJ.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...iJ.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...iJ.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...iJ.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...iJ.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...iJ.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...iJ.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...iJ.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...iJ.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...iJ.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...iJ.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tg.create=e=>{var t;return new tg({checks:[],typeName:iY.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tu(e)})};let tb=class e extends tl{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==e1.number){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.number,received:t.parsedType}),e7}let n=new e8;for(let r of this._def.checks)"int"===r.kind?iG.isInteger(e.data)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}(e.data,r.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(e6(t=this._getOrReturnCtx(e,t),{code:e9.not_finite,message:r.message}),n.dirty()):iG.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,iJ.toString(t))}gt(e,t){return this.setLimit("min",e,!1,iJ.toString(t))}lte(e,t){return this.setLimit("max",e,!0,iJ.toString(t))}lt(e,t){return this.setLimit("max",e,!1,iJ.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:iJ.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:iJ.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:iJ.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:iJ.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:iJ.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:iJ.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iJ.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:iJ.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:iJ.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:iJ.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&iG.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};tb.create=e=>new tb({checks:[],typeName:iY.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...tu(e)});let tw=class e extends tl{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==e1.bigint){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.bigint,received:t.parsedType}),e7}let n=new e8;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):iG.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,iJ.toString(t))}gt(e,t){return this.setLimit("min",e,!1,iJ.toString(t))}lte(e,t){return this.setLimit("max",e,!0,iJ.toString(t))}lt(e,t){return this.setLimit("max",e,!1,iJ.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:iJ.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:iJ.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:iJ.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:iJ.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:iJ.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iJ.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};tw.create=e=>{var t;return new tw({checks:[],typeName:iY.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tu(e)})};let tx=class extends tl{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==e1.boolean){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.boolean,received:t.parsedType}),e7}return tt(e.data)}};tx.create=e=>new tx({typeName:iY.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...tu(e)});let tk=class e extends tl{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==e1.date){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.date,received:t.parsedType}),e7}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_date}),e7}let n=new e8;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e9.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):iG.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:iJ.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:iJ.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};tk.create=e=>new tk({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:iY.ZodDate,...tu(e)});let tS=class extends tl{_parse(e){if(this._getType(e)!==e1.symbol){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.symbol,received:t.parsedType}),e7}return tt(e.data)}};tS.create=e=>new tS({typeName:iY.ZodSymbol,...tu(e)});let tT=class extends tl{_parse(e){if(this._getType(e)!==e1.undefined){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.undefined,received:t.parsedType}),e7}return tt(e.data)}};tT.create=e=>new tT({typeName:iY.ZodUndefined,...tu(e)});let tP=class extends tl{_parse(e){if(this._getType(e)!==e1.null){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.null,received:t.parsedType}),e7}return tt(e.data)}};tP.create=e=>new tP({typeName:iY.ZodNull,...tu(e)});let tC=class extends tl{constructor(){super(...arguments),this._any=!0}_parse(e){return tt(e.data)}};tC.create=e=>new tC({typeName:iY.ZodAny,...tu(e)});let tR=class extends tl{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tt(e.data)}};tR.create=e=>new tR({typeName:iY.ZodUnknown,...tu(e)});let tO=class extends tl{_parse(e){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.never,received:t.parsedType}),e7}};tO.create=e=>new tO({typeName:iY.ZodNever,...tu(e)});let tE=class extends tl{_parse(e){if(this._getType(e)!==e1.undefined){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.void,received:t.parsedType}),e7}return tt(e.data)}};tE.create=e=>new tE({typeName:iY.ZodVoid,...tu(e)});let tA=class e extends tl{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==e1.array)return e6(t,{code:e9.invalid_type,expected:e1.array,received:t.parsedType}),e7;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(e6(t,{code:e?e9.too_big:e9.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(e6(t,{code:e9.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(e6(t,{code:e9.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new ts(t,e,t.path,n)))).then(e=>e8.mergeArray(n,e));let a=[...t.data].map((e,n)=>r.type._parseSync(new ts(t,e,t.path,n)));return e8.mergeArray(n,a)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:iJ.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:iJ.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:iJ.toString(n)}})}nonempty(e){return this.min(1,e)}};tA.create=(e,t)=>new tA({type:e,minLength:null,maxLength:null,exactLength:null,typeName:iY.ZodArray,...tu(t)});let tI=class e extends tl{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=iG.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==e1.object){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.object,received:t.parsedType}),e7}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof tO&&"strip"===this._def.unknownKeys))for(let e in n.data)a.includes(e)||i.push(e);let s=[];for(let e of a){let t=r[e],a=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ts(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof tO){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(e6(n,{code:e9.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ts(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>e8.mergeObjectSync(t,e)):e8.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(t){return iJ.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,n)=>{var r,a,i,s;let o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,e,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===e.code?{message:null!==(s=iJ.errToObj(t).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:iY.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let n={};return iG.objectKeys(t).forEach(e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])}),new e({...this._def,shape:()=>n})}omit(t){let n={};return iG.objectKeys(this.shape).forEach(e=>{t[e]||(n[e]=this.shape[e])}),new e({...this._def,shape:()=>n})}deepPartial(){return function e(t){if(!(t instanceof tI))return t instanceof tA?new tA({...t._def,type:e(t.element)}):t instanceof tB?tB.create(e(t.unwrap())):t instanceof tW?tW.create(e(t.unwrap())):t instanceof tj?tj.create(t.items.map(t=>e(t))):t;{let n={};for(let r in t.shape){let a=t.shape[r];n[r]=tB.create(e(a))}return new tI({...t._def,shape:()=>n})}}(this)}partial(t){let n={};return iG.objectKeys(this.shape).forEach(e=>{let r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()}),new e({...this._def,shape:()=>n})}required(t){let n={};return iG.objectKeys(this.shape).forEach(e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof tB;)t=t._def.innerType;n[e]=t}}),new e({...this._def,shape:()=>n})}keyof(){return tz(iG.objectKeys(this.shape))}};tI.create=(e,t)=>new tI({shape:()=>e,unknownKeys:"strip",catchall:tO.create(),typeName:iY.ZodObject,...tu(t)}),tI.strictCreate=(e,t)=>new tI({shape:()=>e,unknownKeys:"strict",catchall:tO.create(),typeName:iY.ZodObject,...tu(t)}),tI.lazycreate=(e,t)=>new tI({shape:e,unknownKeys:"strip",catchall:tO.create(),typeName:iY.ZodObject,...tu(t)});let tN=class extends tl{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new e4(e.ctx.common.issues));return e6(t,{code:e9.invalid_union,unionErrors:n}),e7});{let e;let r=[];for(let a of n){let n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=r.map(e=>new e4(e));return e6(t,{code:e9.invalid_union,unionErrors:a}),e7}}get options(){return this._def.options}};tN.create=(e,t)=>new tN({options:e,typeName:iY.ZodUnion,...tu(t)});let tq=class extends tl{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(tn(e)||tn(r))return e7;let a=function e(t,n){let r=e2(t),a=e2(n);if(t===n)return{valid:!0,data:t};if(r===e1.object&&a===e1.object){let r=iG.objectKeys(n),a=iG.objectKeys(t).filter(e=>-1!==r.indexOf(e)),i={...t,...n};for(let r of a){let a=e(t[r],n[r]);if(!a.valid)return{valid:!1};i[r]=a.data}return{valid:!0,data:i}}if(r!==e1.array||a!==e1.array)return r===e1.date&&a===e1.date&&+t==+n?{valid:!0,data:t}:{valid:!1};{if(t.length!==n.length)return{valid:!1};let r=[];for(let a=0;a<t.length;a++){let i=t[a],s=n[a],o=e(i,s);if(!o.valid)return{valid:!1};r.push(o.data)}return{valid:!0,data:r}}}(e.value,r.value);return a.valid?((tr(e)||tr(r))&&t.dirty(),{status:t.value,value:a.data}):(e6(n,{code:e9.invalid_intersection_types}),e7)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};tq.create=(e,t,n)=>new tq({left:e,right:t,typeName:iY.ZodIntersection,...tu(n)});let tj=class e extends tl{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e1.array)return e6(n,{code:e9.invalid_type,expected:e1.array,received:n.parsedType}),e7;if(n.data.length<this._def.items.length)return e6(n,{code:e9.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e7;!this._def.rest&&n.data.length>this._def.items.length&&(e6(n,{code:e9.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new ts(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>e8.mergeArray(t,e)):e8.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};tj.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tj({items:e,typeName:iY.ZodTuple,rest:null,...tu(t)})};let tD=class extends tl{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e1.map)return e6(n,{code:e9.invalid_type,expected:e1.map,received:n.parsedType}),e7;let r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([e,t],i)=>({key:r._parse(new ts(n,e,n.path,[i,"key"])),value:a._parse(new ts(n,t,n.path,[i,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of i){let r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return e7;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of i){let r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return e7;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}};tD.create=(e,t,n)=>new tD({valueType:t,keyType:e,typeName:iY.ZodMap,...tu(n)});let tZ=class e extends tl{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e1.set)return e6(n,{code:e9.invalid_type,expected:e1.set,received:n.parsedType}),e7;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(e6(n,{code:e9.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(e6(n,{code:e9.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let n=new Set;for(let r of e){if("aborted"===r.status)return e7;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let s=[...n.data.values()].map((e,t)=>a._parse(new ts(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(t,n){return new e({...this._def,minSize:{value:t,message:iJ.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:iJ.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};tZ.create=(e,t)=>new tZ({valueType:e,minSize:null,maxSize:null,typeName:iY.ZodSet,...tu(t)});let tF=class extends tl{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};tF.create=(e,t)=>new tF({getter:e,typeName:iY.ZodLazy,...tu(t)});let tU=class extends tl{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e6(t,{received:t.data,code:e9.invalid_literal,expected:this._def.value}),e7}return{status:"valid",value:e.data}}get value(){return this._def.value}};function tz(e,t){return new tL({values:e,typeName:iY.ZodEnum,...tu(t)})}tU.create=(e,t)=>new tU({value:e,typeName:iY.ZodLiteral,...tu(t)});let tL=class e extends tl{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return e6(t,{expected:iG.joinValues(n),received:t.parsedType,code:e9.invalid_type}),e7}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return e6(t,{received:t.data,code:e9.invalid_enum_value,options:n}),e7}return tt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t){return e.create(t)}exclude(t){return e.create(this.options.filter(e=>!t.includes(e)))}};tL.create=tz;let t$=class extends tl{_parse(e){let t=iG.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==e1.string&&n.parsedType!==e1.number){let e=iG.objectValues(t);return e6(n,{expected:iG.joinValues(e),received:n.parsedType,code:e9.invalid_type}),e7}if(-1===t.indexOf(e.data)){let e=iG.objectValues(t);return e6(n,{received:n.data,code:e9.invalid_enum_value,options:e}),e7}return tt(e.data)}get enum(){return this._def.values}};t$.create=(e,t)=>new t$({values:e,typeName:iY.ZodNativeEnum,...tu(t)});let tV=class extends tl{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e1.promise&&!1===t.common.async)return e6(t,{code:e9.invalid_type,expected:e1.promise,received:t.parsedType}),e7;let n=t.parsedType===e1.promise?t.data:Promise.resolve(t.data);return tt(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};tV.create=(e,t)=>new tV({type:e,typeName:iY.ZodPromise,...tu(t)});let tM=class extends tl{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===iY.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){let e=r.transform(n.data);return n.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:e,path:n.path,parent:n})}let a={addIssue:e=>{e6(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){let e=e=>{let t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?e7:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?e7:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>ta(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ta(e))return e;let i=r.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}iG.assertNever(r)}};tM.create=(e,t,n)=>new tM({schema:e,typeName:iY.ZodEffects,effect:t,...tu(n)}),tM.createWithPreprocess=(e,t,n)=>new tM({schema:t,effect:{type:"preprocess",transform:e},typeName:iY.ZodEffects,...tu(n)});let tB=class extends tl{_parse(e){return this._getType(e)===e1.undefined?tt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};tB.create=(e,t)=>new tB({innerType:e,typeName:iY.ZodOptional,...tu(t)});let tW=class extends tl{_parse(e){return this._getType(e)===e1.null?tt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};tW.create=(e,t)=>new tW({innerType:e,typeName:iY.ZodNullable,...tu(t)});let tK=class extends tl{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===e1.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};tK.create=(e,t)=>new tK({innerType:e,typeName:iY.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tu(t)});let tG=class extends tl{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ti(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new e4(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new e4(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};tG.create=(e,t)=>new tG({innerType:e,typeName:iY.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tu(t)});let tH=class extends tl{_parse(e){if(this._getType(e)!==e1.nan){let t=this._getOrReturnCtx(e);return e6(t,{code:e9.invalid_type,expected:e1.nan,received:t.parsedType}),e7}return{status:"valid",value:e.data}}};tH.create=e=>new tH({typeName:iY.ZodNaN,...tu(e)});let tJ=class extends tl{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},tY=class e extends tl{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),te(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:iY.ZodPipeline})}};tI.lazycreate,(iM=iY||(iY={})).ZodString="ZodString",iM.ZodNumber="ZodNumber",iM.ZodNaN="ZodNaN",iM.ZodBigInt="ZodBigInt",iM.ZodBoolean="ZodBoolean",iM.ZodDate="ZodDate",iM.ZodSymbol="ZodSymbol",iM.ZodUndefined="ZodUndefined",iM.ZodNull="ZodNull",iM.ZodAny="ZodAny",iM.ZodUnknown="ZodUnknown",iM.ZodNever="ZodNever",iM.ZodVoid="ZodVoid",iM.ZodArray="ZodArray",iM.ZodObject="ZodObject",iM.ZodUnion="ZodUnion",iM.ZodDiscriminatedUnion="ZodDiscriminatedUnion",iM.ZodIntersection="ZodIntersection",iM.ZodTuple="ZodTuple",iM.ZodRecord="ZodRecord",iM.ZodMap="ZodMap",iM.ZodSet="ZodSet",iM.ZodFunction="ZodFunction",iM.ZodLazy="ZodLazy",iM.ZodLiteral="ZodLiteral",iM.ZodEnum="ZodEnum",iM.ZodEffects="ZodEffects",iM.ZodNativeEnum="ZodNativeEnum",iM.ZodOptional="ZodOptional",iM.ZodNullable="ZodNullable",iM.ZodDefault="ZodDefault",iM.ZodCatch="ZodCatch",iM.ZodPromise="ZodPromise",iM.ZodBranded="ZodBranded",iM.ZodPipeline="ZodPipeline";let tX=tg.create,tQ=tb.create,t0=tx.create;tO.create;let t1=tA.create,t2=tI.create;tI.strictCreate;let t9=tN.create;tq.create,tj.create;let t4=tU.create;tL.create,tV.create,tB.create,tW.create;let t3=t2({address:tX(),label:tX(),appearanceId:tQ()}),t5=t2({publicKey:tX(),signature:tX(),curve:t9([t4("curve25519"),t4("secp256k1")])}),t6=t2({accountAddress:tX(),proof:t5}),t8=t2({identityAddress:tX(),label:tX()}),t7={western:"western",eastern:"eastern"},ne=t9([t4(t7.eastern),t4(t7.western)]),nt=t2({variant:ne,familyName:tX(),nickname:tX(),givenNames:tX()}),nn=t2({quantifier:t9([t4("exactly"),t4("atLeast")]),quantity:tQ().gte(0)}),nr=t2({challenge:tX().optional(),numberOfAccounts:nn}),na=t2({accounts:t1(t3),challenge:tX().optional(),proofs:t1(t6).optional()}).refine(e=>{var t;return!e.challenge&&(null==e||!e.proofs)||e.challenge&&(null==(t=null==e?void 0:e.proofs)?void 0:t.length)},"missing challenge or proofs"),ni=t2({isRequestingName:t0().optional(),numberOfRequestedEmailAddresses:nn.optional(),numberOfRequestedPhoneNumbers:nn.optional()}),ns=t2({name:nt.optional(),emailAddresses:t1(tX()).optional(),phoneNumbers:t1(tX()).optional()}),no=t2({accounts:t0(),personaData:t0()}),nu=(t2({persona:t8,challenge:tX().optional(),proof:t5.optional()}).refine(e=>!e.challenge&&!e.proof||e.challenge&&e.proof,"missing challenge or proof"),t2({discriminator:t4("unauthorizedRequest"),oneTimeAccounts:nr.optional(),oneTimePersonaData:ni.optional()})),nl=t2({discriminator:t4("usePersona"),identityAddress:tX()}),nc=t2({discriminator:t4("loginWithoutChallenge")}),nd=t2({discriminator:t4("loginWithChallenge"),challenge:tX()}),np=t9([nc,nd]),nh=t9([nl,np]),nf=t2({discriminator:t4("authorizedRequest"),auth:nh,reset:no.optional(),oneTimeAccounts:nr.optional(),ongoingAccounts:nr.optional(),oneTimePersonaData:ni.optional(),ongoingPersonaData:ni.optional()}),nm=t9([nu,nf]),n_=t2({transactionManifest:tX(),version:tQ(),blobs:t1(tX()).optional(),message:tX().optional()}),ny=t2({discriminator:t4("transaction"),send:n_}),nv=t2({transactionIntentHash:tX()}),ng=t2({discriminator:t4("transaction"),send:nv}),nb=t2({discriminator:t4("cancelRequest")}),nw=t9([nm,ny,nb]),nx=t2({version:t4(2),networkId:tQ(),dAppDefinitionAddress:tX()}),nk=t2({interactionId:tX(),metadata:nx,items:nw}),nS=t2({discriminator:t4("unauthorizedRequest"),oneTimeAccounts:na.optional(),oneTimePersonaData:ns.optional()}),nT=t2({discriminator:t4("loginWithoutChallenge"),persona:t8}),nP=t2({discriminator:t4("loginWithChallenge"),persona:t8,challenge:tX(),proof:t5}),nC=t9([nT,nP]),nR=t2({discriminator:t4("usePersona"),persona:t8}),nO=t9([nR,nC]),nE=t2({discriminator:t4("authorizedRequest"),auth:nO,oneTimeAccounts:na.optional(),ongoingAccounts:na.optional(),oneTimePersonaData:ns.optional(),ongoingPersonaData:ns.optional()}),nA=t9([nS,nE]),nI=t9([nA,ng]),nN=t2({discriminator:t4("success"),interactionId:tX(),items:nI}),nq=t2({discriminator:t4("failure"),interactionId:tX(),error:tX(),message:tX().optional()}),nj=t9([nN,nq]),nD=(t2({interactionId:tX(),discriminator:t4("extensionStatus")}),{extensionStatus:"extensionStatus",receivedByExtension:"receivedByExtension",receivedByWallet:"receivedByWallet",requestCancelSuccess:"requestCancelSuccess",requestCancelFail:"requestCancelFail"}),nZ=(t2({eventType:t4(nD.extensionStatus),interactionId:tX(),isWalletLinked:t0(),isExtensionAvailable:t0()}),t2({eventType:t9([t4(nD.extensionStatus),t4(nD.receivedByExtension),t4(nD.receivedByWallet),t4(nD.requestCancelSuccess),t4(nD.requestCancelFail)]),interactionId:tX()}));t9([nZ,nj]);let nF={outgoingMessage:"radix#chromeExtension#send",incomingMessage:"radix#chromeExtension#receive"},nU=(e,t)=>eM.fromPromise(e.parseAsync(t),e=>e.issues),nz=e=>(t,n,r=crypto.randomUUID())=>{let a={items:n,interactionId:r,metadata:t};return nU(nk,a).mapErr(t=>(null==e||e.error("\uD83D\uDD35 invalidWalletInteraction",t),nM(n$.walletRequestValidation,a.interactionId)))},nL=(Object.freeze(Object.defineProperty({__proto__:null,walletInteractionFactory:nz},Symbol.toStringTag,{value:"Module"})),e=>e),n$={rejectedByUser:"rejectedByUser",missingExtension:"missingExtension",canceledByUser:"canceledByUser",walletRequestValidation:"walletRequestValidation",walletResponseValidation:"walletResponseValidation",wrongNetwork:"wrongNetwork",failedToPrepareTransaction:"failedToPrepareTransaction",failedToCompileTransaction:"failedToCompileTransaction",failedToSignTransaction:"failedToSignTransaction",failedToSubmitTransaction:"failedToSubmitTransaction",failedToPollSubmittedTransaction:"failedToPollSubmittedTransaction",submittedTransactionWasDuplicate:"submittedTransactionWasDuplicate",submittedTransactionHasFailedTransactionStatus:"submittedTransactionHasFailedTransactionStatus",submittedTransactionHasRejectedTransactionStatus:"submittedTransactionHasRejectedTransactionStatus",failedToFindAccountWithEnoughFundsToLockFee:"failedToFindAccountWithEnoughFundsToLockFee",wrongAccountType:"wrongAccountType",unknownWebsite:"unknownWebsite",radixJsonNotFound:"radixJsonNotFound",unknownDappDefinitionAddress:"unknownDappDefinitionAddress",invalidPersona:"invalidPersona"},nV=new Map().set(n$.missingExtension,"extension could not be found").set(n$.rejectedByUser,"user rejected request").set(n$.canceledByUser,"user has canceled the request"),nM=(e,t,n)=>({error:e,interactionId:t,message:n||nV.get(e)||""}),nB=e=>eM.fromPromise(nj.parseAsync(e),e=>e.issues).andThen(e=>"success"===e.discriminator?eY(e):eX(e)).mapErr(()=>nM("walletResponseValidation","")),nW=(e,t)=>{let n=e.logger,r=nz(n);return{request:(n,a={})=>r(e,n).andThen(e=>t.send(e,a)).andThen(nB).map(e=>e.items),sendTransaction:(n,a={})=>r(e,{discriminator:"transaction",send:n}).andThen(e=>t.send(e,a)).andThen(nB).map(e=>e.items.send),extensionStatus$:t.extensionStatus$,openPopup:t.openPopup}};var nK=function(e,t){return(nK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function nG(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}nK(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function nH(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function nJ(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nY(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function nX(e,t,n){if(n||2==arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function nQ(e){return this instanceof nQ?(this.v=e,this):new nQ(e)}function n0(e){return"function"==typeof e}function n1(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var n2=n1(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,t){return t+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function n9(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var n4=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var s=nJ(i),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this)}var u=this.initialTeardown;if(n0(u))try{u()}catch(e){a=e instanceof n2?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=nJ(l),d=c.next();!d.done;d=c.next()){var p=d.value;try{n6(p)}catch(e){a=a??[],e instanceof n2?a=nX(nX([],nY(a)),nY(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(a)throw new n2(a)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)n6(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&n9(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&n9(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),n3=n4.EMPTY;function n5(e){return e instanceof n4||e&&"closed"in e&&n0(e.remove)&&n0(e.add)&&n0(e.unsubscribe)}function n6(e){n0(e)?e():e.unsubscribe()}var n8={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},n7={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,nX([e,t],nY(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function re(e){n7.setTimeout(function(){throw e})}function rt(){}var rn=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,n5(t)&&t.add(n)):n.destination=ro,n}return nG(t,e),t.create=function(e,t,n){return new rs(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(n4),rr=Function.prototype.bind;function ra(e,t){return rr.call(e,t)}var ri=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){re(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){re(e)}else re(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){re(e)}},e}(),rs=function(e){function t(t,n,r){var a,i,s=e.call(this)||this;return n0(t)||!t?i={next:t??void 0,error:n??void 0,complete:r??void 0}:s&&n8.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&ra(t.next,a),error:t.error&&ra(t.error,a),complete:t.complete&&ra(t.complete,a)}):i=t,s.destination=new ri(i),s}return nG(t,e),t}(rn),ro={closed:!0,next:rt,error:function(e){throw e},complete:rt},ru="function"==typeof Symbol&&Symbol.observable||"@@observable";function rl(e){return e}var rc=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a,i,s=(r=e)&&r instanceof rn||r&&n0(r.next)&&n0(r.error)&&n0(r.complete)&&n5(r)?e:new rs(e,t,n);return a=this.operator,i=this.source,s.add(a?a.call(s,i):i?this._subscribe(s):this._trySubscribe(s)),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=rd(t))(function(t,r){var a=new rs({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ru]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?rl:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=rd(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function rd(e){var t;return null!==(t=e??n8.Promise)&&void 0!==t?t:Promise}function rp(e){return function(t){if(n0(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function rh(e,t,n,r,a){return new rf(e,t,n,r,a)}var rf=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t)||this;return o.onFinalize=i,o.shouldUnsubscribe=s,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return nG(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(rn),rm=n1(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),r_=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return nG(t,e),t.prototype.lift=function(e){var t=new ry(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rm},t.prototype.next=function(e){var t=this;(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=nJ(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}})()},t.prototype.error=function(e){var t=this;(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})()},t.prototype.complete=function(){var e=this;(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})()},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,a=this.observers;return n||r?n3:(this.currentObservers=null,a.push(e),new n4(function(){t.currentObservers=null,n9(a,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new rc;return e.source=this,e},t.create=function(e,t){return new ry(e,t)},t}(rc),ry=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return nG(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:n3},t}(r_),rv={now:function(){return Date.now()},delegate:void 0},rg=function(e){function t(t,n){return e.call(this)||this}return nG(t,e),t.prototype.schedule=function(e,t){return this},t}(n4),rb={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=rb.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,nX([e,t],nY(n))):setInterval.apply(void 0,nX([e,t],nY(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},rw=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return nG(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),rb.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&rb.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,n9(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rg),rx=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=rv.now,e}(),rk=new(function(e){function t(t,n){void 0===n&&(n=rx.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return nG(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(rx))(rw),rS=new rc(function(e){return e.complete()});function rT(e){return e&&n0(e.schedule)}function rP(e){return e[e.length-1]}function rC(e){return rT(rP(e))?e.pop():void 0}var rR=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rO(e){return n0(null==e?void 0:e.then)}function rE(e){return Symbol.asyncIterator&&n0(null==e?void 0:e[Symbol.asyncIterator])}function rA(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var rI="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rN(e){return n0(null==e?void 0:e[rI])}function rq(e){return function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{var n;(n=a[e](t)).value instanceof nQ?Promise.resolve(n.value.v).then(u,l):c(i[0][2],n)}catch(e){c(i[0][3],e)}}function u(e){o("next",e)}function l(e){o("throw",e)}function c(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,function(){var t,n,r;return nH(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,nQ(t.read())];case 3:return r=(n=a.sent()).value,n.done?[4,nQ(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,nQ(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rj(e){return n0(null==e?void 0:e.getReader)}function rD(e){if(e instanceof rc)return e;if(null!=e){if(n0(e[ru]))return new rc(function(t){var n=e[ru]();if(n0(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(rR(e))return new rc(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if(rO(e))return new rc(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,re)});if(rE(e))return rZ(e);if(rN(e))return new rc(function(t){var n,r;try{for(var a=nJ(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()});if(rj(e))return rZ(rq(e))}throw rA(e)}function rZ(e){return new rc(function(t){(function(e,t){var n,r,a,i,s,o,u,l;return s=this,o=void 0,u=void 0,l=function(){var s;return nH(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=nJ(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,a,(t=e[n](t)).done,t.value)})}}}(e),o.label=1;case 1:return[4,n.next()];case 2:if((r=o.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a={error:o.sent()},[3,11];case 6:return o.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(u||(u=Promise))(function(e,t){function n(e){try{a(l.next(e))}catch(e){t(e)}}function r(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):((a=t.value)instanceof u?a:new u(function(e){e(a)})).then(n,r)}a((l=l.apply(s,o||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function rF(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!a)return i}function rU(e,t){return void 0===t&&(t=0),rp(function(n,r){n.subscribe(rh(r,function(n){return rF(r,e,function(){return r.next(n)},t)},function(){return rF(r,e,function(){return r.complete()},t)},function(n){return rF(r,e,function(){return r.error(n)},t)}))})}function rz(e,t){return void 0===t&&(t=0),rp(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function rL(e,t){if(!e)throw Error("Iterable cannot be null");return new rc(function(n){rF(n,t,function(){var r=e[Symbol.asyncIterator]();rF(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function r$(e,t){return t?function(e,t){if(null!=e){if(n0(e[ru]))return rD(e).pipe(rz(t),rU(t));if(rR(e))return new rc(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if(rO(e))return rD(e).pipe(rz(t),rU(t));if(rE(e))return rL(e,t);if(rN(e))return new rc(function(n){var r;return rF(n,t,function(){r=e[rI](),rF(n,t,function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){n.error(e);return}a?n.complete():n.next(t)},0,!0)}),function(){return n0(null==r?void 0:r.return)&&r.return()}});if(rj(e))return rL(rq(e),t)}throw rA(e)}(e,t):rD(e)}function rV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rC(e);return r$(e,n)}var rM=n1(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function rB(e,t){var n="object"==typeof t;return new Promise(function(r,a){var i=new rs({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new rM)}});e.subscribe(i)})}function rW(e,t){return rp(function(n,r){var a=0;n.subscribe(rh(r,function(n){r.next(e.call(t,n,a++))}))})}function rK(e,t,n){void 0===e&&(e=0),void 0===n&&(n=rk);var r=-1;return null!=t&&(rT(t)?n=t:r=t),new rc(function(t){var a,i=(a=e)instanceof Date&&!isNaN(a)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())},i)})}function rG(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=rC(t),a="number"==typeof rP(t)?t.pop():1/0;return t.length?1===t.length?rD(t[0]):(void 0===(e=a)&&(e=1/0),function e(t,n,r){return void 0===r&&(r=1/0),n0(n)?e(function(e,r){return rW(function(t,a){return n(e,t,r,a)})(rD(t(e,r)))},r):("number"==typeof n&&(r=n),rp(function(e,n){var a,i,s,o,u,l,c,d,p,h,f,m;return a=r,l=[],c=0,d=0,p=!1,h=function(){!p||l.length||c||n.complete()},f=function(e){return c<a?m(e):l.push(e)},m=function(e){s&&n.next(e),c++;var r=!1;rD(t(e,d++)).subscribe(rh(n,function(e){null==i||i(e),s?f(e):n.next(e)},function(){r=!0},void 0,function(){if(r)try{for(c--;l.length&&c<a;)!function(){var e=l.shift();o?rF(n,o,function(){return m(e)}):m(e)}();h()}catch(e){n.error(e)}}))},e.subscribe(rh(n,f,function(){p=!0,h()})),function(){null==u||u()}}))}(rl,e))(r$(t,r)):rS}var rH=Array.isArray;function rJ(e,t){return rp(function(n,r){var a=0;n.subscribe(rh(r,function(n){return e.call(t,n,a++)&&r.next(n)}))})}function rY(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?rJ(function(t,n){return e(t,n,r)}):rl,rp(function(e,t){var n=0;e.subscribe(rh(t,function(e){++n<=1&&(t.next(e),1<=n&&t.complete())}))}),n?rp(function(e,n){var r=!1;e.subscribe(rh(n,function(e){r=!0,n.next(e)},function(){r||n.next(t),n.complete()}))}):rp(function(e,t){var n=!1;e.subscribe(rh(t,function(e){n=!0,t.next(e)},function(){return n?t.complete():t.error(new rM)}))}))}}function rX(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0===t){e();return}if(!1!==t){var a=new rs({next:function(){a.unsubscribe(),e()}});return rD(t.apply(void 0,nX([],nY(n)))).subscribe(a)}}function rQ(e,t,n){var r=n0(e)||t||n?{next:e,error:t,complete:n}:e;return r?rp(function(e,t){null===(n=r.subscribe)||void 0===n||n.call(r);var n,a=!0;e.subscribe(rh(t,function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)},function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()},function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)},function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)}))}):rl}let r0=()=>({outgoingMessageSubject:new r_,incomingMessageSubject:new r_,responseSubject:new r_,messageLifeCycleEventSubject:new r_}),r1=e=>eM.fromPromise(rB(e),nL).andThen(e=>e),r2={extensionDetectionTime:100},r9=e=>{var t,n;let r=null==e?void 0:e.logger,a=(null==e?void 0:e.subjects)??r0(),i=new n4;i.add(a.incomingMessageSubject.pipe(rQ(e=>{"eventType"in e?(null==r||r.debug("\uD83D\uDD35\uD83D\uDCAC messageLifecycleEvent",e),a.messageLifeCycleEventSubject.next(e)):(null==r||r.debug("\uD83D\uDD35 walletResponse",e),a.responseSubject.next(e))})).subscribe()),i.add(a.outgoingMessageSubject.pipe(rQ(e=>{null==r||r.debug("\uD83D\uDD35 walletRequest",e),window.dispatchEvent(new CustomEvent(nF.outgoingMessage,{detail:e}))})).subscribe());let s=e=>{let t=e.detail;a.incomingMessageSubject.next(t)};addEventListener(nF.incomingMessage,s);let o=a.messageLifeCycleEventSubject.pipe(rJ(e=>"extensionStatus"===e.eventType));return{send:(e,t)=>{var n,i,s,o,u,l,c,d,p;let h=new r_,f=a.responseSubject.pipe(rJ(t=>t.interactionId===e.interactionId),rW(e=>"success"===e.discriminator?eY(e):eX(e))),m=a.messageLifeCycleEventSubject.pipe(rJ(({interactionId:t,eventType:n})=>e.interactionId===t&&["requestCancelSuccess","requestCancelFail"].includes(n)),rW(e=>{let t=nM("canceledByUser",e.interactionId);return null==r||r.debug("\uD83D\uDD35 walletRequestCanceled",t),e})),_=()=>(a.outgoingMessageSubject.next({interactionId:e.interactionId,items:{discriminator:"cancelRequest"},metadata:e.metadata}),setTimeout(()=>{h.next(eX(nM("canceledByUser",e.interactionId)))}),eM.fromSafePromise(rB(rG(f.pipe(rW(()=>"requestCancelFail")),m.pipe(rW(({eventType:e})=>e))))));t.requestControl&&t.requestControl({cancelRequest:()=>_().andThen(e=>"requestCancelSuccess"===e?eY("requestCancelSuccess"):eX("requestCancelFail")),getRequest:()=>e});let y=rG(f,h).pipe(rY()),v=a.messageLifeCycleEventSubject.pipe(rJ(({interactionId:t})=>e.interactionId===t),rQ(e=>{t.eventCallback&&t.eventCallback(e.eventType)}),rp(function(e,t){rD(f).subscribe(rh(t,function(){return t.complete()},rt)),t.closed||e.subscribe(t)}),(void 0===n&&(n={}),s=void 0===(i=n.connector)?function(){return new r_}:i,u=void 0===(o=n.resetOnError)||o,c=void 0===(l=n.resetOnComplete)||l,p=void 0===(d=n.resetOnRefCountZero)||d,function(e){var t,n,r,a=0,i=!1,o=!1,l=function(){null==n||n.unsubscribe(),n=void 0},d=function(){l(),t=r=void 0,i=o=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return rp(function(e,f){a++,o||i||l();var m=r=r??s();f.add(function(){0!=--a||o||i||(n=rX(h,p))}),m.subscribe(f),!t&&a>0&&(t=new rs({next:function(e){return m.next(e)},error:function(e){o=!0,l(),n=rX(d,u,e),m.error(e)},complete:function(){i=!0,l(),n=rX(d,c),m.complete()}}),rD(e).subscribe(t))})(e)})),g=v.subscribe(),b=rK(r2.extensionDetectionTime).pipe(rW(()=>eX(nM("missingExtension",e.interactionId)))),w=rG(b,v).pipe(rY(),rJ(e=>!("eventType"in e))),x=rV(e).pipe(rQ(e=>{a.outgoingMessageSubject.next(e)}),rJ(e=>!1));return r1(rG(y,w,x).pipe(rQ(()=>{g.unsubscribe()})))},destroy:()=>{i.unsubscribe(),removeEventListener(nF.incomingMessage,s)},openPopup:()=>{window.dispatchEvent(new CustomEvent(nF.outgoingMessage,{detail:{discriminator:"openPopup"}}))},extensionStatus$:rV(!0).pipe(rQ(()=>{a.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})}),(t=()=>(function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return 1===(n=1===(t=n).length&&rH(t[0])?t[0]:t).length?rD(n[0]):new rc((e=n,function(t){for(var n=[],r=function(r){n.push(rD(e[r]).subscribe(rh(t,function(e){if(n){for(var a=0;a<n.length;a++)a!==r&&n[a].unsubscribe();n=null}t.next(e)})))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}))})(o,rG(o,rK(r2.extensionDetectionTime).pipe(rW(()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1}))))),rp(function(e,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};e.subscribe(rh(r,function(e){null==a||a.unsubscribe();var s=0,u=i++;rD(t(e,u)).subscribe(a=rh(r,function(t){return r.next(n?n(e,t,u,s++):t)},function(){a=null,o()}))},function(){s=!0,o()}))})))}};function r4(e,t){let n={seen:[],stylize:r5};return null!=t&&function(e,t){if(!t||!an(t))return;let n=Object.keys(t),r=n.length;for(;r--;)e[n[r]]=t[n[r]]}(n,t),r3(n.showHidden)&&(n.showHidden=!1),r3(n.depth)&&(n.depth=2),r3(n.colors)&&(n.colors=!0),r3(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r6),ao(n,e,n.depth)}function r3(e){return null==e}function r5(e){return e}function r6(e,t){var n,r,a,i;let s=r4.styles[t];return null!=s&&(null==(r=null==(n=null==r4?void 0:r4.colors)?void 0:n[s])?void 0:r[0])!=null&&(null==(i=null==(a=null==r4?void 0:r4.colors)?void 0:a[s])?void 0:i[1])!=null?"\x1b["+r4.colors[s][0]+"m"+e+"\x1b["+r4.colors[s][1]+"m":e}function r8(e){return"function"==typeof e}function r7(e){return"string"==typeof e}function ae(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function at(e){return an(e)&&"[object RegExp]"===ai(e)}function an(e){return"object"==typeof e&&null!==e}function ar(e){return an(e)&&("[object Error]"===ai(e)||e instanceof Error)}function aa(e){return an(e)&&"[object Date]"===ai(e)}function ai(e){return Object.prototype.toString.call(e)}function as(e){return"["+Error.prototype.toString.call(e)+"]"}function ao(e,t,n=0){var r,a;let i;if(e.customInspect&&null!=t&&r8(t)&&(null==t?void 0:t.inspect)!==r4&&!(null!=t&&t.constructor&&(null==t?void 0:t.constructor.prototype)===t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();let r=null==t?void 0:t.inspect(n,e);return r7(r)||(r=ao(e,r,n)),r}let s=function(e,t){if(r3(t))return e.stylize("undefined","undefined");if(r7(t)){let n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):"boolean"==typeof t?e.stylize(""+t,"boolean"):null===t?e.stylize("null","null"):void 0}(e,t);if(s)return s;let o=Object.keys(t),u=function(e){let t={};return e.forEach(e=>{t[e]=!0}),t}(o);try{e.showHidden&&Object.getOwnPropertyNames&&(o=Object.getOwnPropertyNames(t))}catch{}if(ar(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return as(t);if(0===o.length){if(!r8(e.stylize))return t;if(r8(t)){let n=t.name?": "+t.name:"";return e.stylize("[Function"+n+"]","special")}if(at(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(aa(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ar(t))return as(t)}let l="",c=!1,d=[`{
`,`
}`];return(Array.isArray(t)&&(c=!0,d=[`[
`,`
]`]),r8(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),at(t)&&(l=" "+RegExp.prototype.toString.call(t)),aa(t)&&(l=" "+Date.prototype.toUTCString.call(t)),ar(t)&&(l=" "+as(t)),0!==o.length||c&&0!=t.length)?n<0?at(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),i=c?function(e,t,n,r,a){let i=[];for(let a=0,s=t.length;a<s;++a)ae(t,String(a))?i.push(au(e,t,n,r,String(a),!0)):i.push("");return a.forEach(a=>{a.match(/^\d+$/)||i.push(au(e,t,n,r,a,!0))}),i}(e,t,n,u,o):o.map(r=>au(e,t,n,u,r,c)),e.seen.pop(),r=l,(a=d)[0]+(""===r?"":r+`
`)+"  "+i.join(`,
  `)+" "+a[1]):d[0]+l+d[1]}function au(e,t,n,r,a,i){let s,o,u;u={value:void 0};try{u.value=t[a]}catch{}try{Object.getOwnPropertyDescriptor&&(u=Object.getOwnPropertyDescriptor(t,a)||u)}catch{}if(u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),ae(r,a)||(s="["+a+"]"),o||(0>e.seen.indexOf(u.value)?(o=null===n?ao(e,u.value,void 0):ao(e,u.value,n-1)).indexOf(`
`)>-1&&(o=i?o.split(`
`).map(e=>"  "+e).join(`
`).substr(2):`
`+o.split(`
`).map(e=>"   "+e).join(`
`)):o=e.stylize("[Circular]","special")),r3(s)){if(i&&a.match(/^\d+$/))return o;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}r4.colors={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},r4.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},[typeof window,typeof document].includes("undefined"),null==(iX=null==globalThis?void 0:globalThis.navigator)||iX.userAgent;let al=e=>{var t,n;let r={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId};nx.parse(r),null==(t=e.logger)||t.debug("\uD83D\uDD35 walletSdkInstantiated",r);let a=e.logger,i=(null==(n=e.providers)?void 0:n.connectorExtensionClient)??r9({logger:a});return{...nW({version:2,logger:e.logger,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId},i),destroy:()=>{null==a||a.debug("\uD83D\uDD35\uD83E\uDDF9 walletSdkInstantiatedDestroyed"),i.destroy()}}};(iB=iQ||(iQ={})).assertEqual=e=>e,iB.assertIs=function(e){},iB.assertNever=function(e){throw Error()},iB.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},iB.getValidEnumValues=e=>{let t=iB.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(let r of t)n[r]=e[r];return iB.objectValues(n)},iB.objectValues=e=>iB.objectKeys(e).map(function(t){return e[t]}),iB.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},iB.find=(e,t)=>{for(let n of e)if(t(n))return n},iB.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,iB.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},iB.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(i0||(i0={})).mergeShapes=(e,t)=>({...e,...t});let ac=iQ.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ad=e=>{switch(typeof e){case"undefined":return ac.undefined;case"string":return ac.string;case"number":return isNaN(e)?ac.nan:ac.number;case"boolean":return ac.boolean;case"function":return ac.function;case"bigint":return ac.bigint;case"symbol":return ac.symbol;case"object":return Array.isArray(e)?ac.array:null===e?ac.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ac.promise:"u">typeof Map&&e instanceof Map?ac.map:"u">typeof Set&&e instanceof Set?ac.set:"u">typeof Date&&e instanceof Date?ac.date:ac.object;default:return ac.unknown}},ap=iQ.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ah extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){let n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,iQ.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ah.create=e=>new ah(e);let af=(e,t)=>{let n;switch(e.code){case ap.invalid_type:n=e.received===ac.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ap.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,iQ.jsonStringifyReplacer)}`;break;case ap.unrecognized_keys:n=`Unrecognized key(s) in object: ${iQ.joinValues(e.keys,", ")}`;break;case ap.invalid_union:n="Invalid input";break;case ap.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${iQ.joinValues(e.options)}`;break;case ap.invalid_enum_value:n=`Invalid enum value. Expected ${iQ.joinValues(e.options)}, received '${e.received}'`;break;case ap.invalid_arguments:n="Invalid function arguments";break;case ap.invalid_return_type:n="Invalid function return type";break;case ap.invalid_date:n="Invalid date";break;case ap.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:iQ.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ap.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ap.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ap.custom:n="Invalid input";break;case ap.invalid_intersection_types:n="Intersection results could not be merged";break;case ap.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ap.not_finite:n="Number must be finite";break;default:n=t.defaultError,iQ.assertNever(e)}return{message:n}},am=e=>{let{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i},o="",u=r.filter(e=>!!e).slice().reverse();for(let e of u)o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}};function a_(e,t){let n=am({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,af,af].filter(e=>!!e)});e.common.issues.push(n)}class ay{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return av;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t)n.push({key:await e.key,value:await e.value});return ay.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return av;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),("u">typeof a.value||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}let av=Object.freeze({status:"aborted"}),ag=e=>({status:"dirty",value:e}),ab=e=>({status:"valid",value:e}),aw=e=>"aborted"===e.status,ax=e=>"dirty"===e.status,ak=e=>"valid"===e.status,aS=e=>"u">typeof Promise&&e instanceof Promise;(iW=i1||(i1={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},iW.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class aT{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let aP=(e,t)=>{if(ak(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ah(e.common.issues);return this._error=t,this._error}}};function aC(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}class aR{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ad(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ad(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ay,ctx:{common:e.parent.common,data:e.data,parsedType:ad(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(aS(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ad(e)},a=this._parseSync({data:e,path:r.path,parent:r});return aP(r,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ad(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await (aS(r)?r:Promise.resolve(r));return aP(n,a)}refine(e,t){let n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let a=e(t),i=()=>r.addIssue({code:ap.custom,...n(t)});return"u">typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new ia({schema:this,typeName:i2.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ii.create(this,this._def)}nullable(){return is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return aJ.create(this,this._def)}promise(){return ir.create(this,this._def)}or(e){return aX.create([this,e],this._def)}and(e){return a1.create(this,e,this._def)}transform(e){return new ia({...aC(this._def),schema:this,typeName:i2.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new io({...aC(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:i2.ZodDefault})}brand(){return new ic({typeName:i2.ZodBranded,type:this,...aC(this._def)})}catch(e){return new iu({...aC(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:i2.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return id.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let aO=/^c[^\s-]{8,}$/i,aE=/^[a-z][a-z0-9]*$/,aA=/[0-9A-HJKMNP-TV-Z]{26}/,aI=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,aN=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,aq=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,aj=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,aD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,aZ=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class aF extends aR{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement(t=>e.test(t),{validation:t,code:ap.invalid_string,...i1.errToObj(n)}),this.nonempty=e=>this.min(1,i1.errToObj(e)),this.trim=()=>new aF({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new aF({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new aF({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ac.string){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.string,received:t.parsedType}),av}let n=new ay;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("max"===i.kind)e.data.length>i.value&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("length"===i.kind){let r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(t=this._getOrReturnCtx(e,t),r?a_(t,{code:ap.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&a_(t,{code:ap.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if("email"===i.kind)aN.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"email",code:ap.invalid_string,message:i.message}),n.dirty());else if("emoji"===i.kind)aq.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:ap.invalid_string,message:i.message}),n.dirty());else if("uuid"===i.kind)aI.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:ap.invalid_string,message:i.message}),n.dirty());else if("cuid"===i.kind)aO.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:ap.invalid_string,message:i.message}),n.dirty());else if("cuid2"===i.kind)aE.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:ap.invalid_string,message:i.message}),n.dirty());else if("ulid"===i.kind)aA.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:ap.invalid_string,message:i.message}),n.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{a_(t=this._getOrReturnCtx(e,t),{validation:"url",code:ap.invalid_string,message:i.message}),n.dirty()}else{var r,a;"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{validation:"regex",code:ap.invalid_string,message:i.message}),n.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):"datetime"===i.kind?aZ(i).test(e.data)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.invalid_string,validation:"datetime",message:i.message}),n.dirty()):"ip"===i.kind?(r=e.data,("v4"===(a=i.version)||!a)&&aj.test(r)||("v6"===a||!a)&&aD.test(r)||(a_(t=this._getOrReturnCtx(e,t),{validation:"ip",code:ap.invalid_string,message:i.message}),n.dirty())):iQ.assertNever(i)}return{status:n.value,value:e.data}}_addCheck(e){return new aF({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...i1.errToObj(e)})}url(e){return this._addCheck({kind:"url",...i1.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...i1.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...i1.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...i1.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...i1.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...i1.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...i1.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...i1.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...i1.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...i1.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...i1.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...i1.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...i1.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...i1.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...i1.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}aF.create=e=>{var t;return new aF({checks:[],typeName:i2.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...aC(e)})};class aU extends aR{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ac.number){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.number,received:t.parsedType}),av}let n=new ay;for(let r of this._def.checks)"int"===r.kind?iQ.isInteger(e.data)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}(e.data,r.value)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(a_(t=this._getOrReturnCtx(e,t),{code:ap.not_finite,message:r.message}),n.dirty()):iQ.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,i1.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i1.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i1.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i1.toString(t))}setLimit(e,t,n,r){return new aU({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:i1.toString(r)}]})}_addCheck(e){return new aU({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:i1.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i1.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i1.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i1.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i1.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i1.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:i1.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i1.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i1.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&iQ.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}aU.create=e=>new aU({checks:[],typeName:i2.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...aC(e)});class az extends aR{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ac.bigint){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.bigint,received:t.parsedType}),av}let n=new ay;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):iQ.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,i1.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i1.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i1.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i1.toString(t))}setLimit(e,t,n,r){return new az({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:i1.toString(r)}]})}_addCheck(e){return new az({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i1.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i1.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i1.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i1.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i1.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}az.create=e=>{var t;return new az({checks:[],typeName:i2.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...aC(e)})};class aL extends aR{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ac.boolean){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.boolean,received:t.parsedType}),av}return ab(e.data)}}aL.create=e=>new aL({typeName:i2.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...aC(e)});class a$ extends aR{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ac.date){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.date,received:t.parsedType}),av}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_date}),av}let n=new ay;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(a_(t=this._getOrReturnCtx(e,t),{code:ap.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):iQ.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new a$({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:i1.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:i1.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}a$.create=e=>new a$({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:i2.ZodDate,...aC(e)});class aV extends aR{_parse(e){if(this._getType(e)!==ac.symbol){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.symbol,received:t.parsedType}),av}return ab(e.data)}}aV.create=e=>new aV({typeName:i2.ZodSymbol,...aC(e)});class aM extends aR{_parse(e){if(this._getType(e)!==ac.undefined){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.undefined,received:t.parsedType}),av}return ab(e.data)}}aM.create=e=>new aM({typeName:i2.ZodUndefined,...aC(e)});class aB extends aR{_parse(e){if(this._getType(e)!==ac.null){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.null,received:t.parsedType}),av}return ab(e.data)}}aB.create=e=>new aB({typeName:i2.ZodNull,...aC(e)});class aW extends aR{constructor(){super(...arguments),this._any=!0}_parse(e){return ab(e.data)}}aW.create=e=>new aW({typeName:i2.ZodAny,...aC(e)});class aK extends aR{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ab(e.data)}}aK.create=e=>new aK({typeName:i2.ZodUnknown,...aC(e)});class aG extends aR{_parse(e){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.never,received:t.parsedType}),av}}aG.create=e=>new aG({typeName:i2.ZodNever,...aC(e)});class aH extends aR{_parse(e){if(this._getType(e)!==ac.undefined){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.void,received:t.parsedType}),av}return ab(e.data)}}aH.create=e=>new aH({typeName:i2.ZodVoid,...aC(e)});class aJ extends aR{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ac.array)return a_(t,{code:ap.invalid_type,expected:ac.array,received:t.parsedType}),av;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(a_(t,{code:e?ap.too_big:ap.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(a_(t,{code:ap.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(a_(t,{code:ap.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new aT(t,e,t.path,n)))).then(e=>ay.mergeArray(n,e));let a=[...t.data].map((e,n)=>r.type._parseSync(new aT(t,e,t.path,n)));return ay.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new aJ({...this._def,minLength:{value:e,message:i1.toString(t)}})}max(e,t){return new aJ({...this._def,maxLength:{value:e,message:i1.toString(t)}})}length(e,t){return new aJ({...this._def,exactLength:{value:e,message:i1.toString(t)}})}nonempty(e){return this.min(1,e)}}aJ.create=(e,t)=>new aJ({type:e,minLength:null,maxLength:null,exactLength:null,typeName:i2.ZodArray,...aC(t)});class aY extends aR{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=iQ.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ac.object){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.object,received:t.parsedType}),av}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof aG&&"strip"===this._def.unknownKeys))for(let e in n.data)a.includes(e)||i.push(e);let s=[];for(let e of a){let t=r[e],a=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new aT(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof aG){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(a_(n,{code:ap.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new aT(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>ay.mergeObjectSync(t,e)):ay.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return i1.errToObj,new aY({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,s;let o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=i1.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new aY({...this._def,unknownKeys:"strip"})}passthrough(){return new aY({...this._def,unknownKeys:"passthrough"})}extend(e){return new aY({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new aY({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:i2.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new aY({...this._def,catchall:e})}pick(e){let t={};return iQ.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new aY({...this._def,shape:()=>t})}omit(e){let t={};return iQ.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new aY({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(!(t instanceof aY))return t instanceof aJ?new aJ({...t._def,type:e(t.element)}):t instanceof ii?ii.create(e(t.unwrap())):t instanceof is?is.create(e(t.unwrap())):t instanceof a2?a2.create(t.items.map(t=>e(t))):t;{let n={};for(let r in t.shape){let a=t.shape[r];n[r]=ii.create(e(a))}return new aY({...t._def,shape:()=>n})}}(this)}partial(e){let t={};return iQ.objectKeys(this.shape).forEach(n=>{let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new aY({...this._def,shape:()=>t})}required(e){let t={};return iQ.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ii;)e=e._def.innerType;t[n]=e}}),new aY({...this._def,shape:()=>t})}keyof(){return a7(iQ.objectKeys(this.shape))}}aY.create=(e,t)=>new aY({shape:()=>e,unknownKeys:"strip",catchall:aG.create(),typeName:i2.ZodObject,...aC(t)}),aY.strictCreate=(e,t)=>new aY({shape:()=>e,unknownKeys:"strict",catchall:aG.create(),typeName:i2.ZodObject,...aC(t)}),aY.lazycreate=(e,t)=>new aY({shape:e,unknownKeys:"strip",catchall:aG.create(),typeName:i2.ZodObject,...aC(t)});class aX extends aR{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new ah(e.ctx.common.issues));return a_(t,{code:ap.invalid_union,unionErrors:n}),av});{let e;let r=[];for(let a of n){let n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=r.map(e=>new ah(e));return a_(t,{code:ap.invalid_union,unionErrors:a}),av}}get options(){return this._def.options}}aX.create=(e,t)=>new aX({options:e,typeName:i2.ZodUnion,...aC(t)});let aQ=e=>e instanceof a6?aQ(e.schema):e instanceof ia?aQ(e.innerType()):e instanceof a8?[e.value]:e instanceof ie?e.options:e instanceof it?Object.keys(e.enum):e instanceof io?aQ(e._def.innerType):e instanceof aM?[void 0]:e instanceof aB?[null]:null;class a0 extends aR{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ac.object)return a_(t,{code:ap.invalid_type,expected:ac.object,received:t.parsedType}),av;let n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(a_(t,{code:ap.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),av)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=aQ(n.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(r.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,n)}}return new a0({typeName:i2.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...aC(n)})}}class a1 extends aR{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(aw(e)||aw(r))return av;let a=function e(t,n){let r=ad(t),a=ad(n);if(t===n)return{valid:!0,data:t};if(r===ac.object&&a===ac.object){let r=iQ.objectKeys(n),a=iQ.objectKeys(t).filter(e=>-1!==r.indexOf(e)),i={...t,...n};for(let r of a){let a=e(t[r],n[r]);if(!a.valid)return{valid:!1};i[r]=a.data}return{valid:!0,data:i}}if(r!==ac.array||a!==ac.array)return r===ac.date&&a===ac.date&&+t==+n?{valid:!0,data:t}:{valid:!1};{if(t.length!==n.length)return{valid:!1};let r=[];for(let a=0;a<t.length;a++){let i=t[a],s=n[a],o=e(i,s);if(!o.valid)return{valid:!1};r.push(o.data)}return{valid:!0,data:r}}}(e.value,r.value);return a.valid?((ax(e)||ax(r))&&t.dirty(),{status:t.value,value:a.data}):(a_(n,{code:ap.invalid_intersection_types}),av)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}a1.create=(e,t,n)=>new a1({left:e,right:t,typeName:i2.ZodIntersection,...aC(n)});class a2 extends aR{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ac.array)return a_(n,{code:ap.invalid_type,expected:ac.array,received:n.parsedType}),av;if(n.data.length<this._def.items.length)return a_(n,{code:ap.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),av;!this._def.rest&&n.data.length>this._def.items.length&&(a_(n,{code:ap.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new aT(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>ay.mergeArray(t,e)):ay.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new a2({...this._def,rest:e})}}a2.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new a2({items:e,typeName:i2.ZodTuple,rest:null,...aC(t)})};class a9 extends aR{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ac.object)return a_(n,{code:ap.invalid_type,expected:ac.object,received:n.parsedType}),av;let r=[],a=this._def.keyType,i=this._def.valueType;for(let e in n.data)r.push({key:a._parse(new aT(n,e,n.path,e)),value:i._parse(new aT(n,n.data[e],n.path,e))});return n.common.async?ay.mergeObjectAsync(t,r):ay.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new a9(t instanceof aR?{keyType:e,valueType:t,typeName:i2.ZodRecord,...aC(n)}:{keyType:aF.create(),valueType:e,typeName:i2.ZodRecord,...aC(t)})}}class a4 extends aR{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ac.map)return a_(n,{code:ap.invalid_type,expected:ac.map,received:n.parsedType}),av;let r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([e,t],i)=>({key:r._parse(new aT(n,e,n.path,[i,"key"])),value:a._parse(new aT(n,t,n.path,[i,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of i){let r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return av;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of i){let r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return av;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}a4.create=(e,t,n)=>new a4({valueType:t,keyType:e,typeName:i2.ZodMap,...aC(n)});class a3 extends aR{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ac.set)return a_(n,{code:ap.invalid_type,expected:ac.set,received:n.parsedType}),av;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(a_(n,{code:ap.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(a_(n,{code:ap.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let n=new Set;for(let r of e){if("aborted"===r.status)return av;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let s=[...n.data.values()].map((e,t)=>a._parse(new aT(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(e,t){return new a3({...this._def,minSize:{value:e,message:i1.toString(t)}})}max(e,t){return new a3({...this._def,maxSize:{value:e,message:i1.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}a3.create=(e,t)=>new a3({valueType:e,minSize:null,maxSize:null,typeName:i2.ZodSet,...aC(t)});class a5 extends aR{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ac.function)return a_(t,{code:ap.invalid_type,expected:ac.function,received:t.parsedType}),av;function n(e,n){return am({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,af,af].filter(e=>!!e),issueData:{code:ap.invalid_arguments,argumentsError:n}})}function r(e,n){return am({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,af,af].filter(e=>!!e),issueData:{code:ap.invalid_return_type,returnTypeError:n}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof ir?ab(async(...e)=>{let t=new ah([]),s=await this._def.args.parseAsync(e,a).catch(r=>{throw t.addIssue(n(e,r)),t}),o=await i(...s);return await this._def.returns._def.type.parseAsync(o,a).catch(e=>{throw t.addIssue(r(o,e)),t})}):ab((...e)=>{let t=this._def.args.safeParse(e,a);if(!t.success)throw new ah([n(e,t.error)]);let s=i(...t.data),o=this._def.returns.safeParse(s,a);if(!o.success)throw new ah([r(s,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new a5({...this._def,args:a2.create(e).rest(aK.create())})}returns(e){return new a5({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new a5({args:e||a2.create([]).rest(aK.create()),returns:t||aK.create(),typeName:i2.ZodFunction,...aC(n)})}}class a6 extends aR{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}a6.create=(e,t)=>new a6({getter:e,typeName:i2.ZodLazy,...aC(t)});class a8 extends aR{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return a_(t,{received:t.data,code:ap.invalid_literal,expected:this._def.value}),av}return{status:"valid",value:e.data}}get value(){return this._def.value}}function a7(e,t){return new ie({values:e,typeName:i2.ZodEnum,...aC(t)})}a8.create=(e,t)=>new a8({value:e,typeName:i2.ZodLiteral,...aC(t)});class ie extends aR{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return a_(t,{expected:iQ.joinValues(n),received:t.parsedType,code:ap.invalid_type}),av}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return a_(t,{received:t.data,code:ap.invalid_enum_value,options:n}),av}return ab(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return ie.create(e)}exclude(e){return ie.create(this.options.filter(t=>!e.includes(t)))}}ie.create=a7;class it extends aR{_parse(e){let t=iQ.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ac.string&&n.parsedType!==ac.number){let e=iQ.objectValues(t);return a_(n,{expected:iQ.joinValues(e),received:n.parsedType,code:ap.invalid_type}),av}if(-1===t.indexOf(e.data)){let e=iQ.objectValues(t);return a_(n,{received:n.data,code:ap.invalid_enum_value,options:e}),av}return ab(e.data)}get enum(){return this._def.values}}it.create=(e,t)=>new it({values:e,typeName:i2.ZodNativeEnum,...aC(t)});class ir extends aR{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ac.promise&&!1===t.common.async)return a_(t,{code:ap.invalid_type,expected:ac.promise,received:t.parsedType}),av;let n=t.parsedType===ac.promise?t.data:Promise.resolve(t.data);return ab(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ir.create=(e,t)=>new ir({type:e,typeName:i2.ZodPromise,...aC(t)});class ia extends aR{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===i2.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){let e=r.transform(n.data);return n.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:e,path:n.path,parent:n})}let a={addIssue:e=>{a_(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){let e=e=>{let t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?av:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?av:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>ak(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ak(e))return e;let i=r.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}iQ.assertNever(r)}}ia.create=(e,t,n)=>new ia({schema:e,typeName:i2.ZodEffects,effect:t,...aC(n)}),ia.createWithPreprocess=(e,t,n)=>new ia({schema:t,effect:{type:"preprocess",transform:e},typeName:i2.ZodEffects,...aC(n)});class ii extends aR{_parse(e){return this._getType(e)===ac.undefined?ab(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ii.create=(e,t)=>new ii({innerType:e,typeName:i2.ZodOptional,...aC(t)});class is extends aR{_parse(e){return this._getType(e)===ac.null?ab(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}is.create=(e,t)=>new is({innerType:e,typeName:i2.ZodNullable,...aC(t)});class io extends aR{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===ac.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}io.create=(e,t)=>new io({innerType:e,typeName:i2.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...aC(t)});class iu extends aR{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return aS(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ah(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ah(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}iu.create=(e,t)=>new iu({innerType:e,typeName:i2.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...aC(t)});class il extends aR{_parse(e){if(this._getType(e)!==ac.nan){let t=this._getOrReturnCtx(e);return a_(t,{code:ap.invalid_type,expected:ac.nan,received:t.parsedType}),av}return{status:"valid",value:e.data}}}il.create=e=>new il({typeName:i2.ZodNaN,...aC(e)});class ic extends aR{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class id extends aR{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?av:"dirty"===e.status?(t.dirty(),ag(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?av:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new id({in:e,out:t,typeName:i2.ZodPipeline})}}aY.lazycreate,(iK=i2||(i2={})).ZodString="ZodString",iK.ZodNumber="ZodNumber",iK.ZodNaN="ZodNaN",iK.ZodBigInt="ZodBigInt",iK.ZodBoolean="ZodBoolean",iK.ZodDate="ZodDate",iK.ZodSymbol="ZodSymbol",iK.ZodUndefined="ZodUndefined",iK.ZodNull="ZodNull",iK.ZodAny="ZodAny",iK.ZodUnknown="ZodUnknown",iK.ZodNever="ZodNever",iK.ZodVoid="ZodVoid",iK.ZodArray="ZodArray",iK.ZodObject="ZodObject",iK.ZodUnion="ZodUnion",iK.ZodDiscriminatedUnion="ZodDiscriminatedUnion",iK.ZodIntersection="ZodIntersection",iK.ZodTuple="ZodTuple",iK.ZodRecord="ZodRecord",iK.ZodMap="ZodMap",iK.ZodSet="ZodSet",iK.ZodFunction="ZodFunction",iK.ZodLazy="ZodLazy",iK.ZodLiteral="ZodLiteral",iK.ZodEnum="ZodEnum",iK.ZodEffects="ZodEffects",iK.ZodNativeEnum="ZodNativeEnum",iK.ZodOptional="ZodOptional",iK.ZodNullable="ZodNullable",iK.ZodDefault="ZodDefault",iK.ZodCatch="ZodCatch",iK.ZodPromise="ZodPromise",iK.ZodBranded="ZodBranded",iK.ZodPipeline="ZodPipeline";let ip=aF.create;aU.create,il.create,az.create;let ih=aL.create;a$.create,aV.create,aM.create,aB.create,aW.create,aK.create,aG.create,aH.create;let im=aJ.create,i_=aY.create;aY.strictCreate,aX.create;let iy=a0.create;a1.create,a2.create,a9.create,a4.create,a3.create,a5.create,a6.create;let iv=a8.create;ie.create,it.create,ir.create,ia.create,ii.create,is.create,ia.createWithPreprocess,id.create;let ig={persona:"persona",account:"account"},ib=i_({challenge:ip(),proof:t5,address:ip(),type:iv(ig.persona)}),iw=i_({challenge:ip(),proof:t5,address:ip(),type:iv(ig.account)}),ix=iy("type",[ib,iw]),ik=i_({entry:iv("fullName"),fields:nt}),iS=i_({entry:iv("emailAddresses"),fields:im(ip())}),iT=i_({entry:iv("phoneNumbers"),fields:im(ip())}),iP=iy("entry",[ik,iS,iT]),iC=i_({accounts:im(t3),personaData:im(iP),persona:t8.optional(),proofs:im(ix)}),iR=i_({persona:i_({proof:ih()}).optional(),ongoingAccounts:i_({numberOfAccounts:nn.optional(),proof:ih()}).optional(),ongoingPersonaData:ni.optional()}),iO=i_({loggedInTimestamp:ip(),walletData:iC,sharedData:iR}),iE={accounts:[],personaData:[],proofs:[],persona:void 0},iA=()=>({walletData:new z(iE),sharedData:new z({}),loggedInTimestamp:new z(""),initialized:new z(!1)});function iI(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,o)}u((r=r.apply(e,t||[])).next())})}function iN(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function iq(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function ij(e,t,n){if(n||2==arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var iD={withStackTrace:!1},iZ=function(e,t,n){return void 0===n&&(n=iD),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?Error().stack:void 0}},iF=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){var n=t.then(function(e){return new se(e)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(e){return new se(e)}).catch(function(e){return new st(n(e))});return new e(r)},e.combine=function(e){return i3(e)},e.combineWithAllErrors=function(e){return i6(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(e){return iI(n,void 0,void 0,function(){var n;return iN(this,function(r){switch(r.label){case 0:return e.isErr()?[2,new st(e.error)]:(n=se.bind,[4,t(e.value)]);case 1:return[2,new(n.apply(se,[void 0,r.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(e){return iI(n,void 0,void 0,function(){var n;return iN(this,function(r){switch(r.label){case 0:return e.isOk()?[2,new se(e.value)]:(n=st.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(st,[void 0,r.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new st(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(e){return iI(n,void 0,void 0,function(){return iN(this,function(n){return e.isErr()?[2,t(e.error)]:[2,new se(e.value)]})})}))},e.prototype.match=function(e,t){return this._promise.then(function(n){return n.match(e,t)})},e.prototype.unwrapOr=function(e){return this._promise.then(function(t){return t.unwrapOr(e)})},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),iU=function(e){return new iF(Promise.resolve(new se(e)))},iz=function(e){return new iF(Promise.resolve(new st(e)))};iF.fromPromise,iF.fromSafePromise;var iL,i$,iV,iM,iB,iW,iK,iG,iH,iJ,iY,iX,iQ,i0,i1,i2,i9,i4=function(e){return e.reduce(function(e,t){var n;return e.isOk()?t.isErr()?i7(t.error):e.map((n=t.value,function(e){return ij(ij([],iq(e),!1),[n],!1)})):e},i8([]))},i3=function(e){return iF.fromSafePromise(Promise.all(e)).andThen(i4)},i5=function(e){return e.reduce(function(e,t){return t.isErr()?e.isErr()?i7(ij(ij([],iq(e.error),!1),[t.error],!1)):i7([t.error]):e.isErr()?e:i8(ij(ij([],iq(e.value),!1),[t.value],!1))},i8([]))},i6=function(e){return iF.fromSafePromise(Promise.all(e)).andThen(i5)};(r=i9||(i9={})).fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,ij([],iq(n),!1));return i8(a)}catch(e){return i7(t?t(e):e)}}},r.combine=function(e){return i4(e)},r.combineWithAllErrors=function(e){return i5(e)};var i8=function(e){return new se(e)},i7=function(e){return new st(e)},se=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return i8(e(this.value))},e.prototype.mapErr=function(e){return i8(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return i8(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return iF.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw iZ("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),st=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return i7(this.error)},e.prototype.mapErr=function(e){return i7(e(this.error))},e.prototype.andThen=function(e){return i7(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return iz(this.error)},e.prototype.asyncMap=function(e){return iz(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw iZ("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();i9.fromThrowable;var sn=Symbol.for("immer-nothing"),sr=Symbol.for("immer-draftable"),sa=Symbol.for("immer-state");function si(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ss=Object.getPrototypeOf;function so(e){return!!e&&!!e[sa]}function su(e){var t;return!!e&&(sc(e)||Array.isArray(e)||!!e[sr]||!!(null!=(t=e.constructor)&&t[sr])||sm(e)||s_(e))}var sl=Object.prototype.constructor.toString();function sc(e){if(!e||"object"!=typeof e)return!1;let t=ss(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===sl}function sd(e,t){0===sp(e)?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function sp(e){let t=e[sa];return t?t.type_:Array.isArray(e)?1:sm(e)?2:s_(e)?3:0}function sh(e,t){return 2===sp(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sf(e,t,n){let r=sp(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function sm(e){return e instanceof Map}function s_(e){return e instanceof Set}function sy(e){return e.copy_||e.base_}function sv(e,t){if(sm(e))return new Map(e);if(s_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&sc(e))return ss(e)?{...e}:Object.assign(Object.create(null),e);let n=Object.getOwnPropertyDescriptors(e);delete n[sa];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){let a=r[t],i=n[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(ss(e),n)}function sg(e,t=!1){return sw(e)||so(e)||!su(e)||(sp(e)>1&&(e.set=e.add=e.clear=e.delete=sb),Object.freeze(e),t&&sd(e,(e,t)=>sg(t,!0))),e}function sb(){si(2)}function sw(e){return Object.isFrozen(e)}var sx={};function sk(e){let t=sx[e];return t||si(0,e),t}function sS(e,t){t&&(sk("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sT(e){sP(e),e.drafts_.forEach(sR),e.drafts_=null}function sP(e){e===a&&(a=e.parent_)}function sC(e){return a={drafts_:[],parent_:a,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sR(e){let t=e[sa];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function sO(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return void 0!==e&&e!==n?(n[sa].modified_&&(sT(t),si(4)),su(e)&&(e=sE(t,e),t.parent_||sI(t,e)),t.patches_&&sk("Patches").generateReplacementPatches_(n[sa].base_,e,t.patches_,t.inversePatches_)):e=sE(t,n,[]),sT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sn?e:void 0}function sE(e,t,n){if(sw(t))return t;let r=t[sa];if(!r)return sd(t,(a,i)=>sA(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return sI(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let t=r.copy_,a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),sd(a,(a,s)=>sA(e,r,t,a,s,n,i)),sI(e,t,!1),n&&e.patches_&&sk("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function sA(e,t,n,r,a,i,s){if(so(a)){let s=i&&t&&3!==t.type_&&!sh(t.assigned_,r)?i.concat(r):void 0,o=sE(e,a,s);if(sf(n,r,o),!so(o))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(su(a)&&!sw(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sE(e,a),t&&t.scope_.parent_||sI(e,a)}}function sI(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sg(t,n)}var sN={get(e,t){if(t===sa)return e;let n=sy(e);if(!sh(n,t))return function(e,t,n){var r;let a=sD(t,n);return a?"value"in a?a.value:null==(r=a.get)?void 0:r.call(e.draft_):void 0}(e,n,t);let r=n[t];return e.finalized_||!su(r)?r:r===sj(e.base_,t)?(sF(e),e.copy_[t]=sU(r,e)):r},has:(e,t)=>t in sy(e),ownKeys:e=>Reflect.ownKeys(sy(e)),set(e,t,n){let r=sD(sy(e),t);if(null!=r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=sj(sy(e),t),a=null==r?void 0:r[sa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if((n===r?0!==n||1/n==1/r:n!=n&&r!=r)&&(void 0!==n||sh(e.base_,t)))return!0;sF(e),sZ(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==sj(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,sF(e),sZ(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let n=sy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){si(11)},getPrototypeOf:e=>ss(e.base_),setPrototypeOf(){si(12)}},sq={};function sj(e,t){let n=e[sa];return(n?sy(n):e)[t]}function sD(e,t){if(!(t in e))return;let n=ss(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ss(n)}}function sZ(e){e.modified_||(e.modified_=!0,e.parent_&&sZ(e.parent_))}function sF(e){e.copy_||(e.copy_=sv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function sU(e,t){let n=sm(e)?sk("MapSet").proxyMap_(e,t):s_(e)?sk("MapSet").proxySet_(e,t):function(e,t){let n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,s=sN;n&&(i=[r],s=sq);let{revoke:o,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=o,u}(e,t);return(t?t.scope_:a).drafts_.push(n),n}sd(sN,(e,t)=>{sq[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),sq.deleteProperty=function(e,t){return sq.set.call(this,e,t,void 0)},sq.set=function(e,t,n){return sN.set.call(this,e[0],t,n,e[0])};var sz=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{let r;if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(e=n,...a){return r.produce(e,e=>t.call(this,e,...a))}}if("function"!=typeof t&&si(6),void 0!==n&&"function"!=typeof n&&si(7),su(e)){let a=sC(this),i=sU(e,void 0),s=!0;try{r=t(i),s=!1}finally{s?sT(a):sP(a)}return sS(a,n),sO(r,a)}if(e&&"object"==typeof e)si(1,e);else{if(void 0===(r=t(e))&&(r=e),r===sn&&(r=void 0),this.autoFreeze_&&sg(r,!0),n){let t=[],a=[];sk("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}},this.produceWithPatches=(e,t)=>{let n,r;return"function"==typeof e?(t,...n)=>this.produceWithPatches(t,t=>e(t,...n)):[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;su(e)||si(8),so(e)&&(so(t=e)||si(10,t),e=function e(t){let n;if(!su(t)||sw(t))return t;let r=t[sa];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=sv(t,r.scope_.immer_.useStrictShallowCopy_)}else n=sv(t,!0);return sd(n,(t,r)=>{sf(n,t,e(r))}),r&&(r.finalized_=!1),n}(t));let n=sC(this),r=sU(e,void 0);return r[sa].isManual_=!0,sP(n),r}finishDraft(e,t){let n=e&&e[sa];n&&n.isManual_||si(9);let{scope_:r}=n;return sS(r,t),sO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=sk("Patches").applyPatches_;return so(e)?r(e,t):this.produce(e,e=>r(e,t))}},sL=sz.produce;sz.produceWithPatches.bind(sz),sz.setAutoFreeze.bind(sz),sz.setUseStrictShallowCopy.bind(sz),sz.applyPatches.bind(sz),sz.createDraft.bind(sz),sz.finishDraft.bind(sz);var s$="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof n.g?n.g:"u">typeof self?self:{},sV={exports:{}};sV.exports,function(e,t){var n,r,a,i="__lodash_hash_undefined__",s="[object Arguments]",o="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",m="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[o]=S[b]=S[u]=S[w]=S[l]=S[c]=S[d]=S[p]=S[h]=S[f]=S[_]=S[y]=S[v]=S[g]=!1;var T="object"==typeof s$&&s$&&s$.Object===Object&&s$,P="object"==typeof self&&self&&self.Object===Object&&self,C=T||P||Function("return this")(),R=t&&!t.nodeType&&t,O=R&&e&&!e.nodeType&&e,E=O&&O.exports===R,A=E&&T.process,I=function(){try{return A&&A.binding&&A.binding("util")}catch{}}(),N=I&&I.isTypedArray;function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var D=Array.prototype,Z=Function.prototype,F=Object.prototype,U=C["__core-js_shared__"],z=Z.toString,L=F.hasOwnProperty,$=(n=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",V=F.toString,M=RegExp("^"+z.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=E?C.Buffer:void 0,W=C.Symbol,K=C.Uint8Array,G=F.propertyIsEnumerable,H=D.splice,J=W?W.toStringTag:void 0,Y=Object.getOwnPropertySymbols,X=B?B.isBuffer:void 0,Q=(r=Object.keys,a=Object,function(e){return r(a(e))}),ee=eS(C,"DataView"),et=eS(C,"Map"),en=eS(C,"Promise"),er=eS(C,"Set"),ea=eS(C,"WeakMap"),ei=eS(Object,"create"),es=eC(ee),eo=eC(et),eu=eC(en),el=eC(er),ec=eC(ea),ed=W?W.prototype:void 0,ep=ed?ed.valueOf:void 0;function eh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ef(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function em(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function e_(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new em;++t<n;)this.add(e[t])}function ey(e){var t=this.__data__=new ef(e);this.size=t.size}function ev(e,t){for(var n=e.length;n--;)if(eR(e[n][0],t))return n;return -1}function eg(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=L.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch{}var a=V.call(e);return r&&(t?e[J]=n:delete e[J]),a}(e):V.call(e)}function eb(e){return ej(e)&&eg(e)==s}function ew(e,t,n,r,a,i){var s=1&n,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var c=-1,d=!0,p=2&n?new e_:void 0;for(i.set(e,t),i.set(t,e);++c<o;){var h=e[c],f=t[c];if(r)var m=s?r(f,h,c,t,e,i):r(h,f,c,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){if(!p.has(t)&&(h===e||a(h,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(!(h===f||a(h,f,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function ex(e){var t;return t=function(e){return null!=e&&eN(e.length)&&!eI(e)?function(e,t){var n,r=eE(e),a=!r&&eO(e),i=!r&&!a&&eA(e),s=!r&&!a&&!i&&eD(e),o=r||a||i||s,u=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=u.length;for(var c in e)L.call(e,c)&&!(o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||(n=(n=l)??9007199254740991)&&("number"==typeof c||k.test(c))&&c>-1&&c%1==0&&c<n))&&u.push(c);return u}(e):function(e){if(n="function"==typeof(t=e&&e.constructor)&&t.prototype||F,e!==n)return Q(e);var t,n,r=[];for(var a in Object(e))L.call(e,a)&&"constructor"!=a&&r.push(a);return r}(e)}(e),eE(e)?t:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(t,eT(e))}function ek(e,t){var n,r=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function eS(e,t){var n=null==e?void 0:e[t];return!(!eq(n)||$&&$ in n)&&(eI(n)?M:x).test(eC(n))?n:void 0}eh.prototype.clear=function(){this.__data__=ei?ei(null):{},this.size=0},eh.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eh.prototype.get=function(e){var t=this.__data__;if(ei){var n=t[e];return n===i?void 0:n}return L.call(t,e)?t[e]:void 0},eh.prototype.has=function(e){var t=this.__data__;return ei?void 0!==t[e]:L.call(t,e)},eh.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ei&&void 0===t?i:t,this},ef.prototype.clear=function(){this.__data__=[],this.size=0},ef.prototype.delete=function(e){var t=this.__data__,n=ev(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),--this.size,!0)},ef.prototype.get=function(e){var t=this.__data__,n=ev(t,e);return n<0?void 0:t[n][1]},ef.prototype.has=function(e){return ev(this.__data__,e)>-1},ef.prototype.set=function(e,t){var n=this.__data__,r=ev(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},em.prototype.clear=function(){this.size=0,this.__data__={hash:new eh,map:new(et||ef),string:new eh}},em.prototype.delete=function(e){var t=ek(this,e).delete(e);return this.size-=t?1:0,t},em.prototype.get=function(e){return ek(this,e).get(e)},em.prototype.has=function(e){return ek(this,e).has(e)},em.prototype.set=function(e,t){var n=ek(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},e_.prototype.add=e_.prototype.push=function(e){return this.__data__.set(e,i),this},e_.prototype.has=function(e){return this.__data__.has(e)},ey.prototype.clear=function(){this.__data__=new ef,this.size=0},ey.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ey.prototype.get=function(e){return this.__data__.get(e)},ey.prototype.has=function(e){return this.__data__.has(e)},ey.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ef){var r=n.__data__;if(!et||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new em(r)}return n.set(e,t),this.size=n.size,this};var eT=Y?function(e){return null==e?[]:function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}(Y(e=Object(e)),function(t){return G.call(e,t)})}:function(){return[]},eP=eg;function eC(e){if(null!=e){try{return z.call(e)}catch{}try{return e+""}catch{}}return""}function eR(e,t){return e===t||e!=e&&t!=t}(ee&&eP(new ee(new ArrayBuffer(1)))!=w||et&&eP(new et)!=p||en&&eP(en.resolve())!=m||er&&eP(new er)!=y||ea&&eP(new ea)!=g)&&(eP=function(e){var t=eg(e),n=t==f?e.constructor:void 0,r=n?eC(n):"";if(r)switch(r){case es:return w;case eo:return p;case eu:return m;case el:return y;case ec:return g}return t});var eO=eb(function(){return arguments}())?eb:function(e){return ej(e)&&L.call(e,"callee")&&!G.call(e,"callee")},eE=Array.isArray,eA=X||function(){return!1};function eI(e){if(!eq(e))return!1;var t=eg(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eN(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eq(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ej(e){return null!=e&&"object"==typeof e}var eD=N?function(e){return N(e)}:function(e){return ej(e)&&eN(e.length)&&!!S[eg(e)]};e.exports=function(e,t){return function e(t,n,r,a,i){return t===n||(null!=t&&null!=n&&(ej(t)||ej(n))?function(e,t,n,r,a,i){var d=eE(e),m=eE(t),g=d?o:eP(e),x=m?o:eP(t);g=g==s?f:g,x=x==s?f:x;var k=g==f,S=x==f,T=g==x;if(T&&eA(e)){if(!eA(t))return!1;d=!0,k=!1}if(T&&!k)return i||(i=new ey),d||eD(e)?ew(e,t,n,r,a,i):function(e,t,n,r,a,i,s){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new K(e),new K(t)));case u:case l:case h:return eR(+e,+t);case c:return e.name==t.name&&e.message==t.message;case _:case v:return e==t+"";case p:var o=q;case y:var d=1&r;if(o||(o=j),e.size!=t.size&&!d)break;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var m=ew(o(e),o(t),r,a,i,s);return s.delete(e),m;case"[object Symbol]":if(ep)return ep.call(e)==ep.call(t)}return!1}(e,t,g,n,r,a,i);if(!(1&n)){var P=k&&L.call(e,"__wrapped__"),C=S&&L.call(t,"__wrapped__");if(P||C){var R=P?e.value():e,O=C?t.value():t;return i||(i=new ey),a(R,O,n,r,i)}}return!!T&&(i||(i=new ey),function(e,t,n,r,a,i){var s=1&n,o=ex(e),u=o.length;if(u!=ex(t).length&&!s)return!1;for(var l=u;l--;){var c=o[l];if(!(s?c in t:L.call(t,c)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=s;++l<u;){var f=e[c=o[l]],m=t[c];if(r)var _=s?r(m,f,c,t,e,i):r(f,m,c,e,t,i);if(!(void 0===_?f===m||a(f,m,n,r,i):_)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,v=t.constructor;y!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,a,i))}(t,n,r,a,e,i):t!=t&&n!=n)}(e,t)}}(sV,sV.exports);var sM=sV.exports;let sB=sM&&sM.__esModule&&Object.prototype.hasOwnProperty.call(sM,"default")?sM.default:sM,sW=(e,t,n)=>{var r;let a=n.logger,i=n.subjects??iA(),s=new _,o=eS([i.walletData,i.sharedData,i.loggedInTimestamp]).pipe(ey(([e,t,n])=>({walletData:e,sharedData:t,loggedInTimestamp:n}))),u=e=>{let{walletData:t,sharedData:n,loggedInTimestamp:r}=e;t&&!sB(i.walletData.value,t)&&i.walletData.next(t),n&&i.sharedData.next(n),void 0!==r&&i.loggedInTimestamp.next(r)},l=()=>{sB(i.walletData.value,iE)||i.walletData.next(iE),i.sharedData.next({}),i.loggedInTimestamp.next("")};t.getData(e).map(e=>(e&&(null==a||a.debug("readFromStorage")),e)).andThen(e=>iF.fromPromise(iO.parseAsync(e),e=>e)).mapErr(()=>{null==a||a.debug("loadedCorruptedStateFromStorage"),l()}).map(e=>{if(e)return null==a||a.debug("initializeStateFromStorage"),u(sL(e,e=>(e.walletData.persona=e.walletData.persona??void 0,e)));null==a||a.debug("initializeStateFromDefault"),l()}),s.add(o.pipe(ej(n=>t.setData(e,sL(n,e=>{e.walletData.proofs=[]})).map(()=>{null==a||a.trace("writeToStorage",n)}))).subscribe()),s.add(o.pipe(eN(function(e,t){return 1<=t}),eq(),eD(()=>{i.initialized.next(!0)})).subscribe());let c=()=>({walletData:i.walletData.value,sharedData:i.sharedData.value,loggedInTimestamp:i.loggedInTimestamp.value});return{setState:u,getState:c,walletData$:eS([i.initialized,i.walletData]).pipe((void 0===r&&(r=K),q(function(e,t){var n=null,a=null,i=null,s=function(){if(n){n.unsubscribe(),n=null;var e=a;a=null,t.next(e)}};function o(){var e=i+1,a=r.now();if(a<e){n=this.schedule(void 0,e-a),t.add(n);return}s()}e.subscribe(j(t,function(e){a=e,i=r.now(),n||(n=r.schedule(o,1),t.add(n))},function(){s(),t.complete()},void 0,function(){a=n=null}))})),eN(([e])=>e),ey(()=>i.walletData.value)),getWalletData:()=>i.walletData.value,state$:i.initialized.pipe(eN(e=>e),ej(()=>o)),patchState:e=>{u({...c(),...e})},reset:l,stateInitialized$:i.initialized.asObservable(),destroy:()=>{l(),s.unsubscribe()}}},sK=()=>({onConnect:new F,onDisconnect:new F,onUpdateSharedData:new F,connected:new $(1),requestItems:new z([]),onCancelRequestItem:new F,accounts:new z([]),onShowPopover:new F,status:new z("default"),loggedInTimestamp:new z(""),isMobile:new z(!1),isWalletLinked:new z(!1),isExtensionAvailable:new z(!1),fullWidth:new z(!1),activeTab:new z("sharing"),mode:new z("light"),theme:new z("radix-blue"),avatarUrl:new z(""),personaLabel:new z(""),personaData:new z([]),dAppName:new z(""),onLinkClick:new F}),sG=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(globalThis.navigator?globalThis.navigator.userAgent:""),sH=e=>{n.e(7722).then(n.bind(n,27722));let t=e.subjects||sK(),r=e.logger,a=e.onConnect||(e=>{e()}),i=()=>document.querySelector("radix-connect-button"),s=new _;return s.add(eI(eO(document,"onRender"),ef(i()).pipe(eN(e=>!!e))).pipe(ey(()=>i()),eN(e=>!!e),ej(e=>{null==r||r.debug("connectButtonDiscovered");let n=eO(e,"onConnect").pipe(eD(()=>{a(n=>{e.isWalletLinked&&e.isExtensionAvailable&&t.onConnect.next(n)})})),i=eO(e,"onDisconnect").pipe(eD(()=>{t.onDisconnect.next()})),s=eO(e,"onLinkClick").pipe(eD(e=>{t.onLinkClick.next(e.detail)})),o=eO(e,"onDestroy").pipe(eD(()=>{null==r||r.debug("connectButtonRemovedFromDOM")})),u=eO(e,"onCancelRequestItem").pipe(eD(e=>{let n=e.detail.id;null==r||r.debug("onCancelRequestItem",{id:n}),t.onCancelRequestItem.next(n)})),l=eO(e,"onUpdateSharedData").pipe(eD(()=>{null==r||r.debug("onUpdateSharedData"),t.onUpdateSharedData.next()})),c=eO(e,"onShowPopover").pipe(eD(()=>{t.onShowPopover.next()})),d=t.status.pipe(eD(t=>e.status=t)),p=t.mode.pipe(eD(t=>e.mode=t)),h=t.connected.pipe(eD(t=>{e.connected=t})),f=t.isMobile.pipe(eD(t=>{e.isMobile=t})),m=t.isWalletLinked.pipe(eD(t=>{e.isWalletLinked=t})),_=t.isExtensionAvailable.pipe(eD(t=>{e.isExtensionAvailable=t})),y=t.loggedInTimestamp.pipe(eD(t=>{e.loggedInTimestamp=t})),v=t.activeTab.pipe(eD(t=>{e.activeTab=t})),g=t.requestItems.pipe(eD(t=>{e.requestItems=t})),b=t.accounts.pipe(eD(t=>{e.accounts=t})),w=t.personaData.pipe(eD(t=>{e.personaData=t})),x=t.personaLabel.pipe(eD(t=>{e.personaLabel=t})),k=t.dAppName.pipe(eD(t=>{e.dAppName=t})),S=t.theme.pipe(eD(t=>{e.theme=t}));return eI(n,d,S,p,h,g,y,f,v,m,_,i,u,b,w,x,o,l,c,k,s)})).subscribe()),{status$:t.status.asObservable(),onConnect$:t.onConnect.asObservable(),onDisconnect$:t.onDisconnect.asObservable(),onShowPopover$:t.onShowPopover.asObservable(),onUpdateSharedData$:t.onUpdateSharedData.asObservable(),onCancelRequestItem$:t.onCancelRequestItem.asObservable(),onLinkClick$:t.onLinkClick.asObservable(),setStatus:e=>t.status.next(e),setTheme:e=>t.theme.next(e),setMode:e=>t.mode.next(e),setActiveTab:e=>t.activeTab.next(e),setIsMobile:e=>t.isMobile.next(e),setIsWalletLinked:e=>t.isWalletLinked.next(e),setIsExtensionAvailable:e=>t.isExtensionAvailable.next(e),setLoggedInTimestamp:e=>t.loggedInTimestamp.next(e),setConnected:e=>t.connected.next(e),setRequestItems:e=>t.requestItems.next(e),setAccounts:e=>t.accounts.next(e),setPersonaData:e=>t.personaData.next(e),setPersonaLabel:e=>t.personaLabel.next(e),setDappName:e=>t.dAppName.next(e),disconnect:()=>{t.connected.next(!1),t.status.next("default")},destroy:()=>{s.unsubscribe()}}};var sJ=Object.defineProperty,sY=(e,t,n)=>t in e?sJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sX=(e,t,n)=>(sY(e,"symbol"!=typeof t?t+"":t,n),n);let sQ="https://mainnet.radixdlt.com".replace(/\/+$/,"");class s0{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:sQ}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,n=""){return Object.keys(t).map(r=>(function t(n,r,a=""){let i=a+(a.length?`[${n}]`:n);if(r instanceof Array){let e=r.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(i)}=`);return`${encodeURIComponent(i)}=${e}`}if(r instanceof Set){let e=Array.from(r);return t(n,e,a)}return r instanceof Date?`${encodeURIComponent(i)}=${encodeURIComponent(r.toISOString())}`:r instanceof Object?e(r,i):`${encodeURIComponent(i)}=${encodeURIComponent(String(r))}`})(r,t[r],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}let s1=new s0;class s2{constructor(e=s1){sX(this,"middleware"),sX(this,"fetchApi",async(e,t)=>{let n,r={url:e,init:t};for(let e of this.middleware)e.pre&&(r=await e.pre({fetch:this.fetchApi,...r})||r);try{n=await (this.configuration.fetchApi||fetch)(r.url,r.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n)throw e}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:r.url,init:r.init,response:n.clone()})||n);return n}),this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}async request(e,t){let{url:n,init:r}=await this.createFetchParams(e,t),a=await this.fetchApi(n,r);if(a&&a.status>=200&&a.status<300)return a;throw await s9.from(a)}async createFetchParams(e,t){var n,r;let a=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(a+="?"+this.configuration.queryParamsStringify(e.query));let i=Object.assign({},this.configuration.headers,e.headers);Object.keys(i).forEach(e=>void 0===i[e]?delete i[e]:{});let s={method:e.method,headers:i,body:e.body,credentials:this.configuration.credentials},o={...s,...await ("function"==typeof t?t:async()=>t)({init:s,context:e})},u={...o,body:(n=o.body,"u">typeof FormData&&n instanceof FormData||o.body instanceof URLSearchParams||(r=o.body,"u">typeof Blob&&r instanceof Blob))?o.body:JSON.stringify(o.body)};return{url:a,init:u}}clone(){let e=this.constructor,t=new e(this.configuration);return t.middleware=this.middleware.slice(),t}}class s9 extends Error{constructor(e,t,n){super(n?JSON.stringify(n):"Unknown error occurred"),sX(this,"name","ResponseError"),this.fetchResponse=e,this.status=t,this.errorResponse=n}static async from(e){let t=e.status;try{let n=await e.json();return new s9(e,t,n)}catch{return new s9(e,t,void 0)}}}class s4 extends Error{constructor(e,t){super(t),sX(this,"name","RequiredError"),this.field=e}}function s3(e,t){return null!=e[t]}class s5{constructor(e,t=e=>e){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}function s6(e){if(void 0!==e)return null===e?null:{state_version:e.state_version,timestamp:void 0===e.timestamp?void 0:null===e.timestamp?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function s8(e){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}function s7(e){return null==e?e:{type:e.type,entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}function oe(e){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,added:e.added,removed:e.removed}}function ot(e){return null==e?e:{key:or(e.key),value:or(e.value)}}function on(e){if(void 0!==e)return null===e?null:{key:oa(e.key),value:oa(e.value)}}function or(e){return function(e,t){var n,r,a,i;if(null==e)return e;switch(e.kind){case"Array":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,element_kind:e.element_kind,element_type_name:s3(e,"element_type_name")?e.element_type_name:void 0,elements:e.elements.map(or)},kind:"Array"};case"Bool":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"Bool"};case"Bytes":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,element_kind:e.element_kind,element_type_name:s3(e,"element_type_name")?e.element_type_name:void 0,hex:e.hex},kind:"Bytes"};case"Decimal":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"Decimal"};case"Enum":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,variant_id:e.variant_id,variant_name:s3(e,"variant_name")?e.variant_name:void 0,fields:e.fields.map(or)},kind:"Enum"};case"I128":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"I128"};case"I16":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"I16"};case"I32":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"I32"};case"I64":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"I64"};case"I8":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"I8"};case"Map":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,key_kind:e.key_kind,key_type_name:s3(e,"key_type_name")?e.key_type_name:void 0,value_kind:e.value_kind,value_type_name:s3(e,"value_type_name")?e.value_type_name:void 0,entries:e.entries.map(ot)},kind:"Map"};case"NonFungibleLocalId":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"NonFungibleLocalId"};case"Own":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"Own"};case"PreciseDecimal":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"PreciseDecimal"};case"Reference":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"Reference"};case"String":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"String"};case"Tuple":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,fields:e.fields.map(or)},kind:"Tuple"};case"U128":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"U128"};case"U16":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"U16"};case"U32":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"U32"};case"U64":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"U64"};case"U8":return{...null==e?e:{kind:e.kind,type_name:s3(e,"type_name")?e.type_name:void 0,field_name:s3(e,"field_name")?e.field_name:void 0,value:e.value},kind:"U8"};default:throw Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}(e)}function oa(e){if(void 0!==e){if(null===e)return null;switch(e.kind){case"Array":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,elements:e.elements.map(oa)}}(e);case"Bool":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Bytes":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,hex:e.hex}}(e);case"Decimal":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Enum":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,variant_id:e.variant_id,variant_name:e.variant_name,fields:e.fields.map(oa)}}(e);case"I128":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"I16":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"I32":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"I64":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"I8":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Map":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,key_kind:e.key_kind,key_type_name:e.key_type_name,value_kind:e.value_kind,value_type_name:e.value_type_name,entries:e.entries.map(on)}}(e);case"NonFungibleLocalId":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Own":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"PreciseDecimal":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Reference":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"String":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Tuple":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,fields:e.fields.map(oa)}}(e);case"U128":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"U16":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"U32":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"U64":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"U8":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);default:throw Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}}function oi(e){return null==e?e:{name:e.name,emitter:e.emitter,data:or(e.data)}}let os={Unknown:"Unknown",CommittedSuccess:"CommittedSuccess",CommittedFailure:"CommittedFailure",Pending:"Pending",Rejected:"Rejected"};function oo(e){var t,n,r,a;return null==e?e:{state_version:e.state_version,epoch:e.epoch,round:e.round,round_timestamp:e.round_timestamp,transaction_status:e.transaction_status,payload_hash:s3(e,"payload_hash")?e.payload_hash:void 0,intent_hash:s3(e,"intent_hash")?e.intent_hash:void 0,fee_paid:s3(e,"fee_paid")?e.fee_paid:void 0,affected_global_entities:s3(e,"affected_global_entities")?e.affected_global_entities:void 0,confirmed_at:s3(e,"confirmed_at")?null===e.confirmed_at?null:new Date(e.confirmed_at):void 0,error_message:s3(e,"error_message")?e.error_message:void 0,raw_hex:s3(e,"raw_hex")?e.raw_hex:void 0,receipt:s3(e,"receipt")?null==(n=e.receipt)?n:{status:s3(n,"status")?n.status:void 0,fee_summary:s3(n,"fee_summary")?n.fee_summary:void 0,costing_parameters:s3(n,"costing_parameters")?n.costing_parameters:void 0,fee_destination:s3(n,"fee_destination")?n.fee_destination:void 0,fee_source:s3(n,"fee_source")?n.fee_source:void 0,state_updates:s3(n,"state_updates")?n.state_updates:void 0,next_epoch:s3(n,"next_epoch")?n.next_epoch:void 0,output:s3(n,"output")?n.output:void 0,events:s3(n,"events")?n.events.map(oi):void 0,error_message:s3(n,"error_message")?n.error_message:void 0}:void 0,message:s3(e,"message")?e.message:void 0,balance_changes:s3(e,"balance_changes")?null==(a=e.balance_changes)?a:{fungible_fee_balance_changes:a.fungible_fee_balance_changes.map(s7),fungible_balance_changes:a.fungible_balance_changes.map(s8),non_fungible_balance_changes:a.non_fungible_balance_changes.map(oe)}:void 0}}function ou(e){return null==e?e:{name:e.name,module:e.module}}function ol(e){var t;return null==e?e:{role_key:ou(e.role_key),assignment:null==(t=e.assignment)?t:{resolution:t.resolution,explicit_rule:s3(t,"explicit_rule")?t.explicit_rule:void 0},updater_roles:s3(e,"updater_roles")?e.updater_roles.map(ou):void 0}}function oc(e,t){return null==e?e:{owner:e.owner,entries:e.entries.map(ol)}}function od(e){return null==e?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function op(e){return function(e,t){if(null==e)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...null==e?e:{key_type:e.key_type,key_hex:e.key_hex},key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...null==e?e:{key_type:e.key_type,key_hex:e.key_hex},key_type:"EddsaEd25519"};default:throw Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}(e)}function oh(e){if(void 0!==e){if(null===e)return null;switch(e.key_type){case"EcdsaSecp256k1":return function(e){if(void 0!==e)return null===e?null:{key_type:e.key_type,key_hex:e.key_hex}}(e);case"EddsaEd25519":return function(e){if(void 0!==e)return null===e?null:{key_type:e.key_type,key_hex:e.key_hex}}(e);default:throw Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}}function of(e){return function(e,t){if(null==e)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex},key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex},key_hash_type:"EddsaEd25519"};default:throw Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}(e)}function om(e){var t;return null==e?e:{key:e.key,value:null==(t=e.value)?t:{raw_hex:t.raw_hex,programmatic_json:or(t.programmatic_json),typed:function(e,t){if(null==e)return e;switch(e.type){case"Bool":return{...null==e?e:{type:e.type,value:e.value},type:"Bool"};case"BoolArray":return{...null==e?e:{type:e.type,values:e.values},type:"BoolArray"};case"Decimal":return{...null==e?e:{type:e.type,value:e.value},type:"Decimal"};case"DecimalArray":return{...null==e?e:{type:e.type,values:e.values},type:"DecimalArray"};case"GlobalAddress":return{...null==e?e:{type:e.type,value:e.value},type:"GlobalAddress"};case"GlobalAddressArray":return{...null==e?e:{type:e.type,values:e.values},type:"GlobalAddressArray"};case"I32":return{...null==e?e:{type:e.type,value:e.value},type:"I32"};case"I32Array":return{...null==e?e:{type:e.type,values:e.values},type:"I32Array"};case"I64":return{...null==e?e:{type:e.type,value:e.value},type:"I64"};case"I64Array":return{...null==e?e:{type:e.type,values:e.values},type:"I64Array"};case"Instant":return{...null==e?e:{type:e.type,value:e.value},type:"Instant"};case"InstantArray":return{...null==e?e:{type:e.type,values:e.values},type:"InstantArray"};case"NonFungibleGlobalId":return{...null==e?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id},type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...null==e?e:{type:e.type,values:e.values.map(od)},type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...null==e?e:{type:e.type,value:e.value},type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...null==e?e:{type:e.type,values:e.values},type:"NonFungibleLocalIdArray"};case"Origin":return{...null==e?e:{type:e.type,value:e.value},type:"Origin"};case"OriginArray":return{...null==e?e:{type:e.type,values:e.values},type:"OriginArray"};case"PublicKey":return{...null==e?e:{type:e.type,value:op(e.value)},type:"PublicKey"};case"PublicKeyArray":return{...null==e?e:{type:e.type,values:e.values.map(op)},type:"PublicKeyArray"};case"PublicKeyHash":return{...null==e?e:{type:e.type,value:of(e.value)},type:"PublicKeyHash"};case"PublicKeyHashArray":return{...null==e?e:{type:e.type,values:e.values.map(of)},type:"PublicKeyHashArray"};case"String":return{...null==e?e:{type:e.type,value:e.value},type:"String"};case"StringArray":return{...null==e?e:{type:e.type,values:e.values},type:"StringArray"};case"U32":return{...null==e?e:{type:e.type,value:e.value},type:"U32"};case"U32Array":return{...null==e?e:{type:e.type,values:e.values},type:"U32Array"};case"U64":return{...null==e?e:{type:e.type,value:e.value},type:"U64"};case"U64Array":return{...null==e?e:{type:e.type,values:e.values},type:"U64Array"};case"U8":return{...null==e?e:{type:e.type,value:e.value},type:"U8"};case"U8Array":return{...null==e?e:{type:e.type,value_hex:e.value_hex},type:"U8Array"};case"Url":return{...null==e?e:{type:e.type,value:e.value},type:"Url"};case"UrlArray":return{...null==e?e:{type:e.type,values:e.values},type:"UrlArray"};default:throw Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}(t.typed)},is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}function o_(e,t){return null==e?e:{total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(om)}}function oy(e){return null==e?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function ov(e){return function(e,t){var n;if(null==e)return e;switch(e.aggregation_level){case"Global":return{...null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:s3(e,"explicit_metadata")?o_(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version},aggregation_level:"Global"};case"Vault":return{...null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:s3(e,"explicit_metadata")?o_(e.explicit_metadata):void 0,vaults:null==(n=e.vaults)?n:{total_count:s3(n,"total_count")?n.total_count:void 0,next_cursor:s3(n,"next_cursor")?n.next_cursor:void 0,items:n.items.map(oy)}},aggregation_level:"Vault"};default:throw Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}let og={Global:"Global",Vault:"Vault"};function ob(e,t){return null==e?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}function ow(e){return null==e?e:{total_count:e.total_count,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:s3(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}function ox(e){return function(e,t){var n;if(null==e)return e;switch(e.aggregation_level){case"Global":return{...null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:s3(e,"explicit_metadata")?o_(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version},aggregation_level:"Global"};case"Vault":return{...null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:s3(e,"explicit_metadata")?o_(e.explicit_metadata):void 0,vaults:null==(n=e.vaults)?n:{total_count:s3(n,"total_count")?n.total_count:void 0,next_cursor:s3(n,"next_cursor")?n.next_cursor:void 0,items:n.items.map(ow)}},aggregation_level:"Vault"};default:throw Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function ok(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:or(e.programmatic_json)}}function oS(e){return null==e?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:s3(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:s3(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:s3(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:s3(e,"royalty_config")?e.royalty_config:void 0,royalty_config_is_locked:s3(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}function oT(e){return null==e?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}function oP(e){var t,n,r;return null==e?e:{address:e.address,fungible_resources:s3(e,"fungible_resources")?null==(t=e.fungible_resources)?t:{total_count:s3(t,"total_count")?t.total_count:void 0,next_cursor:s3(t,"next_cursor")?t.next_cursor:void 0,items:t.items.map(ov)}:void 0,non_fungible_resources:s3(e,"non_fungible_resources")?null==(n=e.non_fungible_resources)?n:{total_count:s3(n,"total_count")?n.total_count:void 0,next_cursor:s3(n,"next_cursor")?n.next_cursor:void 0,items:n.items.map(ox)}:void 0,ancestor_identities:s3(e,"ancestor_identities")?null==(r=e.ancestor_identities)?r:{parent_address:s3(r,"parent_address")?r.parent_address:void 0,owner_address:s3(r,"owner_address")?r.owner_address:void 0,global_address:s3(r,"global_address")?r.global_address:void 0}:void 0,metadata:o_(e.metadata),explicit_metadata:s3(e,"explicit_metadata")?o_(e.explicit_metadata):void 0,details:s3(e,"details")?function(e,t){var n,r,a;if(null==e)return e;switch(e.type){case"Component":return{...null==e?e:{type:e.type,package_address:s3(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:s3(e,"state")?e.state:void 0,role_assignments:s3(e,"role_assignments")?oc(e.role_assignments):void 0,royalty_vault_balance:s3(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0},type:"Component"};case"FungibleResource":return{...null==e?e:{type:e.type,role_assignments:oc(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned},type:"FungibleResource"};case"FungibleVault":return{...null==e?e:{type:e.type,resource_address:e.resource_address,balance:oy(e.balance)},type:"FungibleVault"};case"NonFungibleResource":return{...null==e?e:{type:e.type,role_assignments:oc(e.role_assignments),non_fungible_id_type:e.non_fungible_id_type,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned},type:"NonFungibleResource"};case"NonFungibleVault":return{...null==e?e:{type:e.type,resource_address:e.resource_address,balance:ow(e.balance)},type:"NonFungibleVault"};case"Package":return{...null==e?e:{type:e.type,vm_type:e.vm_type,code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:s3(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:s3(e,"blueprints")?null==(r=e.blueprints)?r:{total_count:s3(r,"total_count")?r.total_count:void 0,next_cursor:s3(r,"next_cursor")?r.next_cursor:void 0,items:r.items.map(oS)}:void 0,schemas:s3(e,"schemas")?null==(a=e.schemas)?a:{total_count:s3(a,"total_count")?a.total_count:void 0,next_cursor:s3(a,"next_cursor")?a.next_cursor:void 0,items:a.items.map(oT)}:void 0},type:"Package"};default:throw Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}(e.details):void 0}}function oC(e){if(void 0!==e)return null===e?null:{key_hex:e.key_hex,key_json:oa(e.key_json)}}function oR(e){return null==e?e:{key:ok(e.key),value:ok(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}function oO(e){return null==e?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:s3(e,"data")?ok(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}function oE(e){return null==e?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:s3(e,"owning_vault_address")?e.owning_vault_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}function oA(e,t){return null==e?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}function oI(e){var t;return null==e?e:{address:e.address,stake_vault:oA(e.stake_vault),pending_xrd_withdraw_vault:oA(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:oA(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:oA(e.pending_owner_stake_unit_unlock_vault),state:s3(e,"state")?e.state:void 0,active_in_epoch:s3(e,"active_in_epoch")?null==(t=e.active_in_epoch)?t:{stake:t.stake,stake_percentage:t.stake_percentage,key:op(t.key)}:void 0,metadata:o_(e.metadata)}}function oN(e){if(void 0!==e)return null===e?null:{event:e.event,emitter_address:e.emitter_address,resource_address:e.resource_address}}function oq(e){if(void 0!==e)return null===e?null:{raw_hex:e.raw_hex,receipt_state_changes:e.receipt_state_changes,receipt_fee_summary:e.receipt_fee_summary,receipt_fee_source:e.receipt_fee_source,receipt_fee_destination:e.receipt_fee_destination,receipt_costing_parameters:e.receipt_costing_parameters,receipt_events:e.receipt_events,receipt_output:e.receipt_output,affected_global_entities:e.affected_global_entities,balance_changes:e.balance_changes}}function oj(e){return null==e?e:{level:e.level,message:e.message}}function oD(e){var t;return null==e?e:{payload_hash:e.payload_hash,status:e.status,payload_status:s3(e,"payload_status")?e.payload_status:void 0,payload_status_description:s3(e,"payload_status_description")?e.payload_status_description:void 0,error_message:s3(e,"error_message")?e.error_message:void 0,latest_error_message:s3(e,"latest_error_message")?e.latest_error_message:void 0,handling_status:s3(e,"handling_status")?e.handling_status:void 0,handling_status_reason:s3(e,"handling_status_reason")?e.handling_status_reason:void 0,submission_error:s3(e,"submission_error")?e.submission_error:void 0}}function oZ(e){return null==e?e:{address:e.address,proposals_made:s3(e,"proposals_made")?e.proposals_made:void 0,proposals_missed:s3(e,"proposals_missed")?e.proposals_missed:void 0,epochs_active_in:e.epochs_active_in}}class oF extends s2{async entityFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityFungibleResourceVaultsPageRequest||void 0===e.stateEntityFungibleResourceVaultsPageRequest)throw new s4("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}(e.stateEntityFungibleResourceVaultsPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(oy),address:e.address,resource_address:e.resource_address})}async entityFungibleResourceVaultPage(e,t){return await (await this.entityFungibleResourceVaultPageRaw(e,t)).value()}async entityFungiblesPageRaw(e,t){if(null===e.stateEntityFungiblesPageRequest||void 0===e.stateEntityFungiblesPageRequest)throw new s4("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:function(e){if(void 0!==e)return null===e?null:{explicit_metadata:e.explicit_metadata}}(e.opt_ins)}}(e.stateEntityFungiblesPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ov),address:e.address})}async entityFungiblesPage(e,t){return await (await this.entityFungiblesPageRaw(e,t)).value()}async entityMetadataPageRaw(e,t){if(null===e.stateEntityMetadataPageRequest||void 0===e.stateEntityMetadataPageRequest)throw new s4("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}(e.stateEntityMetadataPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(om),address:e.address})}async entityMetadataPage(e,t){return await (await this.entityMetadataPageRaw(e,t)).value()}async entityNonFungibleIdsPageRaw(e,t){if(null===e.stateEntityNonFungibleIdsPageRequest||void 0===e.stateEntityNonFungibleIdsPageRequest)throw new s4("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}(e.stateEntityNonFungibleIdsPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address})}async entityNonFungibleIdsPage(e,t){return await (await this.entityNonFungibleIdsPageRaw(e,t)).value()}async entityNonFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityNonFungibleResourceVaultsPageRequest||void 0===e.stateEntityNonFungibleResourceVaultsPageRequest)throw new s4("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:function(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}(e.opt_ins)}}(e.stateEntityNonFungibleResourceVaultsPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ow),address:e.address,resource_address:e.resource_address})}async entityNonFungibleResourceVaultPage(e,t){return await (await this.entityNonFungibleResourceVaultPageRaw(e,t)).value()}async entityNonFungiblesPageRaw(e,t){if(null===e.stateEntityNonFungiblesPageRequest||void 0===e.stateEntityNonFungiblesPageRequest)throw new s4("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:function(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}(e.opt_ins)}}(e.stateEntityNonFungiblesPageRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ox),address:e.address})}async entityNonFungiblesPage(e,t){return await (await this.entityNonFungiblesPageRaw(e,t)).value()}async keyValueStoreDataRaw(e,t){if(null===e.stateKeyValueStoreDataRequest||void 0===e.stateKeyValueStoreDataRequest)throw new s4("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/key-value-store/data",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(oC)}}(e.stateKeyValueStoreDataRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(oR)})}async keyValueStoreData(e,t){return await (await this.keyValueStoreDataRaw(e,t)).value()}async nonFungibleDataRaw(e,t){if(null===e.stateNonFungibleDataRequest||void 0===e.stateNonFungibleDataRequest)throw new s4("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/non-fungible/data",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}(e.stateNonFungibleDataRequest)},t);return new s5(r,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:e.non_fungible_id_type,non_fungible_ids:e.non_fungible_ids.map(oO)}})}async nonFungibleData(e,t){return await (await this.nonFungibleDataRaw(e,t)).value()}async nonFungibleIdsRaw(e,t){if(null===e.stateNonFungibleIdsRequest||void 0===e.stateNonFungibleIdsRequest)throw new s4("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}(e.stateNonFungibleIdsRequest)},t);return new s5(r,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:null==(t=e.non_fungible_ids)?t:{total_count:s3(t,"total_count")?t.total_count:void 0,next_cursor:s3(t,"next_cursor")?t.next_cursor:void 0,items:t.items}}})}async nonFungibleIds(e,t){return await (await this.nonFungibleIdsRaw(e,t)).value()}async nonFungibleLocationRaw(e,t){if(null===e.stateNonFungibleLocationRequest||void 0===e.stateNonFungibleLocationRequest)throw new s4("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/non-fungible/location",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}(e.stateNonFungibleLocationRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(oE)})}async nonFungibleLocation(e,t){return await (await this.nonFungibleLocationRaw(e,t)).value()}async stateEntityDetailsRaw(e,t){if(null===e.stateEntityDetailsRequest||void 0===e.stateEntityDetailsRequest)throw new s4("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/entity/details",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),opt_ins:function(e){if(void 0!==e)return null===e?null:{ancestor_identities:e.ancestor_identities,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}(e.stateEntityDetailsRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),items:e.items.map(oP)})}async stateEntityDetails(e,t){return await (await this.stateEntityDetailsRaw(e,t)).value()}async stateValidatorsListRaw(e,t){if(null===e.stateValidatorsListRequest||void 0===e.stateValidatorsListRequest)throw new s4("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/state/validators/list",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),cursor:e.cursor}}(e.stateValidatorsListRequest)},t);return new s5(r,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),validators:null==(t=e.validators)?t:{total_count:s3(t,"total_count")?t.total_count:void 0,next_cursor:s3(t,"next_cursor")?t.next_cursor:void 0,items:t.items.map(oI)}}})}async stateValidatorsList(e,t){return await (await this.stateValidatorsListRaw(e,t)).value()}}class oU extends s2{async validatorsUptimeRaw(e,t){if(null===e.validatorsUptimeRequest||void 0===e.validatorsUptimeRequest)throw new s4("validatorsUptimeRequest","Required parameter requestParameters.validatorsUptimeRequest was null or undefined when calling validatorsUptime.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/statistics/validators/uptime",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),from_ledger_state:s6(e.from_ledger_state),validator_addresses:e.validator_addresses}}(e.validatorsUptimeRequest)},t);return new s5(r,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),validators:null==(t=e.validators)?t:{items:t.items.map(oZ)}}})}async validatorsUptime(e,t){return await (await this.validatorsUptimeRaw(e,t)).value()}}class oz extends s2{async gatewayStatusRaw(e){let t=await this.request({path:"/status/gateway-status",method:"POST",headers:{},query:{}},e);return new s5(t,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),release_info:null==(t=e.release_info)?t:{release_version:t.release_version,open_api_schema_version:t.open_api_schema_version,image_tag:t.image_tag}}})}async gatewayStatus(e){return await (await this.gatewayStatusRaw(e)).value()}async networkConfigurationRaw(e){let t=await this.request({path:"/status/network-configuration",method:"POST",headers:{},query:{}},e);return new s5(t,e=>{var t;return null==e?e:{network_id:e.network_id,network_name:e.network_name,well_known_addresses:null==(t=e.well_known_addresses)?t:{xrd:t.xrd,secp256k1_signature_virtual_badge:t.secp256k1_signature_virtual_badge,ed25519_signature_virtual_badge:t.ed25519_signature_virtual_badge,package_of_direct_caller_virtual_badge:t.package_of_direct_caller_virtual_badge,global_caller_virtual_badge:t.global_caller_virtual_badge,system_transaction_badge:t.system_transaction_badge,package_owner_badge:t.package_owner_badge,validator_owner_badge:t.validator_owner_badge,account_owner_badge:t.account_owner_badge,identity_owner_badge:t.identity_owner_badge,package_package:t.package_package,resource_package:t.resource_package,account_package:t.account_package,identity_package:t.identity_package,consensus_manager_package:t.consensus_manager_package,access_controller_package:t.access_controller_package,transaction_processor_package:t.transaction_processor_package,metadata_module_package:t.metadata_module_package,royalty_module_package:t.royalty_module_package,access_rules_package:t.access_rules_package,genesis_helper_package:t.genesis_helper_package,faucet_package:t.faucet_package,consensus_manager:t.consensus_manager,genesis_helper:t.genesis_helper,faucet:t.faucet,pool_package:t.pool_package}}})}async networkConfiguration(e){return await (await this.networkConfigurationRaw(e)).value()}}class oL extends s2{async streamTransactionsRaw(e,t){if(null===e.streamTransactionsRequest||void 0===e.streamTransactionsRequest)throw new s4("streamTransactionsRequest","Required parameter requestParameters.streamTransactionsRequest was null or undefined when calling streamTransactions.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/stream/transactions",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),from_ledger_state:s6(e.from_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,kind_filter:e.kind_filter,manifest_accounts_withdrawn_from_filter:e.manifest_accounts_withdrawn_from_filter,manifest_accounts_deposited_into_filter:e.manifest_accounts_deposited_into_filter,manifest_resources_filter:e.manifest_resources_filter,affected_global_entities_filter:e.affected_global_entities_filter,events_filter:void 0===e.events_filter?void 0:e.events_filter.map(oN),order:e.order,opt_ins:oq(e.opt_ins)}}(e.streamTransactionsRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),total_count:s3(e,"total_count")?e.total_count:void 0,next_cursor:s3(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(oo)})}async streamTransactions(e,t){return await (await this.streamTransactionsRaw(e,t)).value()}}class o$ extends s2{async transactionCommittedDetailsRaw(e,t){if(null===e.transactionCommittedDetailsRequest||void 0===e.transactionCommittedDetailsRequest)throw new s4("transactionCommittedDetailsRequest","Required parameter requestParameters.transactionCommittedDetailsRequest was null or undefined when calling transactionCommittedDetails.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/transaction/committed-details",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{at_ledger_state:s6(e.at_ledger_state),intent_hash:e.intent_hash,opt_ins:oq(e.opt_ins)}}(e.transactionCommittedDetailsRequest)},t);return new s5(r,e=>null==e?e:{ledger_state:ob(e.ledger_state),transaction:oo(e.transaction)})}async transactionCommittedDetails(e,t){return await (await this.transactionCommittedDetailsRaw(e,t)).value()}async transactionConstructionRaw(e){let t=await this.request({path:"/transaction/construction",method:"POST",headers:{},query:{}},e);return new s5(t,e=>null==e?e:{ledger_state:ob(e.ledger_state)})}async transactionConstruction(e){return await (await this.transactionConstructionRaw(e)).value()}async transactionPreviewRaw(e,t){if(null===e.transactionPreviewRequest||void 0===e.transactionPreviewRequest)throw new s4("transactionPreviewRequest","Required parameter requestParameters.transactionPreviewRequest was null or undefined when calling transactionPreview.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/transaction/preview",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{manifest:e.manifest,blobs_hex:e.blobs_hex,start_epoch_inclusive:e.start_epoch_inclusive,end_epoch_exclusive:e.end_epoch_exclusive,notary_public_key:oh(e.notary_public_key),notary_is_signatory:e.notary_is_signatory,tip_percentage:e.tip_percentage,nonce:e.nonce,signer_public_keys:e.signer_public_keys.map(oh),flags:function(e){if(void 0!==e)return null===e?null:{use_free_credit:e.use_free_credit,assume_all_signature_proofs:e.assume_all_signature_proofs,skip_epoch_check:e.skip_epoch_check}}(e.flags)}}(e.transactionPreviewRequest)},t);return new s5(r,e=>null==e?e:{encoded_receipt:e.encoded_receipt,receipt:e.receipt,resource_changes:e.resource_changes,logs:e.logs.map(oj)})}async transactionPreview(e,t){return await (await this.transactionPreviewRaw(e,t)).value()}async transactionStatusRaw(e,t){if(null===e.transactionStatusRequest||void 0===e.transactionStatusRequest)throw new s4("transactionStatusRequest","Required parameter requestParameters.transactionStatusRequest was null or undefined when calling transactionStatus.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/transaction/status",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{intent_hash:e.intent_hash}}(e.transactionStatusRequest)},t);return new s5(r,e=>{var t;return null==e?e:{ledger_state:ob(e.ledger_state),status:e.status,intent_status:e.intent_status,intent_status_description:e.intent_status_description,known_payloads:e.known_payloads.map(oD),committed_state_version:s3(e,"committed_state_version")?e.committed_state_version:void 0,error_message:s3(e,"error_message")?e.error_message:void 0}})}async transactionStatus(e,t){return await (await this.transactionStatusRaw(e,t)).value()}async transactionSubmitRaw(e,t){if(null===e.transactionSubmitRequest||void 0===e.transactionSubmitRequest)throw new s4("transactionSubmitRequest","Required parameter requestParameters.transactionSubmitRequest was null or undefined when calling transactionSubmit.");let n={};n["Content-Type"]="application/json";let r=await this.request({path:"/transaction/submit",method:"POST",headers:n,query:{},body:function(e){if(void 0!==e)return null===e?null:{notarized_transaction_hex:e.notarized_transaction_hex}}(e.transactionSubmitRequest)},t);return new s5(r,e=>null==e?e:{duplicate:e.duplicate})}async transactionSubmit(e,t){return await (await this.transactionSubmitRaw(e,t)).value()}}let oV=(e,t)=>{let n=[];for(let r=0,a=e.length;r<a;r+=t)n.push(e.slice(r,r+t));return n},oM=async(e,t)=>{let n=t,r=[];do{let t=await e(n);r.push(...t.items),n=t.next_cursor}while(n);return r},oB=async(e,t)=>{let n,r=t,a=[];do{let t=await e(r);n=t.ledger_state,a.push(...t.items),r=t.next_cursor}while(r);return{aggregatedEntities:a,ledger_state:n}};class oW{constructor(e,t){this.innerClient=e,this.configuration=t}async getEntityDetailsVaultAggregated(e,t,n){var r,a,i,s,o;let u=Array.isArray(e);if(u&&0===e.length)return Promise.resolve([]);if(u&&e.length>this.configuration.maxAddressesCount){let r=oV(e,this.configuration.maxAddressesCount);return Promise.all(r.map(e=>this.getEntityDetailsVaultAggregated(e,t,n))).then(e=>e.flat())}let{items:l,ledger_state:c}=await this.innerClient.stateEntityDetails({stateEntityDetailsRequest:{addresses:u?e:[e],aggregation_level:og.Vault,opt_ins:{ancestor_identities:null!=(r=null==t?void 0:t.ancestorIdentities)&&r,component_royalty_vault_balance:null!=(a=null==t?void 0:t.componentRoyaltyVaultBalance)&&a,package_royalty_vault_balance:null!=(i=null==t?void 0:t.packageRoyaltyVaultBalance)&&i,non_fungible_include_nfids:null==(s=null==t?void 0:t.nonFungibleIncludeNfids)||s,explicit_metadata:null!=(o=null==t?void 0:t.explicitMetadata)?o:[]},at_ledger_state:n}}).then(e=>this.ensureResourcesProperties(e));return u?Promise.all(l.map(e=>this.queryAllFungibles(e,n||{state_version:c.state_version}))):this.queryAllFungibles(l[0],n||{state_version:c.state_version})}async getEntityMetadata(e,t){return this.innerClient.entityMetadataPage({stateEntityMetadataPageRequest:{address:e,cursor:t}})}async getNonFungibleLocation(e,t){if(t.length>this.configuration.maxNftIdsCount){let n=oV(t,this.configuration.maxNftIdsCount);return Promise.all(n.map(t=>this.getNonFungibleLocation(e,t))).then(e=>e.flat())}return this.innerClient.nonFungibleLocation({stateNonFungibleLocationRequest:{resource_address:e,non_fungible_ids:t}}).then(e=>e.non_fungible_ids)}async getAllEntityMetadata(e,t){return oM(this.getEntityMetadata.bind(this,e),t)}async getValidators(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}}).then(({validators:e})=>e)}async getAllValidators(e){return oM(this.getValidators.bind(this),e)}async getValidatorsWithLedgerState(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}})}async getAllValidatorsWithLedgerState(e){return oB(e=>this.getValidatorsWithLedgerState(e).then(e=>({items:e.validators.items,ledger_state:e.ledger_state})),e)}async getNonFungibleIds(e,t,n){return this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:n,at_ledger_state:t}}).then(({non_fungible_ids:e})=>e)}async getAllNonFungibleIds(e,t,n){let r=n,a=t,i=[];do{let t=await this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:a,at_ledger_state:r}});i.push(...t.non_fungible_ids.items),r=r||{state_version:t.ledger_state.state_version},a=t.non_fungible_ids.next_cursor}while(a);return i}async getNonFungibleData(e,t,n){let r=Array.isArray(t);if(r&&0===t.length)return Promise.resolve([]);if(r&&t.length>this.configuration.maxNftIdsCount){let r=oV(t,this.configuration.maxNftIdsCount);return Promise.all(r.map(t=>this.getNonFungibleData(e,t,n))).then(e=>e.flat())}let{non_fungible_ids:a}=await this.innerClient.nonFungibleData({stateNonFungibleDataRequest:{resource_address:e,non_fungible_ids:r?t:[t],at_ledger_state:n}});return r?a:a[0]}async getEntityFungiblesPageVaultAggregated(e,t,n){return this.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:{address:e,cursor:t,aggregation_level:"Vault",at_ledger_state:n}})}async queryAllFungibles(e,t){var n,r;let a=null==(n=null==e?void 0:e.fungible_resources)?void 0:n.next_cursor;if(!a)return Promise.resolve(e);let i=await oB(n=>this.getEntityFungiblesPageVaultAggregated(e.address,n,t),a);return Promise.resolve({...e,fungible_resources:{items:[...(null==(r=null==e?void 0:e.fungible_resources)?void 0:r.items)||[],...i.aggregatedEntities]}})}ensureResourcesProperties(e){return{...e,items:e.items.map(e=>({...e,fungible_resources:e.fungible_resources||{total_count:0,items:[]},non_fungible_resources:e.non_fungible_resources||{total_count:0,items:[]}}))}}}let oK={Mainnet:1,Stokenet:2,Alphanet:10,Betanet:11,Kisharnet:12,RCnetV1:12,Zabanet:14,RCnetV3:14,Gilganet:32,Enkinet:33,Hammunet:34,Nergalnet:35,Mardunet:36,Dumunet:37,LocalNet:240,InternalTestNet:241,Simulator:242},oG={Mainnet:{networkName:"Mainnet",networkId:oK.Mainnet,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:oK.Stokenet,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:oK.Kisharnet,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:oK.RCnetV1,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Zabanet:{networkName:"Zabanet",networkId:oK.Zabanet,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:oK.RCnetV3,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:oK.Gilganet,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:""},Enkinet:{networkName:"Enkinet",networkId:oK.Enkinet,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:oK.Hammunet,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:oK.Dumunet,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}},oH=Object.values(oG).reduce((e,t)=>(e[t.networkId]=t,e),{});class oJ{constructor(e,t){this.innerClient=e,this.configuration=t}getValidatorsUptimeFromTo(e,t,n){var r,a;if(e.length>((null==(r=this.configuration)?void 0:r.maxValidatorsUptimeCount)||200)){let r=oV(e,(null==(a=this.configuration)?void 0:a.maxValidatorsUptimeCount)||200);return Promise.all(r.map(e=>this.getValidatorsUptimeFromTo(e,t,n))).then(e=>e.flat())}return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e,from_ledger_state:void 0!==t?t instanceof Date?{timestamp:t}:{state_version:t}:void 0,at_ledger_state:void 0!==n?n instanceof Date?{timestamp:n}:{state_version:n}:void 0}}).then(e=>e.validators.items)}getValidatorsUptime(e){return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e}})}}class oY{constructor(e){this.innerClient=e}getCurrent(){return this.innerClient.gatewayStatus()}getNetworkConfiguration(){return this.innerClient.networkConfiguration()}}class oX{constructor(e){this.innerClient=e}getTransactionsList(e,t){return this.innerClient.streamTransactions({streamTransactionsRequest:{cursor:t,affected_global_entities_filter:e}})}}class oQ{constructor(e){this.innerClient=e}getStatus(e){return this.innerClient.transactionStatus({transactionStatusRequest:{intent_hash:e}})}getCommittedDetails(e,t){var n,r,a,i,s,o,u,l,c,d;return this.innerClient.transactionCommittedDetails({transactionCommittedDetailsRequest:{intent_hash:e,opt_ins:{raw_hex:null==(n=null==t?void 0:t.rawHex)||n,receipt_events:null==(r=null==t?void 0:t.receiptEvents)||r,receipt_fee_source:null==(a=null==t?void 0:t.receiptFeeSource)||a,receipt_fee_destination:null==(i=null==t?void 0:t.receiptFeeDestination)||i,receipt_costing_parameters:null==(s=null==t?void 0:t.receiptCostingParameters)||s,receipt_fee_summary:null==(o=null==t?void 0:t.receiptFeeSummary)||o,receipt_state_changes:null==(u=null==t?void 0:t.receiptStateChanges)||u,affected_global_entities:null==(l=null==t?void 0:t.affectedGlobalEntities)||l,balance_changes:null==(c=null==t?void 0:t.balanceChanges)||c,receipt_output:null==(d=null==t?void 0:t.receiptOutput)||d}}})}}class o0 extends s0{constructor(e){super(e),sX(this,"extendedConfiguration"),this.extendedConfiguration=e}get maxAddressesCount(){return this.extendedConfiguration.maxAddressesCount||20}get maxNftIdsCount(){return this.extendedConfiguration.maxNftIdsCount||29}get maxValidatorsUptimeCount(){return this.extendedConfiguration.maxValidatorsUptimeCount||200}}let o1=e=>e?e.endsWith("/")?null==e?void 0:e.slice(0,-1):e:"";class o2{constructor(e){sX(this,"state"),sX(this,"stream"),sX(this,"status"),sX(this,"transaction"),sX(this,"statistics"),sX(this,"lowLevel"),this.lowLevel={state:new oF(e),stream:new oL(e),status:new oz(e),transaction:new o$(e),statistics:new oU(e)},this.state=new oW(this.lowLevel.state,e),this.stream=new oX(this.lowLevel.stream),this.status=new oY(this.lowLevel.status),this.transaction=new oQ(this.lowLevel.transaction),this.statistics=new oJ(this.lowLevel.statistics,e)}static initialize(e){let t=o2.constructConfiguration(e);return new o2(t)}static constructConfiguration(e){var t,n,r,a;let i=o1(null==e?void 0:e.basePath),s=null!=(t=null==e?void 0:e.applicationName)?t:"Unknown";return new o0({...e,basePath:i,applicationName:s,headers:{...null!=(n=null==e?void 0:e.headers)?n:{},"RDX-Client-Name":"@radixdlt/babylon-gateway-api-sdk","RDX-Client-Version":"1.2.0","RDX-App-Name":s,"RDX-App-Version":null!=(r=e.applicationVersion)?r:"Unknown","RDX-App-Dapp-Definition":null!=(a=e.applicationDappDefinitionAddress)?a:"Unknown"}})}}let o9=e=>{let t=e.logger,n=e.requestItemClient,r=e.walletSdk,a=e.gatewayClient,i=new F,s=t=>{let r=new F;return{eventCallback:e=>{r.next(e)},requestControl:({cancelRequest:a,getRequest:s})=>{e_(r.pipe(eN(e=>"receivedByWallet"===e),ey(()=>s()),eD(e=>{"transaction"===e.items.discriminator&&n.patch(t,{showCancel:!1})}))),e_(eI(e.onCancelRequestItem$,i).pipe(eN(e=>e===t),ej(()=>(n.cancel(t),n.updateStatus({id:t,status:"fail",error:"userCancelledRequest"}),a()))))}}},o=new _;return{request:(e,a)=>r.request(e,s(a)).map(e=>(null==t||t.debug("walletSuccessResponse",e),e)).mapErr(e=>(null==t||t.debug("walletErrorResponse",e),n.updateStatus({id:a,status:"fail",error:e.error}),e)),sendTransaction:({onTransactionId:e,...i})=>{let{id:o}=n.add("sendTransaction");return r.sendTransaction({version:1,...i},s(o)).mapErr(e=>(n.updateStatus({id:o,status:"fail",error:e.error}),null==t||t.debug(" walletErrorResponse",e),e)).map(e=>(null==t||t.debug(" walletSuccessResponse",e),e)).andThen(({transactionIntentHash:t})=>(e&&e(t),a.pollTransactionStatus(t).map(e=>({transactionIntentHash:t,status:e.status})))).andThen(e=>{let r=[os.Rejected,os.CommittedFailure].includes(e.status);return n.updateStatus({id:o,status:r?"fail":"success",transactionIntentHash:e.transactionIntentHash}),null==t||t.debug("\uD83D\uDD01 Gateway polling finished",e),r?i7({...e,error:"transactionNotSuccessful"}):i8(e)})},extensionStatus$:r.extensionStatus$,requestItems$:n.items$,resetRequestItems:n.reset,cancelRequest:e=>i.next(e),destroy:()=>{n.destroy(),r.destroy(),o.unsubscribe()}}},o4=e=>e,o3=({basePath:e,dAppDefinitionAddress:t,applicationName:n,applicationVersion:r})=>{let{transaction:a,state:i,status:s}=o2.initialize({basePath:e,applicationName:n||t||"unknown",applicationVersion:r,applicationDappDefinitionAddress:t});return{getTransactionStatus:e=>iF.fromPromise(a.getStatus(e),o4),getTransactionDetails:e=>iF.fromPromise(a.getCommittedDetails(e),o4),getEntityDetails:e=>iF.fromPromise(i.getEntityDetailsVaultAggregated(e),o4),getEntitiesDetails:e=>iF.fromPromise(i.getEntityDetailsVaultAggregated(e),o4),getEntityNonFungibleIds:({accountAddress:e,nftAddress:t,vaultAddress:n})=>iF.fromPromise(i.innerClient.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:{address:e,vault_address:n,resource_address:t}}),o4),getNetworkConfiguration:()=>iF.fromPromise(s.getNetworkConfiguration(),o4),transactionApi:a,stateApi:i,statusApi:s}},o5=({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{let a=new F,i=0,s=eI(ef(0),a.pipe(ey(()=>i+=1))).pipe(ej(n=>{let a=n*r*t,i=a>e?e:a;return eA(i).pipe(ey(()=>i8(n)))})),o=n?eI(s,eA(n).pipe(ey(()=>i7(nM("failedToPollSubmittedTransaction",""))))):s;return{trigger:a,withBackoff$:o}},o6=e=>{var t;let n=null==(t=null==e?void 0:e.value)?void 0:t.typed;return{stringified:null!=n&&n.value?(null==n?void 0:n.value)||"":null==n?void 0:n.values.join(", ")}},o8=({gatewayApi:e,logger:t,retryConfig:n})=>({pollTransactionStatus:r=>{let a=o5(n),i=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return iF.fromPromise(e_(a.withBackoff$.pipe(ej(n=>n.isErr()?[n]:(null==t||t.debug(`pollingTxStatus retry #${n.value+1}`),e.getTransactionStatus(r).map(e=>{if(i.has(e.status))return e;a.trigger.next()}).mapErr(e=>(null==t||t.debug(e),nM("failedToPollSubmittedTransaction",""))))),eN(e=>e.isOk()&&!!e.value||e.isErr()),eq())),e=>e).andThen(e=>e)},gatewayApi:e}),o7=()=>({initialized:new z(!1),onChange:new F,items:new z([])}),ue=(e,t,n)=>{let r=n.logger,a=new Set,i=new _,s=new Map,o=n.subjects||o7(),u=`${e}:requestItemStore`;t.getData(u).map(e=>{e&&Object.keys(e).forEach(t=>{a.add(t),s.set(t,e[t])}),o.items.next(h())});let l=(e,t)=>o.onChange.next({oldValue:e,newValue:t}),c=e=>({type:e,status:"pending",timestamp:Date.now(),id:crypto.randomUUID(),showCancel:!0}),d=(e,t)=>{let n=s.get(e);if(n){let a={...n,...t};s.set(e,a),l(n,a),null==r||r.trace("patchRequestItemStatus",a)}},p=()=>[...a].reverse(),h=()=>p().map(e=>({id:e,...s.get(e)})).filter(e=>!!e);return i.add(o.onChange.pipe(ey(()=>h()),eD(e=>o.items.next(e)),eD(()=>{let e=Array.from(s.entries());t.setData(u,Object.fromEntries(e.filter(([,e])=>"pending"!==e.status)))})).subscribe()),{add:e=>{let t=c(e);return s.set(t.id,t),a.add(t.id),l(void 0,t),null==r||r.trace("addRequestItem",{id:t.id,status:t.status}),t},remove:e=>{if(s.has(e)){let t=s.get(e);s.delete(e),a.delete(e),l(t,void 0),null==r||r.trace("removeRequestItem",e)}},cancel:e=>{s.has(e)&&(d(e,{status:"fail",error:n$.canceledByUser}),null==r||r.trace("cancelRequestItem",e))},updateStatus:({id:e,status:t,error:n,transactionIntentHash:a})=>{let i=s.get(e);if(i){let o={...i,status:t};"fail"===o.status&&(o.error=n),"success"===o.status&&"sendTransaction"===o.type&&(o.transactionIntentHash=a),s.set(e,o),l(i,o),null==r||r.trace("updateRequestItemStatus",o)}},patch:d,reset:()=>{s.clear(),a.clear(),l(void 0,void 0),null==r||r.trace("resetRequestItems")},destroy:()=>{i.unsubscribe()},items$:o.items,change$:o.onChange.asObservable()}},ut=e=>{try{return i8(JSON.parse(e))}catch(e){return i7(o4(e))}},un=()=>{let e=e=>new Promise((t,n)=>{try{let n=localStorage.getItem(e);return t(n||void 0)}catch(e){return n(e)}}),t=(e,t)=>new Promise((n,r)=>{try{return localStorage.setItem(e,JSON.stringify(t)),n()}catch(e){return r(e)}});return{getData:t=>iF.fromPromise(e(t),o4).andThen(e=>e?ut(e):i8(void 0)),setData:(e,n)=>iF.fromPromise(t(e,n),o4)}},ur=e=>t=>{var n,r,a;let i=[];if("authorizedRequest"===e.discriminator){let t=(null==(n=e.oneTimeAccounts)?void 0:n.accounts)??[],a=(null==(r=e.ongoingAccounts)?void 0:r.accounts)??[];i=[...t,...a]}else"unauthorizedRequest"===e.discriminator&&(i=(null==(a=e.oneTimeAccounts)?void 0:a.accounts)??[]);return sL(t,e=>{e.accounts=i})},ua=e=>{let t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},ui=e=>t=>sL(t,t=>{"authorizedRequest"===e.discriminator?(e.oneTimePersonaData&&(t.personaData=ua(e.oneTimePersonaData)),e.ongoingPersonaData&&(t.personaData=ua(e.ongoingPersonaData))):"unauthorizedRequest"===e.discriminator&&e.oneTimePersonaData&&(t.personaData=ua(e.oneTimePersonaData))}),us=e=>t=>sL(t,t=>{var n;"authorizedRequest"===e.discriminator&&(t.persona=null==(n=e.auth)?void 0:n.persona)}),uo=e=>t=>sL(t,t=>{var n,r,a,i,s,o;if(t.proofs=[],"authorizedRequest"===e.discriminator){if("loginWithChallenge"===e.auth.discriminator&&t.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:ig.persona}),null!=(n=e.ongoingAccounts)&&n.challenge&&null!=(r=e.ongoingAccounts.proofs)&&r.length){let n=e.ongoingAccounts.challenge,r=e.ongoingAccounts.proofs.map(({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:ig.account}));t.proofs.push(...r)}if(null!=(a=e.oneTimeAccounts)&&a.challenge&&null!=(i=e.oneTimeAccounts.proofs)&&i.length){let n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map(({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:ig.account}));t.proofs.push(...r)}}if("unauthorizedRequest"===e.discriminator&&null!=(s=e.oneTimeAccounts)&&s.challenge&&null!=(o=e.oneTimeAccounts.proofs)&&o.length){let n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map(({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:ig.account}));t.proofs.push(...r)}}),uu=e=>i8({accounts:[],personaData:[],proofs:[],persona:void 0}).map(ur(e)).map(ui(e)).map(us(e)).map(uo(e));i_({accounts:i_({numberOfAccounts:nn,reset:ih(),oneTime:ih(),challenge:ip().optional()}).optional(),personaData:i_({fullName:ih().optional(),phoneNumbers:nn.optional(),emailAddresses:nn.optional(),reset:ih(),oneTime:ih().optional()}).optional(),persona:i_({identityAddress:ip().optional(),label:ip().optional(),challenge:ip().optional()}).optional()});let ul=e=>{let{persona:t,accounts:n,personaData:r}=e,a=(null==n?void 0:n.reset)||(null==r?void 0:r.reset),i=n&&!(null!=n&&n.oneTime),s=r&&!(null!=r&&r.oneTime);return!!(a||i||s||t)},uc=e=>{var t,n,r;return null!=(t=e.persona)&&t.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:null!=(n=e.persona)&&n.identityAddress?{discriminator:"usePersona",identityAddress:null==(r=e.persona)?void 0:r.identityAddress}:{discriminator:"loginWithoutChallenge"}},ud=e=>t=>{var n,r;let a={...t},{accounts:i}=e;if(i){let t={challenge:i.challenge,numberOfAccounts:i.numberOfAccounts},s="authorizedRequest"===a.discriminator&&!(null!=(n=e.accounts)&&n.oneTime),o="authorizedRequest"===a.discriminator;null!=(r=e.accounts)&&r.oneTime?a.oneTimeAccounts=t:(s||o)&&(a.ongoingAccounts=t)}return a},up=e=>t=>{var n,r;let a={...t};if(e.personaData){let{fullName:t,phoneNumbers:i,emailAddresses:s}=e.personaData;null!=(n=e.personaData)&&n.oneTime&&(a.oneTimePersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:s});let o="authorizedRequest"===a.discriminator&&!(null!=(r=e.personaData)&&r.oneTime),u="authorizedRequest"===a.discriminator;(o||u)&&(a.ongoingPersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:s})}return a},uh=e=>t=>{let{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!!(null!=n&&n.reset),personaData:!!(null!=r&&r.reset)}}},uf=e=>i8({discriminator:"unauthorizedRequest"}).map(ud(e)).map(up(e)),um=e=>i8({discriminator:"authorizedRequest",auth:uc(e)}).map(ud(e)).map(up(e)).map(uh(e)),u_=(e,t)=>i8(e?sL(t,e=>{e.accounts&&(e.accounts.oneTime=!1,e.accounts.reset=!1),e.personaData&&(e.personaData.oneTime=!1,e.personaData.reset=!1)}):t),uy=(e,t)=>u_(e,t).andThen(e=>ul(e)?um(e):uf(e)),uv=({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,stateClient:a})=>uy(t,sL({},t=>{var i;if(e.accounts&&(t.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(t.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){let r=a.getState().walletData.persona;a.getState().walletData.persona&&(t.persona=r),null!=(i=e.persona)&&i.withProof&&(t.persona={...t.persona??{},challenge:n}),0===Object.values(e).length&&(t.persona={challenge:void 0})}})),ug=(e,t)=>{var n,r,a,i,s,o,u,l,c,d,p;if("authorizedRequest"===e.discriminator){let h=(null==(n=e.reset)?void 0:n.accounts)||(null==(r=e.reset)?void 0:r.personaData),f=!!(e.oneTimeAccounts||e.oneTimePersonaData),m="loginWithChallenge"===e.auth.discriminator||!!(null!=(a=e.oneTimeAccounts)&&a.challenge)||!!(null!=(i=e.ongoingAccounts)&&i.challenge);if(h||f||m)return!1;let _=!1;if(e.ongoingAccounts){let{quantifier:n,quantity:r}=e.ongoingAccounts.numberOfAccounts;_=(null==(u=null==(o=null==(s=t.sharedData)?void 0:s.ongoingAccounts)?void 0:o.numberOfAccounts)?void 0:u.quantifier)===n&&(null==(d=null==(c=null==(l=t.sharedData)?void 0:l.ongoingAccounts)?void 0:c.numberOfAccounts)?void 0:d.quantity)===r}return e.ongoingPersonaData&&(_=sB(e.ongoingPersonaData,null==(p=t.sharedData)?void 0:p.ongoingPersonaData)),_}return!1},ub=(e,t)=>"authorizedRequest"===e.discriminator?sL({},t=>{t.persona={proof:!1},t.ongoingAccounts={proof:!1,numberOfAccounts:void 0},"loginWithChallenge"===e.auth.discriminator&&(t.persona.proof=!!e.auth.challenge),e.ongoingAccounts&&(t.ongoingAccounts={proof:!!e.ongoingAccounts.challenge,numberOfAccounts:e.ongoingAccounts.numberOfAccounts}),e.ongoingPersonaData&&(t.ongoingPersonaData=e.ongoingPersonaData)}):t,uw=e=>sL({},t=>{e.ongoingAccounts&&(t.accounts={numberOfAccounts:e.ongoingAccounts.numberOfAccounts,withProof:e.ongoingAccounts.proof,reset:!0}),e.ongoingPersonaData&&(t.personaData={fullName:e.ongoingPersonaData.isRequestingName,phoneNumbers:e.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:e.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!0}),e.persona&&(t.persona={withProof:!!e.persona.proof})}),ux=({stateClient:e,requestItemClient:t,walletClient:n,useCache:r,dataRequestStateClient:a,requestInterceptor:i})=>{let s,o,u;let l=e=>{var t,n;return(null==(t=e.accounts)?void 0:t.withProof)||(null==(n=e.persona)?void 0:n.withProof)},c=e=>{if(!l(e))return iU(void 0);if(!s)throw Error("Expected proof but no challenge generator provided");return s()},d=({isConnect:a,oneTime:s,dataRequestState:o})=>i8(o).asyncAndThen(t=>c(t).andThen(n=>uv({dataRequestState:t,isConnect:a,challenge:n,oneTime:s,stateClient:e}))).andThen(a=>{let o=e.getState();if(ug(a,o)&&r)return iU(o.walletData);let l=!e.getState().walletData.persona&&"authorizedRequest"===a.discriminator;return i({type:"dataRequest",payload:a}).map(e=>{let{id:n}=t.add(l?"loginRequest":"dataRequest");return{walletDataRequest:e,id:n}}).andThen(({walletDataRequest:r,id:a})=>n.request(r,a).mapErr(({error:e,message:t})=>({error:e,message:t})).andThen(uu).andThen(e=>u?u(e).map(()=>(t.updateStatus({id:a,status:"success"}),e)).mapErr(e=>(t.updateStatus({id:a,status:"fail",error:e.error}),e)):(t.updateStatus({id:a,status:"success"}),i8(e))).map(t=>(s||e.setState({loggedInTimestamp:Date.now().toString(),walletData:t,sharedData:ub(r,e.getState().sharedData)}),t)))});return{provideChallengeGenerator:e=>{s=()=>iF.fromPromise(e(),()=>({error:"GenerateChallengeError",message:"Failed to generate challenge"}))},provideDataRequestControl:e=>{u=t=>iF.fromPromise(e(t),()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"}))},provideConnectResponseCallback:e=>{o=t=>e(t)},sendOneTimeRequest:(...e)=>d({dataRequestState:a.toDataRequestState(...e),isConnect:!1,oneTime:!0}),setState:(...e)=>(a.setState(...e),{sendRequest:()=>d({dataRequestState:a.getState(),isConnect:!1,oneTime:!1})}),sendRequest:({isConnect:e,oneTime:t})=>{let n=d({isConnect:e,oneTime:t,dataRequestState:a.getState()});return o&&n.map(e=>{o(i8(e))}).mapErr(e=>{o(i7(e))}),n},updateSharedData:()=>d({dataRequestState:uw(e.getState().sharedData),isConnect:!1,oneTime:!1})}},uk=e=>{var t;let n=e.accounts??[],r=(null==(t=null==e?void 0:e.persona)?void 0:t.label)??"",a=!!(null!=e&&e.persona),i=e.personaData.map(e=>{if("fullName"===e.entry){let{variant:t,givenNames:n,familyName:r,nickname:a}=e.fields;return{value:"western"===t?`${n}${a?` "${a}" `:" "}${r}`:`${r}${a?` "${a}" `:" "}${n}`,field:"fullName"}}return"emailAddresses"===e.entry?{value:e.fields[0],field:"emailAddress"}:"phoneNumbers"===e.entry?{value:e.fields[0],field:"phoneNumber"}:void 0}).filter(e=>!!e&&!!e.value.trim());return{accounts:n,personaLabel:r,connected:a,personaData:i}},uS=e=>{let t=new z(e),n=()=>t.next(e),r=e=>t.next(e),a=()=>t.getValue(),i=(...e)=>e.filter(e=>"function"==typeof e._toObject).reduce((e,t)=>({...e,...t._toObject()}),{});return{reset:n,setState:(...e)=>{0===e.length?n():r(i(...e))},getState:a,patchState:(...e)=>{0!==e.length&&r({...a(),...i(...e)})},removeState:(...e)=>{r(sL(a(),t=>{e.forEach(e=>{delete t[e]})}))},toDataRequestState:i,state$:t.asObservable()}},uT=e=>t=>iF.fromPromise(e(t),e=>({error:"requestInterceptorError",jsError:e})),uP=e=>{let{dAppDefinitionAddress:t,networkId:n,providers:r,logger:a,onDisconnect:i,explorer:s,gatewayBaseUrl:o,applicationName:u,applicationVersion:l,useCache:c=!0,requestInterceptor:d=async({payload:e})=>e}=e||{},p=`rdt:${t}:${n}`,h=new z(t),f=new _,m=(null==r?void 0:r.connectButton)??sH({logger:a});m.setIsMobile(sG());let y=(null==r?void 0:r.gatewayClient)??o8({logger:a,gatewayApi:o3({basePath:o??oH[n].gatewayUrl,dAppDefinitionAddress:t,applicationName:u,applicationVersion:l})}),v=(null==r?void 0:r.storageClient)??un(),g=(null==r?void 0:r.walletSdk)??al({logger:a,networkId:n,dAppDefinitionAddress:t}),b=(null==r?void 0:r.requestItemClient)??ue(p,v,{logger:a}),w=(null==r?void 0:r.walletClient)??o9({logger:a,onCancelRequestItem$:m.onCancelRequestItem$,walletSdk:g,gatewayClient:y,requestItemClient:b}),x=(null==r?void 0:r.stateClient)??sW(p,v,{logger:a}),k=(null==r?void 0:r.dataRequestStateClient)??uS({}),S=uT(d),T=(null==r?void 0:r.dataRequestClient)??ux({stateClient:x,requestItemClient:b,walletClient:w,useCache:c,dataRequestStateClient:k,requestInterceptor:S}),P=()=>{b.items$.value.forEach(e=>{e.showCancel&&w.cancelRequest(e.id)}),x.reset(),w.resetRequestItems(),m.disconnect(),i&&i()};f.add(h.pipe(eN(e=>!!e),ej(e=>y.gatewayApi.getEntityDetails(e).map(e=>o6(null==e?void 0:e.metadata.items.find(e=>"name"===e.key)).stringified).map(e=>{m.setDappName(e??"Unnamed dApp")}))).subscribe()),f.add(w.extensionStatus$.pipe(eD(e=>{m.setIsExtensionAvailable(e.isExtensionAvailable),m.setIsWalletLinked(e.isWalletLinked)})).subscribe()),f.add(m.onConnect$.pipe(ej(()=>(x.reset(),T.sendRequest({isConnect:!0,oneTime:!1})))).subscribe()),f.add(m.onLinkClick$.pipe(eD(({type:e,data:t})=>{if(["account","transaction"].includes(e)){let{baseUrl:r,transactionPath:a,accountsPath:i}=s??{baseUrl:oH[n].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"};if(!r||!window)return;let o=`${r}${"transaction"===e?a:i}${t}`;window.open(o)}else"setupGuide"===e?window.open("https://wallet.radixdlt.com"):"showQrCode"===e&&g.openPopup()})).subscribe()),f.add(m.onShowPopover$.pipe(eZ(w.requestItems$),eD(([e,t])=>{t.filter(e=>"pending"===e.status).length>0&&m.setActiveTab("requests")})).subscribe()),f.add(m.onDisconnect$.pipe(eD(P)).subscribe()),f.add(x.state$.pipe(eD(e=>{let{personaData:t,accounts:n,personaLabel:r,connected:a}=uk(e.walletData);m.setLoggedInTimestamp(e.loggedInTimestamp),m.setAccounts(n),m.setPersonaData(t),m.setPersonaLabel(r),m.setConnected(a)})).subscribe()),f.add(w.requestItems$.pipe(eD(e=>m.setRequestItems(e))).subscribe()),f.add(b.change$.pipe(eZ(b.items$),eD(([,e])=>{e.find(e=>"pending"===e.status)&&m.setStatus("pending")}),eT(([e])=>{var t,n;let r=null==(t=e.newValue)?void 0:t.status;return(null==(n=e.oldValue)?void 0:n.status)==="pending"&&("success"===r||"fail"===r)?(m.setStatus("success"===r?"success":"error"),eA(2e3).pipe(eZ(w.requestItems$),eD(([e,t])=>{let n=t.find(e=>"pending"===e.status);m.setStatus(n?"pending":"default")}))):ef()})).subscribe()),f.add(eI(m.onUpdateSharedData$).pipe(ej(()=>T.updateSharedData())).subscribe());let C={state:y.gatewayApi.stateApi,status:y.gatewayApi.statusApi,transaction:y.gatewayApi.transactionApi},R={setRequestData:T.setState,sendRequest:()=>T.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:e=>T.provideChallengeGenerator(e),dataRequestControl:e=>{T.provideDataRequestControl(e)},provideConnectResponseCallback:T.provideConnectResponseCallback,updateSharedData:()=>T.updateSharedData(),sendOneTimeRequest:T.sendOneTimeRequest,sendTransaction:e=>S({type:"sendTransaction",payload:e}).andThen(w.sendTransaction),walletData$:x.walletData$,getWalletData:()=>x.getWalletData()},O={setTheme:m.setTheme,setMode:m.setMode,status$:m.status$};return{walletApi:R,gatewayApi:C,buttonApi:O,disconnect:P,destroy:()=>{x.destroy(),w.destroy(),f.unsubscribe(),m.destroy()}}};i_({numberOfAccounts:nn,withProof:ih().optional(),reset:ih().optional()}),i_({withProof:ih().optional()}),i_({fullName:ih(),emailAddresses:nn,phoneNumbers:nn,reset:ih()}).partial();let uC={accounts:()=>{let e=sL({numberOfAccounts:{quantifier:"atLeast",quantity:1}},()=>{}),t={atLeast:n=>(e=sL(e,e=>{e.numberOfAccounts.quantifier="atLeast",e.numberOfAccounts.quantity=n}),t),exactly:n=>(e=sL(e,e=>{e.numberOfAccounts.quantifier="exactly",e.numberOfAccounts.quantity=n}),t),withProof:(n=!0)=>(e=sL(e,e=>{e.withProof=n}),t),reset:(n=!0)=>(e=sL(e,e=>{e.reset=n}),t),_toObject:()=>({accounts:e})};return t},personaData:(e={})=>{let t=sL(e,()=>{}),n=e=>({atLeast:n=>(t=sL(t,t=>{t[e]={quantifier:"atLeast",quantity:n}}),r),exactly:n=>(t=sL(t,t=>{t[e]={quantifier:"exactly",quantity:n}}),r)}),r={fullName:(e=!0)=>(t=sL(t,t=>{t.fullName=e}),r),emailAddresses:(e=!0)=>(n("emailAddresses").exactly(e?1:0),r),phoneNumbers:(e=!0)=>(n("phoneNumbers").exactly(e?1:0),r),reset:(e=!0)=>(t=sL(t,t=>{t.reset=e}),r),_toObject:()=>({personaData:t})};return r},persona:(e={withProof:!1})=>{let t=sL(e,()=>{}),n={withProof:(e=!0)=>(t=sL(t,t=>{t.withProof=e}),n),_toObject:()=>({persona:t})};return n},config:e=>({_toObject:()=>({...e})})}}}]);