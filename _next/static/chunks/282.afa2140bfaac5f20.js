(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{95096:function(e,s,t){"use strict";t.d(s,{I:function(){return n},T:function(){return d}});var a=t(2784),l=t(38059),i=t(91206),r=t(38465);let d=()=>{let e=(0,l.h9)(),{addressBook:s}=(0,r.Z)(s=>({addressBook:s.addressBook[e]}));return(0,a.useMemo)(()=>s||{},[s])},n=()=>{let e=(0,i.i)(),s=d();return{...s,...e}}},46125:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return F}});var a=t(52322),l=t(2784),i=t(49177),r=t(83112),d=t(73557),n=t(60705),o=t(38059),c=t(38465);let u=()=>{let e=(0,o.h9)(),{approvedDapps:s}=(0,c.Z)(s=>({approvedDapps:s.approvedDapps[e]}));return(0,l.useMemo)(()=>s||{},[s])};var f=t(51129),m=t(65703),g=t(66572),x=t(8522),p=t(89698),v=t(43789),h=t(35305),j=t(16803);let _=(0,i.vU)({title:{id:"KUFMiM",defaultMessage:"Revoke access"},description:{id:"NcTNMr",defaultMessage:"Are you sure you want to revoke {dappName} access?"},button_text:{id:"tnRDuU",defaultMessage:"Revoke"},success_message:{id:"ND6jOK",defaultMessage:"Successfully revoked access"}});var b=e=>{var s;let{address:t,onClose:l}=e,i=(0,r.Z)(),d=(0,o.h9)(),{data:n}=(0,h.pH)(t),u=(0,j.vK)("name",null==n?void 0:null===(s=n.metadata)||void 0===s?void 0:s.items),{remove:f}=(0,c.Z)(e=>({remove:e.forgetDappAction}));return(0,a.jsx)(p.ld,{open:!!t,title:i.formatMessage(_.title),description:(0,a.jsx)(v.Z,{truncate:!0,children:i.formatMessage(_.description,{dappName:u})}),confirmButtonText:i.formatMessage(_.button_text),onCancel:l,onConfirm:()=>{f(d,t),x.A.success(i.formatMessage(_.success_message),{}),l()}})},M=t(21593),z=t(28614),Z=t(6277),k=t(18917),y=t(6887),A=t(65098),w=t(52897),N=t(12348),D=t(10455),K=t(28694),C=t(95096),I=t(2509);let O=e=>{var s,t,l,i;let{address:r,reversed:d}=e,{data:n,isLoading:o}=(0,h.pH)(r),c=(0,C.I)(),u=(0,j.vK)("name",null==n?void 0:null===(s=n.metadata)||void 0===s?void 0:s.items),f=(0,j.vK)("dapp_definition",null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.items),{data:m}=(0,h.pH)(f),g=(0,j.vK)("name",null==m?void 0:null===(l=m.metadata)||void 0===l?void 0:l.items),x=f||r,p=(null===(i=c[r])||void 0===i?void 0:i.name)||g||u;return o?(0,a.jsx)(N.hW,{}):(0,a.jsxs)(k.x,{display:"flex",flexDirection:d?"row-reverse":"row",gap:"medium",alignItems:"center",children:[c[r]?(0,a.jsx)(w.J,{address:x}):(0,a.jsx)(D.H,{address:x,size:"xlarge"}),(0,a.jsxs)(k.x,{display:"flex",flexDirection:"column",children:[p&&(0,a.jsx)(k.x,{paddingRight:"large",children:(0,a.jsx)(v.Z,{align:d?"right":"left",color:"strong",weight:"medium",size:"small",truncate:!0,children:p})}),(0,a.jsx)(K.eE,{message:r,children:(0,a.jsx)(k.x,{children:(0,a.jsx)(v.Z,{align:d?"right":"left",color:"strong",size:"xsmall",truncate:!0,children:(0,I.Q)(r)})})})]})]})};t(41486),t(8144),t(39986),t(97913);var U="ze7b1i3 _5baftfg8 _5baftfg _5baftf17 _5baftf1j _5baftf2p _5baftfeg";let H=(0,i.vU)({table_cell_dapp_title:{id:"YjOAs/",defaultMessage:"dApp"},persona:{id:"JGu6zs",defaultMessage:"Persona"},accounts:{id:"pQOchI",defaultMessage:"Selected accounts"},delete:{id:"KUFMiM",defaultMessage:"Revoke access"}}),R=e=>{let{row:s,onDelete:t}=e,l=(0,r.Z)();return(0,a.jsxs)(k.x,{className:"ze7b1i1 _5baftf4 _5baftfg _5baftf17 _5baftf12 _5baftf27 _5baftf22 _5baftfg8 _5baftf2s _5baftfdg",children:[(0,a.jsxs)(k.x,{className:U,children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(H.table_cell_dapp_title)}),(0,a.jsx)(O,{address:s.original.address})]}),(0,a.jsxs)(k.x,{className:U,children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(H.persona)}),(0,a.jsx)(O,{address:s.original.persona})]}),(0,a.jsxs)(k.x,{className:(0,Z.Z)(U,"ze7b1i5 ze7b1i4"),children:[(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:l.formatMessage(H.accounts)}),(0,a.jsx)(v.Z,{size:"xxsmall",weight:"medium",truncate:!0,children:s.original.accounts.map(e=>(0,a.jsx)(O,{address:e},e))})]}),(0,a.jsx)(y.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,a.jsx)(A.Z,{}),onClick:t,children:l.formatMessage(H.delete)})]},s.original.address)},T=(0,i.vU)({header:{id:"YjOAs/",defaultMessage:"dApp"}}),E=e=>{let{row:s,onDelete:t}=e;return(0,a.jsx)(R,{row:s,onDelete:()=>t(s.original.address)},s.original.address)},V=e=>{let{data:s,onDelete:t}=e,i=(0,r.Z)(),{scrollableNode:d}=(0,M.v)(),n=(0,l.useMemo)(()=>[{Header:i.formatMessage(T.header),accessor:"address",width:"auto",Cell:E}],[t]);return(0,a.jsx)(z.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:d,data:Object.keys(s).map(e=>({...s[e],address:e})),columns:n,cellProps:{onDelete:t}})},B=(0,i.vU)({title:{id:"xhTCHJ",defaultMessage:"Authorized dApps"},subtitle:{id:"Oo+KOv",defaultMessage:"Authorized dApps that you have logged into."}});var F=()=>{let e=(0,r.Z)(),s=(0,d.s0)(),t=u(),{keystore:i}=(0,c.e)(e=>({keystore:e.keystores.find(s=>{let{id:t}=s;return t===e.selectedKeystoreId})})),[o,x]=(0,n.x)({deleting:void 0});return(0,l.useEffect)(()=>{(null==i?void 0:i.type)===f.nq.RADIX_WALLET&&s("/")},[i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.e,{children:[(0,a.jsx)(m.A,{title:e.formatMessage(B.title),subTitle:e.formatMessage(B.subtitle)}),(0,a.jsx)(V,{data:t,onDelete:e=>{x(s=>{s.deleting=e})}})]}),(0,a.jsx)(b,{address:o.deleting,onClose:()=>{x(e=>{e.deleting=void 0})}})]})}},97913:function(){}}]);