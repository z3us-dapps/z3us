(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7404],{323:function(e,t,a){"use strict";a.d(t,{N7:function(){return o}});var s=a(52322),r=a(2784),n=a(72580),i=a(9219);let l=(0,r.forwardRef)((e,t)=>{let{onChange:a,hasError:r,...i}=e;return(0,s.jsx)(n.I,{...i,elementType:"textarea",type:"textarea",ref:t,onChange:e=>{let t=e.nativeEvent;t.isComposing||a(e.target.value)}})}),o=(0,r.forwardRef)((e,t)=>{let{validate:a,name:r,label:n,...o}=e;return(0,s.jsx)(i.n,{name:r,label:n,validate:a,children:(0,s.jsx)(l,{...o,ref:t})})});t.ZP=o},51394:function(e,t,a){"use strict";a.r(t),a.d(t,{Home:function(){return eU},default:function(){return eQ}});var s=a(52322),r=a(85056),n=a(2784),i=a(49177),l=a(83112),o=a(73557),f=a(39857),d=a(8522),c=a(23554),u=a(99040),_=a(2827),g=a(38059),m=a(47843);let b=(0,r.Ji)(0),h=(e,t)=>{let a=t.reduce((e,t)=>({...e,[t.from]:t.tokens.reduce((e,t)=>({...e,[t.resource]:(0,r.gH)(t.amount).value.add((0,r.gH)(e[t.resource]||0).value).toString()}),{})}),{});return e=Object.entries(a).reduce((e,t)=>{let[a,s]=t;return Object.entries(s).reduce((e,t)=>{let[s,n]=t;return e.callMethod(a,"withdraw",[(0,r.Lk)(s),(0,r.gH)(n)])},e)},e),t.reduce((e,t)=>{let{tokens:a,to:s}=t;return a.reduce((e,t)=>{let{resource:a,amount:n}=t;return e.takeFromWorktop(a,(0,r.gH)(n).value,(e,t)=>e.callMethod(s,"try_deposit_or_abort",[(0,r.ne)(t),b]))},e)},e)},v=(e,t)=>{let a=t.reduce((e,t)=>({...e,[t.from]:t.nfts.reduce((e,t)=>({...e,[t.resource]:t.ids.reduce((e,t)=>({...e,[t]:null}),e[t.resource]||{})}),{})}),{});return e=Object.entries(a).reduce((e,t)=>{let[a,s]=t;return Object.entries(s).reduce((e,t)=>{let[s,n]=t;return Object.keys(n).forEach(t=>{e=e.callMethod(a,"withdraw_non_fungibles",[(0,r.Lk)(s),(0,r.IX)(r.mh.NonFungibleLocalId,(0,r.d$)(t))])}),e},e)},e),t.reduce((e,t)=>{let{nfts:a,to:s}=t;return a.reduce((e,t)=>{let{resource:a,ids:n}=t;return e.takeNonFungiblesFromWorktop(a,n,(e,t)=>e.callMethod(s,"try_deposit_or_abort",[(0,r.ne)(t),b]))},e)},e)};var x=a(6277),j=a(18917),y=a(6887),p=a(12132),M=a(36650),z=a(98076),k=a(56729),q=a(51624);let w=()=>(0,n.useContext)(q.Y),N=e=>{let t=(0,g.h9)(),a=w();return(0,k.a)({queryKey:["rns","useDomainDiscovery",t,e],queryFn:()=>a.getAccountDomains(e),enabled:!!e&&!!t})};var C=a(63370),V=a(731),Z=a(47122),E=a(94225),I=a(510),T=a(47930),F=a(11633),W=a(72580),R=a(9795),O=a(74669),S=a(28694),P=a(43789);a(41486),a(8144),a(9563),a(92995),a(13945);let A=(0,i.vU)({clear:{id:"/GCoTA",defaultMessage:"Clear"}}),D=e=>{let{id:t,account:a,alias:r,value:n,onSelect:i}=e;return(0,s.jsxs)(j.x,{component:"button",className:"_1gvz7gk7 _5baftf6g _5baftf7a _5baftf4s _5baftf5m _5baftf4 _5baftf1zb _5baftfhl _5baftfg _5baftfg5 _5baftf1y _5baftfgi _5baftffp _5baftf176 _5baftf171 _5baftf17a _5baftfed _5baftf2j",value:t,display:"flex",onClick:()=>{i(t)},children:[(0,s.jsx)(j.x,{children:(0,s.jsx)(P.Z,{size:"small",color:"strong",truncate:!0,children:r})}),(0,s.jsx)(j.x,{flexGrow:1,children:(0,s.jsxs)(P.Z,{size:"small",truncate:!0,children:["(",a,")"]})}),t===n&&(0,s.jsx)(j.x,{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",children:(0,s.jsx)(I.Z,{})})]})},L=(0,n.forwardRef)((e,t)=>{let{className:a,data:r,value:i,onValueChange:o,styleVariant:f="primary",sizeVariant:d="large",placeholder:c}=e,u=(0,l.Z)(),[_,g]=(0,n.useState)(!1),[m,b]=(0,n.useState)(void 0),[h,v]=(0,n.useState)(r),[p,{width:M}]=(0,V.Z)(),z=(0,n.useRef)(null),k=(0,n.useRef)(null),[q]=(0,E.Nr)(i,200),w=(e,t)=>{let a=e.toLowerCase();return t.filter(e=>Object.values(e).some(e=>!!("string"==typeof i&&e.toLowerCase().includes(a))))};(0,n.useEffect)(()=>{v(w(q,r))},[r]),(0,n.useEffect)(()=>{_&&v(w(q,r))},[q]);let N=()=>{g(!1)},C=e=>{v(r),o(e),N()},I=(0,n.useCallback)((e,t)=>{let{id:a,account:r,alias:n}=t;return(0,s.jsx)(D,{id:a,account:r,alias:n,value:i,onSelect:C},a)},[i,C]);return(0,s.jsx)(j.x,{ref:t,className:(0,x.Z)("_1gvz7gk9 _5baftf4",a),children:(0,s.jsxs)(R.Pg,{open:_,children:[(0,s.jsx)(R.tW,{asChild:!0,children:(0,s.jsxs)(j.x,{ref:p,className:"_1gvz7gk1 _5baftf4",children:[(0,s.jsx)(W.I,{ref:z,styleVariant:f,sizeVariant:d,value:i,placeholder:c,onChange:e=>{let t=e.currentTarget.value;o(t)},onFocus:()=>{g(!0)},rightIconClassName:"_5baftfb7",rightIcon:(0,s.jsx)(T.Z,{})}),_&&(null==i?void 0:i.length)>0&&(0,s.jsx)(S.eE,{message:u.formatMessage(A.clear),children:(0,s.jsx)(y.z,{ref:k,styleVariant:"secondary",sizeVariant:"small",iconOnly:!0,className:"_1gvz7gkd _5baftf1",onClick:()=>{o(""),v(w("",r)),g(!0),z.current.focus()},children:(0,s.jsx)(F.Z,{})})})]})}),(0,s.jsx)(R.i9,{children:(0,s.jsx)(R.yk,{align:"start",sideOffset:2,onOpenAutoFocus:e=>{e.preventDefault()},onEscapeKeyDown:()=>{N()},onPointerDownOutside:e=>{var t,a;!z||(null===(t=z.current)||void 0===t?void 0:t.contains(e.target))||(null===(a=k.current)||void 0===a?void 0:a.contains(e.target))||N()},style:{width:"".concat(M,"px")},children:(0,s.jsx)(O.Z,{className:"_1gvz7gk3 _5baftf4",scrollableNodeProps:{ref:b},children:(0,s.jsx)(j.x,{className:"_1gvz7gk5 _5baftf6g _5baftf7a _5baftf4s _5baftf5m _5baftf4 _5baftfed _5baftffd",children:(0,s.jsx)(Z.OO,{data:h,itemContent:I,customScrollParent:m})})})})})]})})}),K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"website",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"navigation",s=(0,g.h9)(),r=w();return(0,k.a)({queryKey:["rns","useDomainResolution",s,e,t,a],queryFn:()=>r.resolveRecord({domain:e,context:t,directive:a}),enabled:!!e&&e.endsWith(".xrd")&&!!s})};var H=a(95096);let U=e=>e.startsWith("package_")||e.startsWith("resource_")||e.startsWith("component_")||e.startsWith("account_")||e.startsWith("identity_")||e.startsWith("consensus_manager_")||e.startsWith("validator_")||e.startsWith("access_controller_")||e.startsWith("pool_")||e.startsWith("transaction_tracker_")||e.startsWith("internal_vault_")||e.startsWith("internal_component_")||e.startsWith("internal_key_value_store_");var Q=a(2509),$=a(9219);a(86305);let B=(0,n.forwardRef)((e,t)=>{let{onChange:a,value:r,toolTipMessageKnownAddress:i,isKnownAddressVisible:l=!0,hasError:o=!1,exclude:f,...d}=e,c=(0,n.useMemo)(()=>r||"",[r]),u=(0,H.I)(),{data:_}=K(c,"receivers","*"),{data:g}=N(c),m=(0,n.useMemo)(()=>_?[{id:_,account:(0,Q.Q)(_,8),alias:c}]:Object.values(u).filter(e=>e.address!==f).map(e=>({id:e.address,account:(0,Q.Q)(e.address,8),alias:e.name})),[_,u]),b=(0,n.useMemo)(()=>{var e;return(null==g?void 0:null===(e=g[0])||void 0===e?void 0:e.name)||""},[g]),h=(0,n.useMemo)(()=>{var e;return null===(e=u[c])||void 0===e?void 0:e.name},[c,u]),v=(0,n.useMemo)(()=>h||b||(U(c)?(0,Q.Q)(c,8):c),[c,h,b]);return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(j.x,{className:"p4a0541 _5baftfg _5baftfed _5baftf1j",children:(0,s.jsxs)(j.x,{className:"p4a0543 _5baftf4 _5baftfg _5baftf1y _5baftf1j _5baftf1y5 _5baftfey _5baftf5m",children:[v&&(0,s.jsx)(S.eE,{message:r,side:"top",children:(0,s.jsx)(j.x,{children:(0,s.jsxs)(P.Z,{size:"xxsmall",truncate:!0,children:["(",v,")"]})})}),!!h&&i&&(0,s.jsx)(j.x,{flexShrink:0,children:(0,s.jsx)(S.eE,{message:i,side:"top",children:(0,s.jsx)(C.Z,{})})})]})}),(0,s.jsx)(L,{...d,value:c,ref:t,onValueChange:e=>{a(e)},data:m,styleVariant:o?"primary-error":"primary"})]})}),X=(0,n.forwardRef)((e,t)=>{let{validate:a,name:r,label:n,...i}=e;return(0,s.jsx)($.n,{name:r,label:n,validate:a,children:(0,s.jsx)(B,{...i,ref:t})})});var G=a(14321),Y=a(43207),J=a(323),ee=a(5535),et=a(70440),ea=a(65098);let es=n.forwardRef((e,t)=>{let{color:a="currentColor",...r}=e;return(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:(0,s.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 14.75V19.25M11.25 19.25H5.78165C5.21714 19.25 4.77296 18.7817 4.88545 18.2285C5.19601 16.7012 6.21027 14 9.49996 14C10.1744 14 10.7532 14.0563 11.25 14.25M19.25 17H14.75M14.75 10.25C16.2687 10.25 17.25 9.01878 17.25 7.5C17.25 5.98122 16.2687 4.75 14.75 4.75M12.25 7.5C12.25 9.01878 11.0187 10.25 9.49996 10.25C7.98118 10.25 6.74996 9.01878 6.74996 7.5C6.74996 5.98122 7.98118 4.75 9.49996 4.75C11.0187 4.75 12.25 5.98122 12.25 7.5Z"})})});var er=a(68080),en=a(7560),ei=a(38930),el=a(72422),eo=a(19106),ef=a(80254),ed=a(57915),ec=a(97368),eu=a(68622),e_=a(62825);let eg="Tabs",[em,eb]=(0,el.b)(eg,[eo.Pc]),eh=(0,eo.Pc)(),[ev,ex]=em(eg),ej=(0,n.forwardRef)((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:f="automatic",...d}=e,c=(0,ec.gm)(o),[u,_]=(0,eu.T)({prop:s,onChange:r,defaultProp:i});return(0,n.createElement)(ev,{scope:a,baseId:(0,e_.M)(),value:u,onValueChange:_,orientation:l,dir:c,activationMode:f},(0,n.createElement)(ed.WV.div,(0,en.Z)({dir:c,"data-orientation":l},d,{ref:t})))}),ey=(0,n.forwardRef)((e,t)=>{let{__scopeTabs:a,loop:s=!0,...r}=e,i=ex("TabsList",a),l=eh(a);return(0,n.createElement)(eo.fC,(0,en.Z)({asChild:!0},l,{orientation:i.orientation,dir:i.dir,loop:s}),(0,n.createElement)(ed.WV.div,(0,en.Z)({role:"tablist","aria-orientation":i.orientation},r,{ref:t})))}),ep=(0,n.forwardRef)((e,t)=>{let{__scopeTabs:a,value:s,disabled:r=!1,...i}=e,l=ex("TabsTrigger",a),o=eh(a),f=ez(l.baseId,s),d=ek(l.baseId,s),c=s===l.value;return(0,n.createElement)(eo.ck,(0,en.Z)({asChild:!0},o,{focusable:!r,active:c}),(0,n.createElement)(ed.WV.button,(0,en.Z)({type:"button",role:"tab","aria-selected":c,"aria-controls":d,"data-state":c?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:f},i,{ref:t,onMouseDown:(0,ei.M)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,ei.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,ei.M)(e.onFocus,()=>{let e="manual"!==l.activationMode;c||r||!e||l.onValueChange(s)})})))}),eM=(0,n.forwardRef)((e,t)=>{let{__scopeTabs:a,value:s,forceMount:r,children:i,...l}=e,o=ex("TabsContent",a),f=ez(o.baseId,s),d=ek(o.baseId,s),c=s===o.value,u=(0,n.useRef)(c);return(0,n.useEffect)(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,n.createElement)(ef.z,{present:r||c},({present:a})=>(0,n.createElement)(ed.WV.div,(0,en.Z)({"data-state":c?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":f,hidden:!a,id:d,tabIndex:0},l,{ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0}}),a&&i))});function ez(e,t){return`${e}-trigger-${t}`}function ek(e,t){return`${e}-content-${t}`}a(5830);var eq=a(83308),ew=(0,eq.u)({defaultClassName:"_1t55vyz5",variantClassNames:{styleVariant:{primary:"_1t55vyz6 _5baftfed _5baftfg _5baftf1y _5baftf1d _5baftflc _5baftfpn _5baftf381 _5baftf3by",secondary:"_1t55vyz7 _1t55vyz3"},sizeVariant:{small:"_1t55vyz8",medium:"_1t55vyz9 _1t55vyz4",large:"_1t55vyza"}},defaultVariants:{styleVariant:"primary",sizeVariant:"medium"},compoundVariants:[[{styleVariant:"primary",sizeVariant:"medium"},"_1t55vyzb"]]}),eN=(0,eq.u)({defaultClassName:"_1t55vyzh",variantClassNames:{styleVariant:{primary:"_1t55vyzi _5baftfhn _5baftfg8 _5baftfg5",secondary:"_1t55vyzj _5baftf10p"},sizeVariant:{small:"_1t55vyzk",medium:"_1t55vyzl _1t55vyzg",large:"_1t55vyzm"}},defaultVariants:{styleVariant:"primary",sizeVariant:"medium"},compoundVariants:[[{styleVariant:"primary",sizeVariant:"medium"},"_1t55vyzn"]]});let eC=e=>{let{children:t,list:a,sizeVariant:r="medium",styleVariant:n="primary",...i}=e;return(0,s.jsxs)(ej,{...i,children:[(0,s.jsx)(ey,{className:(0,x.Z)("_1t55vyz1 _5baftfg _5baftf1y _5baftfgb _5baftf4",ew({sizeVariant:r,styleVariant:n})),children:a.map(e=>{let{label:t,value:a}=e;return(0,s.jsx)(ep,{value:a,className:(0,x.Z)(eN({sizeVariant:r,styleVariant:n}),"_1t55vyzd _5baftf37 _5baftf3d _5baftf3j _5baftf3p _5baftfj _5baftffs _5baftfhl"),children:t},a)})}),t]})};var eV=a(47324);let eZ=e=>{if(null==e)throw Error("Input string is null or undefined.");if(0===e.length)return e;if("string"!=typeof e)throw Error("Input is not a string.");let t=e.codePointAt(0);if(void 0!==t&&t>127||void 0!==t&&Number.isNaN(t))throw Error("Input string contains invalid Unicode character.");return e.charAt(0).toUpperCase()+e.slice(1)};a(53863);var eE="ikuqqgx _5baftf3a _5baftf3g _5baftf3m _5baftf3s _5baftf3v _5baftf41 _5baftf47 _5baftf4d _5baftf6j _5baftf7d _5baftf3rh _5baftf5p _5baftfh8 _5baftfhg",eI="ikuqqgf _5baftf4",eT="ikuqqg1 _5baftf4 _5baftfed _5baftfg _5baftf14 _5baftf2p",eF="ikuqqg3 _5baftf3a _5baftf3v _5baftf3rh _5baftf8a _5baftf8e _5baftf8f _5baftf4y _5baftf52 _5baftf53",eW="ikuqqg5 _5baftfg _5baftf14 _5baftf2g";let eR="message",eO="account",eS="tokens",eP="nfts",eA=(0,i.vU)({button_add_from:{id:"nlmCx1",defaultMessage:"Add another source"},button_add_account:{id:"k9/iMB",defaultMessage:"Add another recipient"},button_add_token:{id:"dYGqTI",defaultMessage:"Add another asset"},known_address:{id:"1LCRft",defaultMessage:"Known address"},title:{id:"DtYelJ",defaultMessage:"Transfer"},from_title:{id:"F4xg6X",defaultMessage:"From account"},from_subtitle:{id:"yeLIPx",defaultMessage:"Select account you wish to send assets from"},from_placeholder:{defaultMessage:"Select account",id:"0+6+jP"},to_placeholder:{defaultMessage:"Select account",id:"0+6+jP"},to_title:{id:"gCOFay",defaultMessage:"To account"},to_subtitle:{id:"y0Ofed",defaultMessage:"Select recipient to send assets to"},message_title:{id:"T7Ry38",defaultMessage:"Message"},message_subtitle:{id:"QBcOMr",defaultMessage:"Send an optional message with the transaction"},message_placeholder:{id:"d4jAEU",defaultMessage:"Enter transaction message"},message_encrypt_title:{id:"luAead",defaultMessage:"Encrypt message"},tab_tokens:{id:"P6EE/a",defaultMessage:"Tokens"},tab_nfts:{id:"nqRscq",defaultMessage:"NFTs"},button_submit:{id:"9WRlF4",defaultMessage:"Send"}}),eD=(0,n.forwardRef)((e,t)=>{let a=(0,l.Z)(),{name:r}=(0,n.useContext)(p.z),i=(0,et.K)("".concat(r?"".concat(r,"."):"").concat(eO))||"",{fungibleBalances:o=[]}=(0,eV.ln)([i]),f=(0,n.useMemo)(()=>o.map(e=>e.address),[o]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.x,{className:(0,x.Z)(eT,eF),children:[(0,s.jsxs)(j.x,{className:eW,children:[(0,s.jsx)(P.Z,{color:"strong",size:"large",weight:"strong",children:a.formatMessage(eA.from_title)}),(0,s.jsx)(P.Z,{size:"xsmall",children:a.formatMessage(eA.from_subtitle)})]}),(0,s.jsx)(j.x,{children:(0,s.jsx)(z.e,{placeholder:a.formatMessage(eA.from_placeholder),ref:t,name:eO})})]}),(0,s.jsx)(M.H,{name:"actions",defaultKeys:1,className:"ikuqqgn _5baftf4 _5baftfh",trashTrigger:(0,s.jsx)(y.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,className:eI,children:(0,s.jsx)(ea.Z,{})}),addTrigger:(0,s.jsx)(y.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,s.jsx)(j.x,{marginLeft:"small",children:(0,s.jsx)(es,{})}),className:"ikuqqgh ikuqqgg",children:a.formatMessage(eA.button_add_account)}),children:(0,s.jsxs)(j.x,{className:(0,x.Z)(eT,eF),children:[(0,s.jsxs)(j.x,{className:eW,children:[(0,s.jsx)(P.Z,{color:"strong",size:"large",weight:"strong",children:a.formatMessage(eA.to_title)}),(0,s.jsx)(P.Z,{size:"xsmall",children:a.formatMessage(eA.to_subtitle)})]}),(0,s.jsxs)(j.x,{display:"flex",flexDirection:"column",gap:"small",children:[(0,s.jsx)(X,{placeholder:a.formatMessage(eA.to_placeholder),name:"to",toolTipMessageKnownAddress:a.formatMessage(eA.known_address),exclude:i}),(0,s.jsx)(M.H,{name:"resources",defaultKeys:1,className:"ikuqqgp _5baftf4 _5baftfg",addTrigger:(0,s.jsx)(y.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,s.jsx)(j.x,{marginLeft:"small",children:(0,s.jsx)(er.Z,{})}),className:"ikuqqgl ikuqqgk",children:a.formatMessage(eA.button_add_token)}),trashTrigger:(0,s.jsx)(y.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,className:"ikuqqgr _5baftf4",children:(0,s.jsx)(ea.Z,{})}),children:(0,s.jsx)(j.x,{className:"ikuqqgt _5baftf4 _5baftf5s",children:(0,s.jsxs)(eC,{list:[{label:eZ(a.formatMessage(eA.tab_tokens)),value:eS},{label:eZ(a.formatMessage(eA.tab_nfts)),value:eP}],defaultValue:eS,className:"ikuqqgv _5baftf8a",children:[(0,s.jsx)(eM,{value:eS,className:eE,children:(0,s.jsx)(ee.O,{balances:o,resourceAddresses:f})}),(0,s.jsx)(eM,{value:eP,className:eE,children:(0,s.jsx)(G.y,{fromAccount:i})})]})})})]})]})})]})});var eL=()=>{let e=(0,l.Z)(),t=(0,n.useRef)(null),a=(0,et.K)(eR)||"";return(0,n.useEffect)(()=>{var e;null==t||null===(e=t.current)||void 0===e||e.focus()},[null==t?void 0:t.current]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.x,{className:eT,children:[(0,s.jsxs)(j.x,{className:eW,children:[(0,s.jsx)(P.Z,{color:"strong",size:"large",weight:"strong",children:e.formatMessage(eA.message_title)}),(0,s.jsx)(P.Z,{size:"xsmall",children:e.formatMessage(eA.message_subtitle)})]}),(0,s.jsxs)(j.x,{className:"ikuqqg7 _5baftf4",children:[(0,s.jsx)(j.x,{className:"ikuqqg9 _5baftf1 _5baftfg1 _5baftfg4",children:(0,s.jsx)(P.Z,{size:"xxsmall",children:"".concat((null==a?void 0:a.length)||0,"/").concat(200)})}),(0,s.jsx)(J.N7,{name:eR,placeholder:e.formatMessage(eA.message_placeholder),sizeVariant:"large",className:"ikuqqgb ikuqqga",maxLength:200})]})]}),(0,s.jsx)(M.H,{name:"from",defaultKeys:1,trashTrigger:(0,s.jsx)(y.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,className:eI,children:(0,s.jsx)(ea.Z,{})}),addTrigger:(0,s.jsx)(j.x,{className:"ikuqqgj _5baftf3v _5baftf41 _5baftf47 _5baftf4d _5baftf3a _5baftf3rh _5baftf8y _5baftf92",children:(0,s.jsx)(y.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,s.jsx)(j.x,{marginLeft:"small",children:(0,s.jsx)(es,{})}),children:e.formatMessage(eA.button_add_from)})}),children:(0,s.jsx)(eD,{ref:t})}),(0,s.jsx)(Y.M,{children:(0,s.jsx)(y.z,{sizeVariant:"large",styleVariant:"primary",fullWidth:!0,children:e.formatMessage(eA.button_submit)})})]})};a(79692);let eK=(0,i.vU)({validation_token_address_required:{id:"IXFNmv",defaultMessage:"Resource is required"},validation_token_address:{id:"gO3ocF",defaultMessage:"Please select token"},validation_token_amount_required:{id:"jU3fsF",defaultMessage:"Amount is required"},validation_token_amount:{id:"FrNeCi",defaultMessage:"Please enter a valid amount"},validation_nft_collection_required:{id:"IwILnS",defaultMessage:"NFT collection is required"},validation_nft_collection:{id:"jPKpFd",defaultMessage:"Please select NFT collection"},validation_nft_item_required:{id:"BKQjIu",defaultMessage:"NFT item is required"},validation_nft_item:{id:"yTLHBR",defaultMessage:"Please select NFT item"},validation_from:{id:"w2XWRt",defaultMessage:"Please select account"},validation_message:{id:"9Xeynx",defaultMessage:"Message can not be longer than {length}"},validation_to:{id:"qdvh1F",defaultMessage:"Please select recipient"},validation_values_length:{id:"ieuxQy",defaultMessage:"Section required"},error_toast:{id:"fjqZcw",defaultMessage:"Failed submitting transaction to the network"},success_toast:{id:"Gkt0d0",defaultMessage:"Successfully submitted transaction to the network"},toast_action_label:{id:"K7AkdL",defaultMessage:"Show"}});function eH(e,t,a){return{from:[{account:"-"!==e?e:"",actions:[{to:"",resources:[{address:t,id:a?decodeURIComponent(a):"",amount:0}]}]}],message:"",messageEncrypted:!1}}let eU=()=>{let e=(0,l.Z)(),t=(0,g.h9)(),a=(0,m.p)(),i=(0,o.TH)(),b=(0,o.s0)(),[x]=(0,f.lr)(),j=x.get("accountId")||"-",y=x.get("resourceId"),p=x.get("nftId"),M=eH(j,y,p),[z,k]=(0,n.useState)(M),[q,w]=(0,n.useState)(),N=(0,n.useMemo)(()=>{let t=c.z.object({address:c.z.string({required_error:e.formatMessage(eK.validation_token_address_required)}).min(1,e.formatMessage(eK.validation_token_address)),amount:c.z.coerce.number({required_error:e.formatMessage(eK.validation_token_amount_required)}).gt(0,{message:e.formatMessage(eK.validation_token_amount)})}),a=c.z.object({address:c.z.string({required_error:e.formatMessage(eK.validation_nft_collection_required)}).min(1,e.formatMessage(eK.validation_nft_collection)),id:c.z.string({required_error:e.formatMessage(eK.validation_nft_item_required)}).min(1,e.formatMessage(eK.validation_nft_item))}),s=t.or(a),r=c.z.object({to:c.z.string().min(1,e.formatMessage(eK.validation_to)),resources:c.z.array(s).min(1,e.formatMessage(eK.validation_values_length))});return c.z.object({from:c.z.array(c.z.object({account:c.z.string().min(1,e.formatMessage(eK.validation_from)),actions:c.z.array(r).min(1,e.formatMessage(eK.validation_values_length))})).min(1,e.formatMessage(eK.validation_values_length)),message:c.z.string().max(200,e.formatMessage(eK.validation_message,{length:200})).or(c.z.undefined()),messageEncrypted:c.z.boolean().or(c.z.undefined())})},[]);(0,n.useEffect)(()=>{k(eH(j,y,p))},[j,y,p]);let C=async s=>{w(void 0);let n=N.safeParse(s);if(!1===n.success){w(n.error);return}let l=new r.DO;s.from.forEach(e=>{let{account:t,actions:a}=e;return a.forEach(e=>{var a;if((null===(a=e.resources)||void 0===a?void 0:a.length)>0){let a=[],s=[];e.resources.forEach(e=>{let{address:t,id:r,amount:n}=e;r?a.push({resource:t,ids:[r]}):s.push({resource:t,amount:n})}),a.length>0&&(l=v(l,[{from:t,to:e.to,nfts:a}])),s.length>0&&(l=h(l,[{from:t,to:e.to,tokens:s}]))}})});let o=l.build(),f=await r.$D.Instructions.convert(o.instructions,t,"String");await a({version:1,transactionManifest:f.value,message:s.message}).then(t=>{d.A.success(e.formatMessage(eK.success_toast),{description:t.status,action:{label:e.formatMessage(eK.toast_action_label),onClick:()=>{x.set("tx","".concat(t.transactionIntentHash)),b("".concat(i.pathname,"?").concat(x))}}}),k(eH("","",""))}).catch(t=>{d.A.error(e.formatMessage(eK.error_toast),{description:t.message||t.error})})};return(0,s.jsxs)(u.l,{onSubmit:C,initialValues:z,errors:null==q?void 0:q.format(),className:"t6z5ej1 _5baftf4 _5baftfed",children:[(0,s.jsx)(_.d,{message:null==q?void 0:q.flatten().formErrors[0]}),(0,s.jsx)(eL,{})]})};var eQ=eU},86305:function(){},13945:function(){},5830:function(){},53863:function(){},79692:function(){}}]);