(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9622],{95886:function(e,a,s){"use strict";s.d(a,{H:function(){return y}});var n=s(52322),i=s(2784),t=s(49177),l=s(83112),r=s(18917),d=s(28694);let o=()=>(null==crypto?void 0:crypto.randomUUID)?crypto.randomUUID():"".concat(Math.floor(Math.random()*Math.floor(Math.random()*Date.now())));var u=s(73452),m=s(12132),c=s(6887);let f=(0,t.vU)({add:{id:"2/2yg+",defaultMessage:"Add"}}),v=()=>{let e=(0,l.Z)();return(0,n.jsx)(c.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,children:e.formatMessage(f.add)})},g=e=>{let{idx:a,name:s,children:t}=e,{name:l,...r}=(0,i.useContext)(m.z),d=(0,i.useMemo)(()=>({...r,name:"".concat(l?"".concat(l,"."):"").concat(s,"[").concat(a,"]")}),[l,s,a]);return(0,n.jsx)(m.z.Provider,{value:d,children:t})};var h=s(65098);let x=(0,t.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),j=()=>{let e=(0,l.Z)();return(0,n.jsx)(c.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,leftIcon:(0,n.jsx)(r.x,{marginLeft:"small",children:(0,n.jsx)(h.Z,{})}),children:e.formatMessage(x.remove)})},p=(0,t.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),y=e=>{var a;let s=(0,l.Z)(),{name:t,children:c,className:f,trashTrigger:h=(0,n.jsx)(j,{}),addTrigger:x=(0,n.jsx)(v,{}),defaultKeys:y=0,ignoreTriggers:M}=e,{values:b}=(0,i.useContext)(u.q),{name:_}=(0,i.useContext)(m.z),z="".concat(_?"".concat(_,"."):"").concat(t),[k,w]=(0,i.useState)(Array.from({length:(null==b?void 0:null===(a=b[z])||void 0===a?void 0:a.length)||y},o)),N=e=>{w(k.filter(a=>a!==e))};return(0,n.jsxs)(n.Fragment,{children:[k.map((e,a)=>(0,n.jsxs)(r.x,{className:f,position:"relative",children:[(0,n.jsx)(g,{idx:a,name:t,children:c}),!M&&a>=y&&(0,n.jsx)(d.eE,{message:s.formatMessage(p.remove),children:i.cloneElement(h,{onClick:()=>N(e)})})]},e)),!M&&i.cloneElement(x,{onClick:()=>{w([...k,o()])}})]})}},97101:function(e,a,s){"use strict";var n=s(52322),i=s(2784),t=s(53724),l=s(9219);let r=(0,i.forwardRef)((e,a)=>{let{onChange:s,value:i,hasError:l,...r}=e;return(0,n.jsx)(t.X4,{...r,ref:a,onValueChange:s,value:void 0!==i&&""!==i?i:void 0})}),d=(0,i.forwardRef)((e,a)=>{let{validate:s,name:i,label:t,...d}=e;return(0,n.jsx)(l.n,{name:i,label:t,validate:s,children:(0,n.jsx)(r,{...d,ref:a})})});a.ZP=d},13437:function(e,a,s){"use strict";var n=s(52322),i=s(2784);let t=i.forwardRef((e,a)=>{let{color:s="currentColor",...i}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:a,children:[(0,n.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),(0,n.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})});a.Z=t},42051:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return F}});var n=s(52322),i=s(2784),t=s(49177),l=s(83112),r=s(73557),d=s(60705),o=s(18917),u=s(6887),m=s(45362),c=s(71691),f=s(38465),v=s(51129),g=s(65703),h=s(66572),x=s(8522),j=s(89698),p=s(43789),y=s(2509);let M=(0,t.vU)({title:{id:"IipetU",defaultMessage:"Delete persona"},description:{id:"sKyGsm",defaultMessage:"Are you sure you want to delete {identityAddress} from wallet?"},button_text:{id:"K3r6DQ",defaultMessage:"Delete"},success_message:{id:"BiqE0f",defaultMessage:"Successfully deleted persona"}});var b=e=>{let{identityAddress:a,onClose:s}=e,i=(0,l.Z)(),t=(0,c.h)(),{remove:r}=(0,f.Z)(e=>({remove:e.removePersonaAction}));return(0,n.jsx)(j.ld,{open:!!a,title:i.formatMessage(M.title),description:(0,n.jsx)(o.x,{component:"span",children:(0,n.jsx)(p.Z,{truncate:!0,children:i.formatMessage(M.description,{identityAddress:(0,y.Q)(a)})})}),confirmButtonText:i.formatMessage(M.button_text),onCancel:s,onConfirm:()=>{r(t,a),x.A.success(i.formatMessage(M.success_message),{}),s()}})},_=s(21593),z=s(65475),k=s(65098),w=s(13437);s(41486),s(8144),s(66786),s(50168);let N=(0,t.vU)({delete:{id:"K3r6DQ",defaultMessage:"Delete"},edit:{id:"wEQDC6",defaultMessage:"Edit"}}),Z=e=>{let{row:a,onDelete:s,onEdit:i}=e,t=(0,l.Z)();return(0,n.jsxs)(o.x,{className:"r42ebc1 _5baftf4 _5baftfg _5baftf1v _5baftfg2 _5baftf2m",children:[(0,n.jsxs)(o.x,{className:"r42ebc3 _5baftfg5 _5baftfg _5baftf11 _5baftf1d _5baftf2d",children:[(0,n.jsx)(p.Z,{size:"small",color:"strong",weight:"medium",truncate:!0,children:a.original.label}),(0,n.jsx)(p.Z,{size:"xsmall",truncate:!0,children:a.original.identityAddress})]}),(0,n.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,n.jsx)(k.Z,{}),onClick:s,children:t.formatMessage(N.delete)}),(0,n.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,n.jsx)(w.Z,{}),onClick:i,children:t.formatMessage(N.edit)})]},a.original.identityAddress)},C=(0,t.vU)({header:{id:"HAlOn1",defaultMessage:"Name"}}),V=e=>{let{row:a,onEdit:s,onDelete:i}=e;return(0,n.jsx)(Z,{row:a,onEdit:()=>s(a.original.identityAddress),onDelete:()=>i(a.original.identityAddress)},a.original.identityAddress)},A=e=>{let{data:a,onEdit:s,onDelete:t}=e,r=(0,l.Z)(),{scrollableNode:d}=(0,_.v)(),o=(0,i.useMemo)(()=>[{Header:r.formatMessage(C.header),accessor:"name",width:"auto",Cell:V}],[s,t]);return(0,n.jsx)(z.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:d,data:a,columns:o,cellProps:{onEdit:s,onDelete:t}})};var L=s(93138),P=s(23554),E=s(99040),I=s(95886),D=s(97101),U=s(43207),R=s(72797);let W=i.forwardRef((e,a)=>{let{color:s="currentColor",...i}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:a,children:[(0,n.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 7.75C4.75 6.64543 5.64543 5.75 6.75 5.75H17.25C18.3546 5.75 19.25 6.64543 19.25 7.75V16.25C19.25 17.3546 18.3546 18.25 17.25 18.25H6.75C5.64543 18.25 4.75 17.3546 4.75 16.25V7.75Z"}),(0,n.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.5 6.5L12 12.25L18.5 6.5"})]})}),T=i.forwardRef((e,a)=>{let{color:s="currentColor",...i}=e;return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:a,children:(0,n.jsx)("path",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.89286 4.75H6.06818C5.34017 4.75 4.75 5.34017 4.75 6.06818C4.75 13.3483 10.6517 19.25 17.9318 19.25C18.6598 19.25 19.25 18.6598 19.25 17.9318V15.1071L16.1429 13.0357L14.5317 14.6468C14.2519 14.9267 13.8337 15.0137 13.4821 14.8321C12.8858 14.524 11.9181 13.9452 10.9643 13.0357C9.98768 12.1045 9.41548 11.1011 9.12829 10.494C8.96734 10.1537 9.06052 9.76091 9.32669 9.49474L10.9643 7.85714L8.89286 4.75Z"})})});var H=s(86578),S=s(56089);let K=(0,t.vU)({form_button_title:{id:"wSZR47",defaultMessage:"Submit"},email_address:{id:"hJZwTS",defaultMessage:"Email address"},button_add_email_address:{id:"IbfkPE",defaultMessage:"Add email address"},validation_email:{id:"LPhKkU",defaultMessage:"Please select valid email"},phone_number:{id:"jdJhOL",defaultMessage:"Phone number"},button_add_phone_number:{id:"K2K+5t",defaultMessage:"Add phone number"},validation_phone_number:{id:"aY46qO",defaultMessage:"Please select valid phone number"},variant:{id:"5EhO92",defaultMessage:"Name variant"},western:{id:"bfLy10",defaultMessage:"Western"},eastern:{id:"sYQG1D",defaultMessage:"Eastern"},nickname:{id:"SBkvpf",defaultMessage:"Nickname"},given_names:{id:"de/sqY",defaultMessage:"Given names"},family_name:{id:"AeMjAR",defaultMessage:"Family name"}}),O=["western","eastern"];var q=e=>{var a,s,t,r,d,u,m,v;let{identityAddress:g,customValidationSchema:h,onSubmit:x}=e,j=(0,l.Z)(),p=(0,i.useRef)(null),y=(0,c.h)(),{personaIndexes:M}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[y]||{}})),[b,_]=(0,i.useState)(),z={names:[{variant:(null==M?void 0:null===(a=M[g])||void 0===a?void 0:a.nameVariant)||"western",nickname:(null==M?void 0:null===(s=M[g])||void 0===s?void 0:s.nickName)||"",givenNames:(null==M?void 0:null===(t=M[g])||void 0===t?void 0:t.givenNames)||"",familyName:(null==M?void 0:null===(r=M[g])||void 0===r?void 0:r.familyName)||""}],emailAddresses:(null==M?void 0:null===(d=M[g])||void 0===d?void 0:null===(u=d.emailAddresses)||void 0===u?void 0:u.map(e=>({email:e})))||[],phoneNumbers:(null==M?void 0:null===(m=M[g])||void 0===m?void 0:null===(v=m.phoneNumbers)||void 0===v?void 0:v.map(e=>({number:e})))||[]},w=(0,i.useMemo)(()=>{let e=P.z.object({email:P.z.string().min(1,j.formatMessage(K.validation_email))}),a=P.z.object({number:P.z.string().min(1,j.formatMessage(K.validation_phone_number))}),s={emailAddresses:P.z.array(e).or(P.z.undefined()),phoneNumbers:P.z.array(a).or(P.z.undefined()),names:P.z.array(P.z.object({variant:P.z.literal("western").or(P.z.literal("eastern")),givenNames:P.z.string().or(P.z.undefined()),familyName:P.z.string().or(P.z.undefined()),nickname:P.z.string().or(P.z.undefined())}))};return P.z.object(s)},[]);(0,i.useEffect)(()=>{var e;null==p||null===(e=p.current)||void 0===e||e.focus()},[]);let N=async e=>{_(void 0);let a=w.safeParse(e);if(!1===a.success){_(a.error);return}if(h){let a=h.safeParse(e);if(!1===a.success){_(a.error);return}}x(e),_(void 0)};return(0,n.jsxs)(E.l,{onSubmit:N,initialValues:z,errors:null==b?void 0:b.format(),children:[(0,n.jsxs)(I.H,{name:"names",defaultKeys:1,ignoreTriggers:!0,children:[(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(D.ZP,{name:"variant",sizeVariant:"xlarge",fullWidth:!0,placeholder:j.formatMessage(K.variant),data:O.map(e=>({id:e,title:j.formatMessage(K[e])}))})}),(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",ref:p,name:"nickname",placeholder:j.formatMessage(K.nickname)})}),(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"givenNames",placeholder:j.formatMessage(K.given_names)})}),(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"familyName",placeholder:j.formatMessage(K.family_name)})})]}),(0,n.jsx)(I.H,{name:"emailAddresses",className:S.wU,defaultKeys:0,trashTrigger:(0,n.jsx)(H.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,n.jsx)(k.Z,{})}),addTrigger:(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(H.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,n.jsx)(W,{}),children:j.formatMessage(K.button_add_email_address)})}),children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"email",placeholder:j.formatMessage(K.email_address)})}),(0,n.jsx)(I.H,{name:"phoneNumbers",className:S.wU,defaultKeys:0,trashTrigger:(0,n.jsx)(H.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,n.jsx)(k.Z,{})}),addTrigger:(0,n.jsx)(o.x,{className:S.Ti,children:(0,n.jsx)(H.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,n.jsx)(T,{}),children:j.formatMessage(K.button_add_phone_number)})}),children:(0,n.jsx)(R.ZP,{sizeVariant:"large",name:"number",placeholder:j.formatMessage(K.phone_number)})}),(0,n.jsx)(o.x,{className:S.fn,children:(0,n.jsx)(U.M,{children:(0,n.jsx)(H.z,{sizeVariant:"large",fullWidth:!0,children:j.formatMessage(K.form_button_title)})})})]})},B=s(95212);let Q=(0,t.vU)({title:{id:"y50Ejq",defaultMessage:"Persona details"},updated_toast:{id:"YcDkRR",defaultMessage:"Successfully updated persona details"},created_toast:{id:"PIWhuk",defaultMessage:"Successfully added new persona"},cancel:{id:"47FYwb",defaultMessage:"Cancel"}});var G=e=>{let{identityAddress:a,onClose:s}=e,i=(0,l.Z)(),t=(0,c.h)(),{buildNewPersonKeyParts:r}=(0,B.Q)(),{personaIndexes:d,addPersona:m}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[t]||{},addPersona:e.addPersonaAction})),v=async e=>{var n,l,o,u,c,f,v,g,h,j,p,y,M,b,_,z,k,w,N,Z,C,V;let A=null==d?void 0:d[a],L=[];(null===(n=e.names)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.givenNames)&&L.push(null===(k=e.names)||void 0===k?void 0:null===(w=k[0])||void 0===w?void 0:w.givenNames),(null===(o=e.names)||void 0===o?void 0:null===(u=o[0])||void 0===u?void 0:u.nickname)&&L.push('"'.concat(null===(N=e.names)||void 0===N?void 0:null===(Z=N[0])||void 0===Z?void 0:Z.nickname,'"')),(null===(c=e.names)||void 0===c?void 0:null===(f=c[0])||void 0===f?void 0:f.familyName)&&L.push(null===(C=e.names)||void 0===C?void 0:null===(V=C[0])||void 0===V?void 0:V.familyName);let P={label:L.length>0?L.join(" "):(null==A?void 0:A.label)||"",nickName:null===(v=e.names)||void 0===v?void 0:null===(g=v[0])||void 0===g?void 0:g.nickname,nameVariant:null===(h=e.names)||void 0===h?void 0:null===(j=h[0])||void 0===j?void 0:j.variant,givenNames:null===(p=e.names)||void 0===p?void 0:null===(y=p[0])||void 0===y?void 0:y.givenNames,familyName:null===(M=e.names)||void 0===M?void 0:null===(b=M[0])||void 0===b?void 0:b.familyName,emailAddresses:(null===(_=e.emailAddresses)||void 0===_?void 0:_.map(e=>{let{email:a}=e;return a}))||[],phoneNumbers:(null===(z=e.phoneNumbers)||void 0===z?void 0:z.map(e=>{let{number:a}=e;return a}))||[]};if(""===a){let e=await r();m(t,e.identityAddress,{...P,...e}),x.A.success(i.formatMessage(Q.created_toast),{})}else m(t,a,{...A||{},...P}),x.A.success(i.formatMessage(Q.updated_toast),{});s()};return(0,n.jsx)(L.Vq,{open:void 0!==a,onClose:s,children:(0,n.jsxs)(o.x,{padding:"large",display:"flex",flexDirection:"column",gap:"medium",children:[(0,n.jsx)(p.Z,{size:"xlarge",color:"strong",weight:"strong",children:i.formatMessage(Q.title)}),(0,n.jsx)(o.x,{display:"flex",flexDirection:"column",gap:"xsmall",children:(0,n.jsx)(q,{onSubmit:v,identityAddress:a})}),(0,n.jsx)(o.x,{children:(0,n.jsx)(u.z,{fullWidth:!0,sizeVariant:"large",styleVariant:"secondary",onClick:s,children:i.formatMessage(Q.cancel)})})]})})};let Y=(0,t.vU)({title:{id:"48INch",defaultMessage:"Personas"},subtitle:{id:"i+vOQd",defaultMessage:"Manage your Radix network identities"},new_persona:{id:"JsdfgN",defaultMessage:"New persona"}});var F=()=>{let e=(0,l.Z)(),a=(0,r.s0)(),s=(0,c.h)(),{keystore:t}=(0,f.e)(e=>({keystore:e.keystores.find(a=>{let{id:s}=a;return s===e.selectedKeystoreId})})),{personaIndexes:x}=(0,f.Z)(e=>({personaIndexes:e.personaIndexes[s]||{}})),[j,p]=(0,d.x)({personas:[],deleting:void 0,editing:void 0});(0,i.useEffect)(()=>{(null==t?void 0:t.type)!==v.nq.LOCAL&&(null==t?void 0:t.type)!==v.nq.HARDWARE&&a("/")},[t]),(0,i.useEffect)(()=>{p(e=>{e.personas=Object.values(x)})},[x]);let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p(a=>{a.editing=e})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h.e,{children:[(0,n.jsx)(g.A,{title:e.formatMessage(Y.title),subTitle:e.formatMessage(Y.subtitle)}),(0,n.jsxs)(o.x,{display:"flex",flexDirection:"column",gap:"small",children:[(0,n.jsx)(o.x,{paddingBottom:"medium",children:(0,n.jsx)(u.z,{styleVariant:"primary",leftIcon:(0,n.jsx)(m.Z,{}),onClick:()=>y(),children:e.formatMessage(Y.new_persona)})}),(0,n.jsx)(A,{data:j.personas,onEdit:y,onDelete:e=>{p(a=>{a.deleting=e})}})]})]}),(0,n.jsx)(b,{identityAddress:j.deleting,onClose:()=>{p(e=>{e.deleting=void 0})}}),(0,n.jsx)(G,{identityAddress:j.editing,onClose:()=>{p(e=>{e.editing=void 0})}})]})}},50168:function(){}}]);