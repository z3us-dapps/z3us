"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6202],{64664:function(e,l,s){s.d(l,{V:function(){return g}});var a=s(52322);s(2784);var t=s(83112),r=s(18917),i=s(12348),d=s(10455),n=s(28694),o=s(43789),u=s(26810),c=s(16163),m=s(16803),x=s(26494),h=s(2509);let g=e=>{var l,s,g;let{address:f,change:v,reversed:p,size:j="xlarge"}=e,N=(0,t.Z)(),{data:y,isLoading:b}=(0,c.p)(f),M=(0,m.vK)("name",null==y?void 0:null===(l=y.metadata)||void 0===l?void 0:l.items),Z=(0,m.vK)("validator",null==y?void 0:null===(s=y.metadata)||void 0===s?void 0:s.items),w=(0,m.vK)("symbol",null==y?void 0:null===(g=y.metadata)||void 0===g?void 0:g.items);(null==y?void 0:y.details.type)==="FungibleResource"&&Z&&!w&&(w="LSU");let _=(null==w?void 0:w.toUpperCase())||M||(0,h.Q)(f);return b?(0,a.jsx)(i.hW,{}):(0,a.jsxs)(r.x,{display:"flex",flexDirection:p?"row-reverse":"row",gap:"small",alignItems:"center",children:[(0,a.jsx)(d.H,{address:f,size:j}),(0,a.jsxs)(r.x,{display:"flex",flexDirection:"column",flexShrink:0,children:[_&&(0,a.jsx)(o.Z,{align:p?"right":"left",color:"strong",weight:"medium",size:"xsmall",truncate:!0,children:_}),v&&(0,a.jsx)(n.eE,{message:v,children:(0,a.jsx)(r.x,{children:(0,a.jsx)(u.Z,{align:p?"right":"left",color:"strong",size:"xsmall",truncate:!0,change:v,children:N.formatNumber(v,{signDisplay:"exceptZero",...x.i})})})})]})]})}},16872:function(e,l,s){s.r(l),s.d(l,{default:function(){return I}});var a=s(52322),t=s(6277),r=s(2784),i=s(49177),d=s(83112),n=s(73557),o=s(39857),u=s(18917),c=s(21593),m=s(65475),x=s(47324),h=s(91206),g=s(4897),f=s(12348),v=s(28694),p=s(43789),j=s(26494),N=s(16163);let y=e=>{let{row:{original:l}}=e,{validator:s}=l,i=(0,d.Z)(),{data:n,isLoading:o}=(0,N.p)(s),c=(0,r.useMemo)(()=>n?Number.parseFloat(n.details.state.validator_fee_factor):0,[n]);return o?(0,a.jsx)(f.hW,{}):(0,a.jsx)(u.x,{className:g.fO,children:(0,a.jsx)(v.eE,{message:c,children:(0,a.jsx)(u.x,{className:(0,t.Z)(g.MV,"td-cell"),children:(0,a.jsx)(p.Z,{size:"small",color:c>.015?"red":c>0?"neutral":"green",truncate:!0,children:i.formatNumber(c,j.Bp)})})})})};var b=s(85056),M=s(64664),Z=s(96108),w=s(7540),_=s(16803),z=s(29155);let S=(0,b.gH)(0).value,E=(e,l)=>(null==e?void 0:e.fungible_resources.items.filter(e=>{let{resource_address:s}=e;return s===(null==l?void 0:l.resourceAddresses.xrd)}).reduce((l,s)=>{let{vaults:a}=s;return l.add(a.items.filter(l=>{let{vault_address:s}=l;return s===e.details.state.stake_xrd_vault.entity_address}).reduce((e,l)=>{let{amount:s}=l;return e.add((0,b.gH)(s).value)},S))},S))||S,L=e=>(null==e?void 0:e.reduce((e,l)=>{let{data:s}=l,a=null==s?void 0:s.programmatic_json,t=(0,_.R0)("claim_amount",null==a?void 0:a.fields);return e.add(t||0)},S))||S,H=e=>{let{row:{original:l}}=e,{amount:s,address:i,validator:n,ids:o,type:c}=l,m=(0,d.Z)(),{data:x,isLoading:h}=(0,N.p)(n),{data:y,isLoading:_}=(0,N.p)(i),{data:S,isLoading:H}=(0,w.D)(),{data:F=[]}=(0,Z.W6)(i,o||[]),k=(0,r.useMemo)(()=>{if(c===z.Sn.FUNGIBLE){var e;let l=E(x,S);return(0,b.gH)(s).value.div((null===(e=null==y?void 0:y.details)||void 0===e?void 0:e.total_supply)||0).mul(l)}return L(F)},[c,s,x,y,S,F]);return h||_||H?(0,a.jsx)(f.hW,{}):(0,a.jsx)(u.x,{className:g.fO,children:(0,a.jsx)(u.x,{className:(0,t.Z)(g.MV,"td-cell"),children:(0,a.jsxs)(u.x,{display:"flex",flexDirection:"column",children:[(0,a.jsx)(v.eE,{message:s,children:(0,a.jsxs)(u.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,a.jsxs)(u.x,{display:"flex",flexShrink:0,children:[(0,a.jsx)(M.V,{address:i,size:"small"})," \xa0-"," "]}),(0,a.jsx)(p.Z,{size:"small",color:"strong",truncate:!0,children:m.formatNumber(Number.parseFloat(s),j.i)})]})}),(0,a.jsx)(v.eE,{message:k.toString(),children:(0,a.jsxs)(u.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,a.jsxs)(u.x,{display:"flex",flexShrink:0,children:[(0,a.jsx)(M.V,{address:S.resourceAddresses.xrd,size:"small"})," \xa0-"," "]}),(0,a.jsx)(p.Z,{size:"small",color:"strong",truncate:!0,children:m.formatNumber(k.toNumber(),j.i)})]})})]})})})};var F=s(10455);let k=e=>{var l;let{value:s,row:{original:r}}=e,{amount:i}=r,{data:n,isLoading:o}=(0,N.p)(s),c=(0,_.vK)("name",null==n?void 0:null===(l=n.metadata)||void 0===l?void 0:l.items),m=(0,d.Z)();return o?(0,a.jsx)(f.hW,{}):(0,a.jsx)(u.x,{className:g.fO,children:(0,a.jsxs)(u.x,{className:(0,t.Z)(g.MV,"td-cell"),children:[(0,a.jsx)(F.H,{size:{mobile:"large",tablet:"large"},address:s,toolTipEnabled:!0}),(0,a.jsxs)(u.x,{display:"flex",flexDirection:"column",children:[(0,a.jsx)(v.eE,{side:"top",message:c,children:(0,a.jsx)(u.x,{children:(0,a.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",children:c})})}),(0,a.jsx)(v.eE,{side:"top",message:i,children:(0,a.jsx)(u.x,{children:(0,a.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"xsmall",truncate:!0,children:m.formatNumber(Number.parseFloat(i),j.i)})})})]})]})})};var V=s(26810),D=s(2389),C=s(26171),U=s(38465);let W=e=>{let{row:{original:l}}=e,{validator:s,address:i,amount:n,change:o,value:c,ids:m,type:x}=l,{currency:h}=(0,U.Z)(e=>({currency:e.currency})),y=(0,d.Z)(),{data:M,isLoading:_}=(0,N.p)(s),{data:S,isLoading:H}=(0,N.p)(i),{data:F=[]}=(0,Z.W6)(i,m||[]),{data:k,isLoading:W}=(0,D.eP)(h,new Date),{data:B,isLoading:I}=(0,w.D)(),{data:O,isLoading:T}=(0,C.d)(null==B?void 0:B.resourceAddresses.xrd),G=(0,r.useMemo)(()=>{if(x===z.Sn.FUNGIBLE){var e;let l=E(M,B);return(0,b.gH)(n).value.div((null===(e=null==S?void 0:S.details)||void 0===e?void 0:e.total_supply)||0).mul(l)}return L(F)},[x,n,M,S,B,F]),A=(0,r.useMemo)(()=>x===z.Sn.FUNGIBLE?c:G.mul(k||0).toNumber(),[c,G,k,O]),K=(0,r.useMemo)(()=>x===z.Sn.FUNGIBLE?o:G.mul(O.price.usd.change).toNumber(),[o,G,O]);return _||H||T||I||W?(0,a.jsx)(f.hW,{}):(0,a.jsx)(u.x,{className:g.fO,children:(0,a.jsx)(u.x,{className:(0,t.Z)(g.MV,"td-cell"),children:(0,a.jsxs)(u.x,{display:"flex",flexDirection:"column",children:[(0,a.jsx)(v.eE,{message:A,children:(0,a.jsx)(u.x,{children:(0,a.jsx)(p.Z,{size:"small",color:"strong",weight:"medium",align:"right",truncate:!0,children:y.formatNumber(A,{currency:h,...j.oj})})})}),(0,a.jsx)(V.Z,{change:K,capitalizeFirstLetter:!0,size:"xsmall",color:"strong",truncate:!0,weight:"medium",align:"right",children:K&&y.formatNumber(K,{signDisplay:"exceptZero",...j.Bp})})]})})})},B=(0,i.vU)({validator:{id:"Ykb512",defaultMessage:"Validator"},fee:{id:"uT4OlP",defaultMessage:"Fee"},amount:{id:"H5+NAX",defaultMessage:"Balance"},value:{id:"GufXy5",defaultMessage:"Value"},empty_title:{id:"jHJmjf",defaultMessage:"No results"},empty_subtitle:{id:"5b2WMl",defaultMessage:"Could not find any liquidity pool tokens in this account"}});var I=()=>{let e=(0,d.Z)(),l=(0,n.s0)(),{scrollableNode:s,isScrolledTop:i}=(0,c.v)(),{accountId:f,resourceId:v}=(0,n.UO)(),[p]=(0,o.lr)(),j=(0,h.H)(),{data:N,isLoading:b}=(0,x.ln)(...j),{liquidityPoolTokensBalances:M=[]}=N||{},Z=(0,r.useMemo)(()=>{let e=M.findIndex(e=>e.address===v);return e>=0?{[e]:!0}:{}},[v,M]),w=(0,r.useMemo)(()=>[{Header:e.formatMessage(B.validator),accessor:"validator",width:"40%",Cell:k},{Header:e.formatMessage(B.fee),accessor:"address",width:"10%",Cell:y},{Header:e.formatMessage(B.value),accessor:"value",width:"15%",Cell:W},{Header:e.formatMessage(B.amount),accessor:"amount",width:"auto",Cell:H}],[]);return(0,a.jsx)(u.x,{className:(0,t.Z)(g.X_,g.$),children:(0,a.jsx)(m.u,{emptyStateTitle:e.formatMessage(B.empty_title),emptyStateSubTitle:e.formatMessage(B.empty_subtitle),styleVariant:"primary",sizeVariant:"large",scrollableNode:null!=s?s:void 0,data:M,columns:w,isScrolledTop:i,onRowSelected:e=>{let{original:s}=e;l("/accounts/".concat(f,"/lsus/").concat(s.address,"?").concat(p))},loading:b,selectedRowIds:Z,stickyShadowTop:!0})})}}}]);