(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2906],{13437:function(e,s,a){"use strict";var i=a(52322),n=a(2784);let t=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:[(0,i.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),(0,i.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})});s.Z=t},79502:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return J}});var i=a(52322),n=a(2784),t=a(49177),l=a(83112),r=a(73557),d=a(60705),o=a(18917),u=a(6887),m=a(45362),c=a(38059),f=a(38465);let g=()=>{let e=(0,c.h9)(),{personaIndexes:s}=(0,f.Z)(s=>({personaIndexes:s.personaIndexes[e]}));return(0,n.useMemo)(()=>s||{},[s])};var v=a(51129),h=a(65703),x=a(66572),j=a(8522),p=a(89698),y=a(43789),M=a(2509);let b=(0,t.vU)({title:{id:"IipetU",defaultMessage:"Delete persona"},description:{id:"sKyGsm",defaultMessage:"Are you sure you want to delete {identityAddress} from wallet?"},button_text:{id:"K3r6DQ",defaultMessage:"Delete"},success_message:{id:"BiqE0f",defaultMessage:"Successfully deleted persona"}});var _=e=>{let{identityAddress:s,onClose:a}=e,n=(0,l.Z)(),t=(0,c.h9)(),{remove:r}=(0,f.Z)(e=>({remove:e.removePersonaAction}));return(0,i.jsx)(p.ld,{open:!!s,title:n.formatMessage(b.title),description:(0,i.jsx)(o.x,{component:"span",children:(0,i.jsx)(y.Z,{truncate:!0,children:n.formatMessage(b.description,{identityAddress:(0,M.Q)(s)})})}),confirmButtonText:n.formatMessage(b.button_text),onCancel:a,onConfirm:()=>{r(t,s),j.A.success(n.formatMessage(b.success_message),{}),a()}})},k=a(21593),w=a(28614),z=a(65098),N=a(13437);a(41486),a(8144),a(39986),a(50168);let C=(0,t.vU)({delete:{id:"K3r6DQ",defaultMessage:"Delete"},edit:{id:"wEQDC6",defaultMessage:"Edit"}}),V=e=>{let{row:s,onDelete:a,onEdit:n}=e,t=(0,l.Z)();return(0,i.jsxs)(o.x,{className:"r42ebc1 _5baftf4 _5baftfg _5baftf21 _5baftfg8 _5baftf2s",children:[(0,i.jsxs)(o.x,{className:"r42ebc3 _5baftfgb _5baftfg _5baftf17 _5baftf1j _5baftf2j",children:[(0,i.jsx)(y.Z,{size:"small",color:"strong",weight:"medium",truncate:!0,children:s.original.label}),(0,i.jsx)(y.Z,{size:"xsmall",truncate:!0,children:s.original.identityAddress})]}),(0,i.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,i.jsx)(z.Z,{}),onClick:()=>{a(s.original.identityAddress)},children:t.formatMessage(C.delete)}),(0,i.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,i.jsx)(N.Z,{}),onClick:()=>{n(s.original.identityAddress)},children:t.formatMessage(C.edit)})]},s.original.identityAddress)},Z=(0,t.vU)({header:{id:"HAlOn1",defaultMessage:"Name"}}),A=e=>{let{data:s,onEdit:a,onDelete:t}=e,r=(0,l.Z)(),{scrollableNode:d}=(0,k.v)(),o=(0,n.useMemo)(()=>[{Header:r.formatMessage(Z.header),accessor:"name",width:"auto",Cell:V}],[]),u=(0,n.useMemo)(()=>({onEdit:a,onDelete:t}),[a,t]);return(0,i.jsx)(w.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:d,data:s,columns:o,cellProps:u})};var L=a(93138),P=a(23554),E=a(99040),I=a(36650),S=a(97101),T=a(43207),D=a(72797);let W=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:[(0,i.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 7.75C4.75 6.64543 5.64543 5.75 6.75 5.75H17.25C18.3546 5.75 19.25 6.64543 19.25 7.75V16.25C19.25 17.3546 18.3546 18.25 17.25 18.25H6.75C5.64543 18.25 4.75 17.3546 4.75 16.25V7.75Z"}),(0,i.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.5 6.5L12 12.25L18.5 6.5"})]})}),K=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:(0,i.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.89286 4.75H6.06818C5.34017 4.75 4.75 5.34017 4.75 6.06818C4.75 13.3483 10.6517 19.25 17.9318 19.25C18.6598 19.25 19.25 18.6598 19.25 17.9318V15.1071L16.1429 13.0357L14.5317 14.6468C14.2519 14.9267 13.8337 15.0137 13.4821 14.8321C12.8858 14.524 11.9181 13.9452 10.9643 13.0357C9.98768 12.1045 9.41548 11.1011 9.12829 10.494C8.96734 10.1537 9.06052 9.76091 9.32669 9.49474L10.9643 7.85714L8.89286 4.75Z"})})});var R=a(86578),O=a(56089);let U=(0,t.vU)({form_button_title:{id:"wSZR47",defaultMessage:"Submit"},email_address:{id:"hJZwTS",defaultMessage:"Email address"},button_add_email_address:{id:"IbfkPE",defaultMessage:"Add email address"},validation_email:{id:"LPhKkU",defaultMessage:"Please select valid email"},phone_number:{id:"jdJhOL",defaultMessage:"Phone number"},button_add_phone_number:{id:"K2K+5t",defaultMessage:"Add phone number"},validation_phone_number:{id:"aY46qO",defaultMessage:"Please select valid phone number"},variant:{id:"5EhO92",defaultMessage:"Name variant"},western:{id:"bfLy10",defaultMessage:"Western"},eastern:{id:"sYQG1D",defaultMessage:"Eastern"},nickname:{id:"SBkvpf",defaultMessage:"Nickname"},given_names:{id:"de/sqY",defaultMessage:"Given names"},family_name:{id:"AeMjAR",defaultMessage:"Family name"}}),H=["western","eastern"];var B=e=>{let{identityAddress:s,customValidationSchema:a,onSubmit:t}=e,r=(0,l.Z)(),d=(0,n.useRef)(null),u=g(),[m,c]=(0,n.useState)(),f=(0,n.useMemo)(()=>{var e,a,i,n,t,l,r,d;return{names:[{variant:(null==u?void 0:null===(e=u[s])||void 0===e?void 0:e.nameVariant)||"western",nickname:(null==u?void 0:null===(a=u[s])||void 0===a?void 0:a.nickName)||"",givenNames:(null==u?void 0:null===(i=u[s])||void 0===i?void 0:i.givenNames)||"",familyName:(null==u?void 0:null===(n=u[s])||void 0===n?void 0:n.familyName)||""}],emailAddresses:(null==u?void 0:null===(t=u[s])||void 0===t?void 0:null===(l=t.emailAddresses)||void 0===l?void 0:l.map(e=>({email:e})))||[],phoneNumbers:(null==u?void 0:null===(r=u[s])||void 0===r?void 0:null===(d=r.phoneNumbers)||void 0===d?void 0:d.map(e=>({number:e})))||[]}},[s,u]),v=(0,n.useMemo)(()=>H.map(e=>({id:e,title:r.formatMessage(U[e])})),[r]),h=(0,n.useMemo)(()=>{let e=P.z.object({email:P.z.string().min(1,r.formatMessage(U.validation_email))}),s=P.z.object({number:P.z.string().min(1,r.formatMessage(U.validation_phone_number))}),a={emailAddresses:P.z.array(e).or(P.z.undefined()),phoneNumbers:P.z.array(s).or(P.z.undefined()),names:P.z.array(P.z.object({variant:P.z.literal("western").or(P.z.literal("eastern")),givenNames:P.z.string().or(P.z.undefined()),familyName:P.z.string().or(P.z.undefined()),nickname:P.z.string().or(P.z.undefined())}))};return P.z.object(a)},[]);(0,n.useEffect)(()=>{var e;null==d||null===(e=d.current)||void 0===e||e.focus()},[null==d?void 0:d.current]);let x=async e=>{c(void 0);let s=h.safeParse(e);if(!1===s.success){c(s.error);return}if(a){let s=a.safeParse(e);if(!1===s.success){c(s.error);return}}await t(e),c(void 0)};return(0,i.jsxs)(E.l,{onSubmit:x,initialValues:f,errors:null==m?void 0:m.format(),children:[(0,i.jsxs)(I.H,{name:"names",defaultKeys:1,ignoreTriggers:!0,children:[(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(S.ZP,{name:"variant",sizeVariant:"xlarge",fullWidth:!0,placeholder:r.formatMessage(U.variant),data:v})}),(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(D.ZP,{sizeVariant:"large",ref:d,name:"nickname",placeholder:r.formatMessage(U.nickname)})}),(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(D.ZP,{sizeVariant:"large",name:"givenNames",placeholder:r.formatMessage(U.given_names)})}),(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(D.ZP,{sizeVariant:"large",name:"familyName",placeholder:r.formatMessage(U.family_name)})})]}),(0,i.jsx)(I.H,{name:"emailAddresses",className:O.wU,defaultKeys:0,trashTrigger:(0,i.jsx)(R.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,i.jsx)(z.Z,{})}),addTrigger:(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(R.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,i.jsx)(W,{}),children:r.formatMessage(U.button_add_email_address)})}),children:(0,i.jsx)(D.ZP,{sizeVariant:"large",name:"email",placeholder:r.formatMessage(U.email_address)})}),(0,i.jsx)(I.H,{name:"phoneNumbers",className:O.wU,defaultKeys:0,trashTrigger:(0,i.jsx)(R.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,i.jsx)(z.Z,{})}),addTrigger:(0,i.jsx)(o.x,{className:O.Ti,children:(0,i.jsx)(R.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,i.jsx)(K,{}),children:r.formatMessage(U.button_add_phone_number)})}),children:(0,i.jsx)(D.ZP,{sizeVariant:"large",name:"number",placeholder:r.formatMessage(U.phone_number)})}),(0,i.jsx)(o.x,{className:O.fn,children:(0,i.jsx)(T.M,{children:(0,i.jsx)(R.z,{sizeVariant:"large",fullWidth:!0,children:r.formatMessage(U.form_button_title)})})})]})},q=a(53724),Q=a(95212);let F=(0,t.vU)({title:{id:"y50Ejq",defaultMessage:"Persona details"},keySource:{defaultMessage:"Key source",id:"RlCZeE"},updated_toast:{id:"YcDkRR",defaultMessage:"Successfully updated persona details"},created_toast:{id:"PIWhuk",defaultMessage:"Successfully added new persona"},cancel:{id:"47FYwb",defaultMessage:"Cancel"},validation_key_source:{id:"CIXFwg",defaultMessage:"Please select key source"}});var Y=e=>{let{identityAddress:s,onClose:a}=e,t=(0,l.Z)(),r=(0,c.h9)(),{buildNewPersonKeyParts:d}=(0,Q.Q)(),m=g(),{keystore:h}=(0,f.e)(e=>({keystore:e.keystores.find(s=>{let{id:a}=s;return a===e.selectedKeystoreId})})),{addPersona:x}=(0,f.Z)(e=>({addPersona:e.addPersonaAction})),[p,M]=(0,n.useState)("");(0,n.useEffect)(()=>{h&&!p&&M(h.id)},[h]);let b=(0,n.useMemo)(()=>(null==h?void 0:h.type)===v.nq.COMBINED?Object.keys(h.keySources).map(e=>({id:e,title:h.keySources[e].name})):[],[h]),_=async e=>{var i,n,l,o,u,c,f,g,v,h,y,M,b,_,k,w,z,N,C,V,Z,A;if(!p)throw Error(t.formatMessage(F.validation_key_source));let L=null==m?void 0:m[s],P=[];(null===(i=e.names)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.givenNames)&&P.push(null===(z=e.names)||void 0===z?void 0:null===(N=z[0])||void 0===N?void 0:N.givenNames),(null===(l=e.names)||void 0===l?void 0:null===(o=l[0])||void 0===o?void 0:o.nickname)&&P.push('"'.concat(null===(C=e.names)||void 0===C?void 0:null===(V=C[0])||void 0===V?void 0:V.nickname,'"')),(null===(u=e.names)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:c.familyName)&&P.push(null===(Z=e.names)||void 0===Z?void 0:null===(A=Z[0])||void 0===A?void 0:A.familyName);let E={label:P.length>0?P.join(" "):(null==L?void 0:L.label)||"",nickName:null===(f=e.names)||void 0===f?void 0:null===(g=f[0])||void 0===g?void 0:g.nickname,nameVariant:null===(v=e.names)||void 0===v?void 0:null===(h=v[0])||void 0===h?void 0:h.variant,givenNames:null===(y=e.names)||void 0===y?void 0:null===(M=y[0])||void 0===M?void 0:M.givenNames,familyName:null===(b=e.names)||void 0===b?void 0:null===(_=b[0])||void 0===_?void 0:_.familyName,emailAddresses:(null===(k=e.emailAddresses)||void 0===k?void 0:k.map(e=>{let{email:s}=e;return s}))||[],phoneNumbers:(null===(w=e.phoneNumbers)||void 0===w?void 0:w.map(e=>{let{number:s}=e;return s}))||[]};if(""===s){let e=await d(p);x(r,e.identityAddress,{...E,...e}),j.A.success(t.formatMessage(F.created_toast),{})}else x(r,s,{...L||{},...E}),j.A.success(t.formatMessage(F.updated_toast),{});a()};return(0,i.jsx)(L.Vq,{open:void 0!==s,onClose:a,children:(0,i.jsxs)(o.x,{padding:"large",display:"flex",flexDirection:"column",gap:"medium",children:[(0,i.jsx)(y.Z,{size:"xlarge",color:"strong",weight:"strong",children:t.formatMessage(F.title)}),!s&&b.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.x,{children:(0,i.jsx)(q.X4,{fullWidth:!0,value:p,onValueChange:M,data:b,sizeVariant:"xlarge",placeholder:t.formatMessage(F.keySource)})}),(0,i.jsx)(o.x,{borderTop:1,borderStyle:"solid",borderColor:"borderDivider"})]}),(0,i.jsx)(o.x,{display:"flex",flexDirection:"column",gap:"xsmall",children:(0,i.jsx)(B,{onSubmit:_,identityAddress:s})}),(0,i.jsx)(o.x,{children:(0,i.jsx)(u.z,{fullWidth:!0,sizeVariant:"large",styleVariant:"secondary",onClick:a,children:t.formatMessage(F.cancel)})})]})})};let G=(0,t.vU)({title:{id:"48INch",defaultMessage:"Personas"},subtitle:{id:"i+vOQd",defaultMessage:"Manage your Radix network identities"},new_persona:{id:"JsdfgN",defaultMessage:"New persona"}});var J=()=>{let e=(0,l.Z)(),s=(0,r.s0)(),a=g(),{keystore:t}=(0,f.e)(e=>({keystore:e.keystores.find(s=>{let{id:a}=s;return a===e.selectedKeystoreId})})),[c,j]=(0,d.x)({personas:[],deleting:void 0,editing:void 0});(0,n.useEffect)(()=>{(null==t?void 0:t.type)===v.nq.RADIX_WALLET&&s("/")},[t]),(0,n.useEffect)(()=>{j(e=>{e.personas=Object.values(a)})},[a]);let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";j(s=>{s.editing=e})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(x.e,{children:[(0,i.jsx)(h.A,{title:e.formatMessage(G.title),subTitle:e.formatMessage(G.subtitle)}),(0,i.jsxs)(o.x,{display:"flex",flexDirection:"column",gap:"small",children:[(0,i.jsx)(o.x,{paddingBottom:"medium",children:(0,i.jsx)(u.z,{styleVariant:"primary",leftIcon:(0,i.jsx)(m.Z,{}),onClick:()=>p(),children:e.formatMessage(G.new_persona)})}),(0,i.jsx)(A,{data:c.personas,onEdit:p,onDelete:e=>{j(s=>{s.deleting=e})}})]})]}),(0,i.jsx)(_,{identityAddress:c.deleting,onClose:()=>{j(e=>{e.deleting=void 0})}}),(0,i.jsx)(Y,{identityAddress:c.editing,onClose:()=>{j(e=>{e.editing=void 0})}})]})}},50168:function(){}}]);