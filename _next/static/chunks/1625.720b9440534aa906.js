(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1625],{95886:function(e,s,a){"use strict";a.d(s,{H:function(){return _}});var t=a(52322),n=a(72579),i=a.n(n),r=a(2784),l=a(49177),d=a(83112),o=a(60705),u=a(18917),c=a(28694);let m=()=>(null==crypto?void 0:crypto.randomUUID)?crypto.randomUUID():"".concat(Math.floor(Math.random()*Math.floor(Math.random()*Date.now())));var f=a(2827),v=a(73452),g=a(12132),h=a(6887);let x=(0,l.vU)({add:{id:"2/2yg+",defaultMessage:"Add"}}),j=()=>{let e=(0,d.Z)();return(0,t.jsx)(h.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,children:e.formatMessage(x.add)})},y=e=>{let{idx:s,name:a,children:n}=e,{name:i,...l}=(0,r.useContext)(g.z),d=(0,r.useMemo)(()=>({...l,name:"".concat(i?"".concat(i,"."):"").concat(a,"[").concat(s,"]")}),[i,a,s]);return(0,t.jsx)(g.z.Provider,{value:d,children:n})};var p=a(65098);let M=(0,l.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),k=()=>{let e=(0,d.Z)();return(0,t.jsx)(h.z,{styleVariant:"tertiary",sizeVariant:"xlarge",fullWidth:!0,leftIcon:(0,t.jsx)(u.x,{marginLeft:"small",children:(0,t.jsx)(p.Z,{})}),children:e.formatMessage(M.remove)})},b=(0,l.vU)({remove:{id:"G/yZLu",defaultMessage:"Remove"}}),_=e=>{var s;let a=(0,d.Z)(),{name:n,children:l,className:h,trashTrigger:x=(0,t.jsx)(k,{}),addTrigger:p=(0,t.jsx)(j,{}),defaultKeys:M=0,ignoreTriggers:_}=e,{values:z,errors:w,onFieldChange:N}=(0,r.useContext)(v.q),{name:C}=(0,r.useContext)(g.z),V="".concat(C?"".concat(C,"."):"").concat(n),[Z,A]=(0,o.x)({keys:Array.from({length:(null==z?void 0:null===(s=z[V])||void 0===s?void 0:s.length)||M},m),error:""});(0,r.useEffect)(()=>{A(e=>{var s;let a=(null===(s=i()(w,V))||void 0===s?void 0:s._errors)||[];e.error=a.length>0?a[0]:""})},[w]);let L=e=>{let s=Z.keys.findIndex(s=>s===e);if(s>-1){let e=[...(null==z?void 0:z[V])||[]];e.splice(s,1),N(V,e)}A(s=>{s.keys=s.keys.filter(s=>s!==e),s.error=""})};return(0,t.jsxs)(u.x,{children:[Z.keys.map((e,s)=>(0,t.jsxs)(u.x,{className:h,position:"relative",children:[(0,t.jsx)(y,{idx:s,name:n,children:l}),!_&&s>=M&&(0,t.jsx)(c.eE,{message:a.formatMessage(b.remove),children:r.cloneElement(x,{onClick:()=>L(e)})})]},e)),(0,t.jsx)(u.x,{display:"flex",justifyContent:"space-between",children:(0,t.jsx)(f.d,{message:Z.error})}),!_&&r.cloneElement(p,{onClick:()=>{A(e=>{e.keys=[...e.keys,m()],e.error=""})}})]})}},97101:function(e,s,a){"use strict";var t=a(52322),n=a(2784),i=a(53724),r=a(9219);let l=(0,n.forwardRef)((e,s)=>{let{onChange:a,value:n,hasError:r,...l}=e;return(0,t.jsx)(i.X4,{...l,ref:s,onValueChange:a,value:void 0!==n&&""!==n?n:void 0})}),d=(0,n.forwardRef)((e,s)=>{let{validate:a,name:n,label:i,...d}=e;return(0,t.jsx)(r.n,{name:n,label:i,validate:a,children:(0,t.jsx)(l,{...d,ref:s})})});s.ZP=d},13437:function(e,s,a){"use strict";var t=a(52322),n=a(2784);let i=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:[(0,t.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),(0,t.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})});s.Z=i},79502:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return J}});var t=a(52322),n=a(2784),i=a(49177),r=a(83112),l=a(73557),d=a(60705),o=a(18917),u=a(6887),c=a(45362),m=a(71691),f=a(38465);let v=()=>{let e=(0,m.h)(),{personaIndexes:s}=(0,f.Z)(s=>({personaIndexes:s.personaIndexes[e]}));return(0,n.useMemo)(()=>s||{},[s])};var g=a(51129),h=a(65703),x=a(66572),j=a(8522),y=a(89698),p=a(43789),M=a(2509);let k=(0,i.vU)({title:{id:"IipetU",defaultMessage:"Delete persona"},description:{id:"sKyGsm",defaultMessage:"Are you sure you want to delete {identityAddress} from wallet?"},button_text:{id:"K3r6DQ",defaultMessage:"Delete"},success_message:{id:"BiqE0f",defaultMessage:"Successfully deleted persona"}});var b=e=>{let{identityAddress:s,onClose:a}=e,n=(0,r.Z)(),i=(0,m.h)(),{remove:l}=(0,f.Z)(e=>({remove:e.removePersonaAction}));return(0,t.jsx)(y.ld,{open:!!s,title:n.formatMessage(k.title),description:(0,t.jsx)(o.x,{component:"span",children:(0,t.jsx)(p.Z,{truncate:!0,children:n.formatMessage(k.description,{identityAddress:(0,M.Q)(s)})})}),confirmButtonText:n.formatMessage(k.button_text),onCancel:a,onConfirm:()=>{l(i,s),j.A.success(n.formatMessage(k.success_message),{}),a()}})},_=a(21593),z=a(65475),w=a(65098),N=a(13437);a(41486),a(8144),a(9563),a(50168);let C=(0,i.vU)({delete:{id:"K3r6DQ",defaultMessage:"Delete"},edit:{id:"wEQDC6",defaultMessage:"Edit"}}),V=e=>{let{row:s,onDelete:a,onEdit:n}=e,i=(0,r.Z)();return(0,t.jsxs)(o.x,{className:"r42ebc1 _5baftf4 _5baftfg _5baftf1y _5baftfg5 _5baftf2p",children:[(0,t.jsxs)(o.x,{className:"r42ebc3 _5baftfg8 _5baftfg _5baftf14 _5baftf1g _5baftf2g",children:[(0,t.jsx)(p.Z,{size:"small",color:"strong",weight:"medium",truncate:!0,children:s.original.label}),(0,t.jsx)(p.Z,{size:"xsmall",truncate:!0,children:s.original.identityAddress})]}),(0,t.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,t.jsx)(w.Z,{}),onClick:a,children:i.formatMessage(C.delete)}),(0,t.jsx)(u.z,{sizeVariant:"small",styleVariant:"secondary",leftIcon:(0,t.jsx)(N.Z,{}),onClick:n,children:i.formatMessage(C.edit)})]},s.original.identityAddress)},Z=(0,i.vU)({header:{id:"HAlOn1",defaultMessage:"Name"}}),A=e=>{let{row:s,onEdit:a,onDelete:n}=e;return(0,t.jsx)(V,{row:s,onEdit:()=>a(s.original.identityAddress),onDelete:()=>n(s.original.identityAddress)},s.original.identityAddress)},L=e=>{let{data:s,onEdit:a,onDelete:i}=e,l=(0,r.Z)(),{scrollableNode:d}=(0,_.v)(),o=(0,n.useMemo)(()=>[{Header:l.formatMessage(Z.header),accessor:"name",width:"auto",Cell:A}],[a,i]);return(0,t.jsx)(z.i,{styleVariant:"secondary",sizeVariant:"medium",scrollableNode:d,data:s,columns:o,cellProps:{onEdit:a,onDelete:i}})};var E=a(93138),P=a(23554),I=a(99040),D=a(95886),U=a(97101),S=a(43207),T=a(72797);let W=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:[(0,t.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 7.75C4.75 6.64543 5.64543 5.75 6.75 5.75H17.25C18.3546 5.75 19.25 6.64543 19.25 7.75V16.25C19.25 17.3546 18.3546 18.25 17.25 18.25H6.75C5.64543 18.25 4.75 17.3546 4.75 16.25V7.75Z"}),(0,t.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.5 6.5L12 12.25L18.5 6.5"})]})}),R=n.forwardRef((e,s)=>{let{color:a="currentColor",...n}=e;return(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:s,children:(0,t.jsx)("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.89286 4.75H6.06818C5.34017 4.75 4.75 5.34017 4.75 6.06818C4.75 13.3483 10.6517 19.25 17.9318 19.25C18.6598 19.25 19.25 18.6598 19.25 17.9318V15.1071L16.1429 13.0357L14.5317 14.6468C14.2519 14.9267 13.8337 15.0137 13.4821 14.8321C12.8858 14.524 11.9181 13.9452 10.9643 13.0357C9.98768 12.1045 9.41548 11.1011 9.12829 10.494C8.96734 10.1537 9.06052 9.76091 9.32669 9.49474L10.9643 7.85714L8.89286 4.75Z"})})});var K=a(86578),H=a(56089);let O=(0,i.vU)({form_button_title:{id:"wSZR47",defaultMessage:"Submit"},email_address:{id:"hJZwTS",defaultMessage:"Email address"},button_add_email_address:{id:"IbfkPE",defaultMessage:"Add email address"},validation_email:{id:"LPhKkU",defaultMessage:"Please select valid email"},phone_number:{id:"jdJhOL",defaultMessage:"Phone number"},button_add_phone_number:{id:"K2K+5t",defaultMessage:"Add phone number"},validation_phone_number:{id:"aY46qO",defaultMessage:"Please select valid phone number"},variant:{id:"5EhO92",defaultMessage:"Name variant"},western:{id:"bfLy10",defaultMessage:"Western"},eastern:{id:"sYQG1D",defaultMessage:"Eastern"},nickname:{id:"SBkvpf",defaultMessage:"Nickname"},given_names:{id:"de/sqY",defaultMessage:"Given names"},family_name:{id:"AeMjAR",defaultMessage:"Family name"}}),q=["western","eastern"];var B=e=>{let{identityAddress:s,customValidationSchema:a,onSubmit:i}=e,l=(0,r.Z)(),d=(0,n.useRef)(null),u=v(),[c,m]=(0,n.useState)(),f=(0,n.useMemo)(()=>{var e,a,t,n,i,r,l,d;return{names:[{variant:(null==u?void 0:null===(e=u[s])||void 0===e?void 0:e.nameVariant)||"western",nickname:(null==u?void 0:null===(a=u[s])||void 0===a?void 0:a.nickName)||"",givenNames:(null==u?void 0:null===(t=u[s])||void 0===t?void 0:t.givenNames)||"",familyName:(null==u?void 0:null===(n=u[s])||void 0===n?void 0:n.familyName)||""}],emailAddresses:(null==u?void 0:null===(i=u[s])||void 0===i?void 0:null===(r=i.emailAddresses)||void 0===r?void 0:r.map(e=>({email:e})))||[],phoneNumbers:(null==u?void 0:null===(l=u[s])||void 0===l?void 0:null===(d=l.phoneNumbers)||void 0===d?void 0:d.map(e=>({number:e})))||[]}},[s,u]),g=(0,n.useMemo)(()=>q.map(e=>({id:e,title:l.formatMessage(O[e])})),[l]),h=(0,n.useMemo)(()=>{let e=P.z.object({email:P.z.string().min(1,l.formatMessage(O.validation_email))}),s=P.z.object({number:P.z.string().min(1,l.formatMessage(O.validation_phone_number))}),a={emailAddresses:P.z.array(e).or(P.z.undefined()),phoneNumbers:P.z.array(s).or(P.z.undefined()),names:P.z.array(P.z.object({variant:P.z.literal("western").or(P.z.literal("eastern")),givenNames:P.z.string().or(P.z.undefined()),familyName:P.z.string().or(P.z.undefined()),nickname:P.z.string().or(P.z.undefined())}))};return P.z.object(a)},[]);(0,n.useEffect)(()=>{var e;null==d||null===(e=d.current)||void 0===e||e.focus()},[]);let x=async e=>{m(void 0);let s=h.safeParse(e);if(!1===s.success){m(s.error);return}if(a){let s=a.safeParse(e);if(!1===s.success){m(s.error);return}}await i(e),m(void 0)};return(0,t.jsxs)(I.l,{onSubmit:x,initialValues:f,errors:null==c?void 0:c.format(),children:[(0,t.jsxs)(D.H,{name:"names",defaultKeys:1,ignoreTriggers:!0,children:[(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(U.ZP,{name:"variant",sizeVariant:"xlarge",fullWidth:!0,placeholder:l.formatMessage(O.variant),data:g})}),(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(T.ZP,{sizeVariant:"large",ref:d,name:"nickname",placeholder:l.formatMessage(O.nickname)})}),(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(T.ZP,{sizeVariant:"large",name:"givenNames",placeholder:l.formatMessage(O.given_names)})}),(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(T.ZP,{sizeVariant:"large",name:"familyName",placeholder:l.formatMessage(O.family_name)})})]}),(0,t.jsx)(D.H,{name:"emailAddresses",className:H.wU,defaultKeys:0,trashTrigger:(0,t.jsx)(K.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,t.jsx)(w.Z,{})}),addTrigger:(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(K.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,t.jsx)(W,{}),children:l.formatMessage(O.button_add_email_address)})}),children:(0,t.jsx)(T.ZP,{sizeVariant:"large",name:"email",placeholder:l.formatMessage(O.email_address)})}),(0,t.jsx)(D.H,{name:"phoneNumbers",className:H.wU,defaultKeys:0,trashTrigger:(0,t.jsx)(K.z,{styleVariant:"ghost",sizeVariant:"small",iconOnly:!0,children:(0,t.jsx)(w.Z,{})}),addTrigger:(0,t.jsx)(o.x,{className:H.Ti,children:(0,t.jsx)(K.z,{styleVariant:"secondary",sizeVariant:"large",fullWidth:!0,leftIcon:(0,t.jsx)(R,{}),children:l.formatMessage(O.button_add_phone_number)})}),children:(0,t.jsx)(T.ZP,{sizeVariant:"large",name:"number",placeholder:l.formatMessage(O.phone_number)})}),(0,t.jsx)(o.x,{className:H.fn,children:(0,t.jsx)(S.M,{children:(0,t.jsx)(K.z,{sizeVariant:"large",fullWidth:!0,children:l.formatMessage(O.form_button_title)})})})]})},Q=a(53724),F=a(95212);let G=(0,i.vU)({title:{id:"y50Ejq",defaultMessage:"Persona details"},keySource:{defaultMessage:"Key source",id:"RlCZeE"},updated_toast:{id:"YcDkRR",defaultMessage:"Successfully updated persona details"},created_toast:{id:"PIWhuk",defaultMessage:"Successfully added new persona"},cancel:{id:"47FYwb",defaultMessage:"Cancel"},validation_key_source:{id:"CIXFwg",defaultMessage:"Please select key source"}});var Y=e=>{let{identityAddress:s,onClose:a}=e,i=(0,r.Z)(),l=(0,m.h)(),{buildNewPersonKeyParts:d}=(0,F.Q)(),c=v(),{keystore:h}=(0,f.e)(e=>({keystore:e.keystores.find(s=>{let{id:a}=s;return a===e.selectedKeystoreId})})),{addPersona:x}=(0,f.Z)(e=>({addPersona:e.addPersonaAction})),[y,M]=(0,n.useState)("");(0,n.useEffect)(()=>{h&&!y&&M(h.id)},[h]);let k=(0,n.useMemo)(()=>(null==h?void 0:h.type)===g.nq.COMBINED?Object.keys(h.keySources).map(e=>({id:e,title:h.keySources[e].name})):[],[h]),b=async e=>{var t,n,r,o,u,m,f,v,g,h,p,M,k,b,_,z,w,N,C,V,Z,A;if(!y)throw Error(i.formatMessage(G.validation_key_source));let L=null==c?void 0:c[s],E=[];(null===(t=e.names)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.givenNames)&&E.push(null===(w=e.names)||void 0===w?void 0:null===(N=w[0])||void 0===N?void 0:N.givenNames),(null===(r=e.names)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.nickname)&&E.push('"'.concat(null===(C=e.names)||void 0===C?void 0:null===(V=C[0])||void 0===V?void 0:V.nickname,'"')),(null===(u=e.names)||void 0===u?void 0:null===(m=u[0])||void 0===m?void 0:m.familyName)&&E.push(null===(Z=e.names)||void 0===Z?void 0:null===(A=Z[0])||void 0===A?void 0:A.familyName);let P={label:E.length>0?E.join(" "):(null==L?void 0:L.label)||"",nickName:null===(f=e.names)||void 0===f?void 0:null===(v=f[0])||void 0===v?void 0:v.nickname,nameVariant:null===(g=e.names)||void 0===g?void 0:null===(h=g[0])||void 0===h?void 0:h.variant,givenNames:null===(p=e.names)||void 0===p?void 0:null===(M=p[0])||void 0===M?void 0:M.givenNames,familyName:null===(k=e.names)||void 0===k?void 0:null===(b=k[0])||void 0===b?void 0:b.familyName,emailAddresses:(null===(_=e.emailAddresses)||void 0===_?void 0:_.map(e=>{let{email:s}=e;return s}))||[],phoneNumbers:(null===(z=e.phoneNumbers)||void 0===z?void 0:z.map(e=>{let{number:s}=e;return s}))||[]};if(""===s){let e=await d(y);x(l,e.identityAddress,{...P,...e}),j.A.success(i.formatMessage(G.created_toast),{})}else x(l,s,{...L||{},...P}),j.A.success(i.formatMessage(G.updated_toast),{});a()};return(0,t.jsx)(E.Vq,{open:void 0!==s,onClose:a,children:(0,t.jsxs)(o.x,{padding:"large",display:"flex",flexDirection:"column",gap:"medium",children:[(0,t.jsx)(p.Z,{size:"xlarge",color:"strong",weight:"strong",children:i.formatMessage(G.title)}),!s&&k.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.x,{children:(0,t.jsx)(Q.X4,{fullWidth:!0,value:y,onValueChange:M,data:k,sizeVariant:"xlarge",placeholder:i.formatMessage(G.keySource)})}),(0,t.jsx)(o.x,{borderTop:1,borderStyle:"solid",borderColor:"borderDivider"})]}),(0,t.jsx)(o.x,{display:"flex",flexDirection:"column",gap:"xsmall",children:(0,t.jsx)(B,{onSubmit:b,identityAddress:s})}),(0,t.jsx)(o.x,{children:(0,t.jsx)(u.z,{fullWidth:!0,sizeVariant:"large",styleVariant:"secondary",onClick:a,children:i.formatMessage(G.cancel)})})]})})};let X=(0,i.vU)({title:{id:"48INch",defaultMessage:"Personas"},subtitle:{id:"i+vOQd",defaultMessage:"Manage your Radix network identities"},new_persona:{id:"JsdfgN",defaultMessage:"New persona"}});var J=()=>{let e=(0,r.Z)(),s=(0,l.s0)(),a=v(),{keystore:i}=(0,f.e)(e=>({keystore:e.keystores.find(s=>{let{id:a}=s;return a===e.selectedKeystoreId})})),[m,j]=(0,d.x)({personas:[],deleting:void 0,editing:void 0});(0,n.useEffect)(()=>{(null==i?void 0:i.type)===g.nq.RADIX_WALLET&&s("/")},[i]),(0,n.useEffect)(()=>{j(e=>{e.personas=Object.values(a)})},[a]);let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";j(s=>{s.editing=e})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.e,{children:[(0,t.jsx)(h.A,{title:e.formatMessage(X.title),subTitle:e.formatMessage(X.subtitle)}),(0,t.jsxs)(o.x,{display:"flex",flexDirection:"column",gap:"small",children:[(0,t.jsx)(o.x,{paddingBottom:"medium",children:(0,t.jsx)(u.z,{styleVariant:"primary",leftIcon:(0,t.jsx)(c.Z,{}),onClick:()=>y(),children:e.formatMessage(X.new_persona)})}),(0,t.jsx)(L,{data:m.personas,onEdit:y,onDelete:e=>{j(s=>{s.deleting=e})}})]})]}),(0,t.jsx)(b,{identityAddress:m.deleting,onClose:()=>{j(e=>{e.deleting=void 0})}}),(0,t.jsx)(Y,{identityAddress:m.editing,onClose:()=>{j(e=>{e.editing=void 0})}})]})}},50168:function(){}}]);