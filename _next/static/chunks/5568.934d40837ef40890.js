(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5568],{64664:function(e,a,s){"use strict";s.d(a,{V:function(){return g}});var t=s(52322);s(2784);var l=s(83112),i=s(18917),r=s(12348),d=s(10455),n=s(28694),o=s(43789),f=s(26810),c=s(16163),m=s(16803),u=s(2509);let g=e=>{var a,s;let{address:g,change:x,reversed:v,size:h="xlarge"}=e,b=(0,l.Z)(),{data:_,isLoading:p}=(0,c.p)(g),j=(0,m.vK)("name",null==_?void 0:null===(a=_.metadata)||void 0===a?void 0:a.items),y=(0,m.vK)("symbol",null==_?void 0:null===(s=_.metadata)||void 0===s?void 0:s.items),N=(null==y?void 0:y.toUpperCase())||j||(0,u.Q)(g),w=x?b.formatNumber(x,{style:"decimal",maximumFractionDigits:18,signDisplay:"always"}):"";return p?(0,t.jsx)(r.hW,{}):(0,t.jsxs)(i.x,{display:"flex",flexDirection:v?"row-reverse":"row",gap:"small",alignItems:"center",children:[(0,t.jsx)(d.H,{address:g,size:h}),(0,t.jsxs)(i.x,{display:"flex",flexDirection:"column",flexShrink:0,children:[N&&(0,t.jsx)(o.Z,{align:v?"right":"left",color:"strong",weight:"medium",size:"xsmall",truncate:!0,children:N}),x&&(0,t.jsx)(n.eE,{message:w,children:(0,t.jsx)(i.x,{children:(0,t.jsx)(f.Z,{align:v?"right":"left",color:"strong",size:"xsmall",truncate:!0,change:x,children:w})})})]})]})}},80793:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return D}});var t=s(52322),l=s(2784),i=s(49177),r=s(83112),d=s(73557),n=s(39857),o=s(18917),f=s(21593),c=s(65475),m=s(41333),u=s(91206),g=s(68220),x=s(6277),v=s(12348),h=s(10455),b=s(64664),_=s(28694),p=s(43789),j=s(26810),y=s(16163),N=s(38465),w=s(16803);s(41486),s(8144),s(66786),s(17215);var M="_1giim4ad _5baftfda _5baftfg _5baftf11 _5baftf2g",z="_1giim4ab _5baftfg _5baftfe _5baftf11 _5baftfg5 _5baftf1y";let Z=e=>{var a;let{value:s,row:{original:i}}=e,{pool:d,amount:n,change:f,value:c}=i,m=(0,r.Z)(),{currency:u}=(0,N.Z)(e=>({currency:e.currency})),{data:g}=(0,y.p)(d),{data:Z,isLoading:H}=(0,y.p)(s),C=(0,w.vK)("name",null==Z?void 0:null===(a=Z.metadata)||void 0===a?void 0:a.items),F=(0,l.useMemo)(()=>{var e,a,s;return(null==g?void 0:null===(e=g.details)||void 0===e?void 0:e.type)==="Component"&&(null===(a=null==g?void 0:null===(s=g.details)||void 0===s?void 0:s.state)||void 0===a?void 0:a.vaults.map(e=>e.resource_address))||[]},[g]);return H?(0,t.jsx)(v.hW,{}):(0,t.jsx)(o.x,{className:"_1giim4a1 _5baftf4",children:(0,t.jsxs)(o.x,{className:(0,x.Z)("_1giim4a3 _5baftf4 _5baftfg _5baftf1v _5baftffm _5baftf2j","td-cell"),children:[(0,t.jsx)(h.H,{size:{mobile:"large",tablet:"large"},address:null==Z?void 0:Z.address}),(0,t.jsxs)(o.x,{className:"_1giim4a7 _5baftfg _5baftf2m _5baftf1v _5baftfg5",children:[(0,t.jsxs)(o.x,{className:"_1giim4a9 _5baftfg _5baftf11 _5baftfg5",children:[(0,t.jsx)(_.eE,{message:C,children:(0,t.jsx)(o.x,{children:(0,t.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",children:C})})}),n&&(0,t.jsx)(o.x,{children:(0,t.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"xsmall",truncate:!0,className:"_1giim4af _5baftfg _5baftfe",children:m.formatNumber(Number.parseFloat(n),{style:"decimal",maximumFractionDigits:18})})})]}),(0,t.jsx)(o.x,{className:z,children:(0,t.jsx)(o.x,{className:M,children:F.map(e=>(0,t.jsx)(b.V,{address:e,size:"small"},e))})}),(0,t.jsx)(o.x,{className:z,children:(0,t.jsxs)(o.x,{className:M,children:[(0,t.jsx)(p.Z,{capitalizeFirstLetter:!0,size:"small",color:"strong",truncate:!0,weight:"medium",align:"right",children:c&&m.formatNumber(c,{style:"currency",currency:u})}),(0,t.jsx)(j.Z,{change:f,capitalizeFirstLetter:!0,size:"xsmall",color:"strong",truncate:!0,weight:"medium",align:"right",children:f&&m.formatNumber(f,{style:"percent",maximumFractionDigits:2})})]})})]})]})})};var H=s(4897),C=s(51095),F=s(23317),k=s(85056);s(63426);let S=e=>{let{row:{original:a}}=e,{pool:s,amount:i,address:d}=a,n=(0,r.Z)(),{data:f}=(0,y.p)(d),{data:c,isLoading:m}=(0,y.p)(s),u=(0,l.useMemo)(()=>null==c?void 0:c.fungible_resources.items.reduce((e,a)=>{let{resource_address:s,vaults:t}=a;return e[s]=t.items.reduce((e,a)=>{let{amount:s}=a;return e.add((0,k.gH)(s).value)},(0,k.gH)(0).value).add(e[s]||0),e},{}),[c]),g=(0,l.useMemo)(()=>{var e;return(0,k.gH)(i).value.div((null===(e=null==f?void 0:f.details)||void 0===e?void 0:e.total_supply)||0)},[i,f]);return m?(0,t.jsx)(v.hW,{}):(0,t.jsx)(o.x,{className:"f4797i1 _5baftf4",children:(0,t.jsx)(o.x,{className:(0,x.Z)("f4797i3 _5baftf4 _5baftfg _5baftf1v _5baftffm _5baftf11 _5baftf2g","td-cell"),children:Object.keys(u).map(e=>{let a=n.formatNumber(g.mul(u[e]).toNumber(),{style:"decimal",maximumFractionDigits:18});return(0,t.jsx)(_.eE,{message:a,children:(0,t.jsxs)(o.x,{display:"flex",gap:"xsmall",width:"full",children:[(0,t.jsxs)(o.x,{display:"flex",flexShrink:0,children:[(0,t.jsx)(b.V,{address:e,size:"small"})," \xa0-"," "]}),(0,t.jsx)(p.Z,{size:"small",color:"strong",truncate:!0,children:a})]})},e)})})})};s(90633);let V=e=>{let{value:a}=e,{data:s,isLoading:i}=(0,y.p)(a),r=(0,l.useMemo)(()=>{var e,a,t;return(null==s?void 0:null===(e=s.details)||void 0===e?void 0:e.type)==="Component"&&(null===(a=null==s?void 0:null===(t=s.details)||void 0===t?void 0:t.state)||void 0===a?void 0:a.vaults.map(e=>e.resource_address))||[]},[s]);return i?(0,t.jsx)(v.hW,{}):(0,t.jsx)(o.x,{className:"mnnqss1 _5baftf4",children:(0,t.jsx)(o.x,{className:(0,x.Z)("mnnqss3 _5baftf4 _5baftfg _5baftf1v _5baftffm _5baftf2m","td-cell"),children:(0,t.jsx)(o.x,{className:"mnnqss7 _5baftfg _5baftf2m _5baftfg5",children:(0,t.jsx)(o.x,{className:"mnnqss9 _5baftfg _5baftf11 _5baftfg5",gap:"xsmall",children:r.map(e=>(0,t.jsx)(b.V,{address:e,size:"small"},e))})})})})},q=(0,i.vU)({address:{id:"+ZvWOP",defaultMessage:"Pool Unit"},pool:{id:"11oARw",defaultMessage:"Pool"},amount:{id:"H5+NAX",defaultMessage:"Balance"},value:{id:"GufXy5",defaultMessage:"Value"},change:{id:"BY343C",defaultMessage:"Change"},liquidity:{id:"ctieLo",defaultMessage:"Liquidity"},empty_title:{id:"jHJmjf",defaultMessage:"No results"},empty_subtitle:{id:"7EL6GH",defaultMessage:"Could not find any pool units in this account"}});var D=()=>{let e=(0,r.Z)(),a=(0,d.s0)(),{scrollableNode:s,isScrolledTop:i}=(0,f.v)(),{accountId:x,resourceId:v}=(0,d.UO)(),[h]=(0,n.lr)(),b=(0,u.H)(),{data:_,isLoading:p}=(0,m.ln)(...b),{poolUnitsBalances:j=[]}=_||{},y=(0,l.useMemo)(()=>{let e=j.findIndex(e=>e.address===v);return e>=0?{[e]:!0}:{}},[v,j]),N=(0,l.useMemo)(()=>[{Header:e.formatMessage(q.address),accessor:"address",width:"20%",Cell:Z},{Header:e.formatMessage(q.pool),accessor:"pool",width:"10%",Cell:V},{Header:e.formatMessage(q.amount),accessor:"amount",width:"auto",Cell:g.a},{Header:e.formatMessage(q.liquidity),accessor:"vaults",width:"auto",Cell:S},{Header:e.formatMessage(q.value),accessor:"value",width:"12%",Cell:F.g},{Header:e.formatMessage(q.change),accessor:"change",width:"12%",Cell:C.V}],[]);return(0,t.jsx)(o.x,{className:H.X,children:(0,t.jsx)(c.u,{emptyStateTitle:e.formatMessage(q.empty_title),emptyStateSubTitle:e.formatMessage(q.empty_subtitle),styleVariant:"primary",sizeVariant:"large",scrollableNode:null!=s?s:void 0,data:j,columns:N,isScrolledTop:i,onRowSelected:e=>{let{original:s}=e;a("/accounts/".concat(x,"/pool-units/").concat(s.address,"?").concat(h))},loading:p,selectedRowIds:y,stickyShadowTop:!0})})}},17215:function(){},63426:function(){},90633:function(){}}]);